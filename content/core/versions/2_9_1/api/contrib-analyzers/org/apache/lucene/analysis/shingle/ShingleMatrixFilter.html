<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Tue Nov 03 04:38:13 EST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<TITLE>
ShingleMatrixFilter (Lucene 2.9.1 API)
</TITLE>

<META NAME="date" CONTENT="2009-11-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ShingleMatrixFilter (Lucene 2.9.1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ShingleMatrixFilter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleFilter.html" title="class in org.apache.lucene.analysis.shingle"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ShingleMatrixFilter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.lucene.analysis.shingle</FONT>
<BR>
Class ShingleMatrixFilter</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by ">org.apache.lucene.util.AttributeSource
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by ">org.apache.lucene.analysis.TokenStream
          <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.lucene.analysis.shingle.ShingleMatrixFilter</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ShingleMatrixFilter</B><DT>extends org.apache.lucene.analysis.TokenStream</DL>
</PRE>

<P>
<p>A ShingleMatrixFilter constructs shingles (token n-grams) from a token stream.
 In other words, it creates combinations of tokens as a single token.

 <p>For example, the sentence "please divide this sentence into shingles"
 might be tokenized into shingles "please divide", "divide this",
 "this sentence", "sentence into", and "into shingles".

 <p>Using a shingle filter at index and query time can in some instances
 be used to replace phrase queries, especially them with 0 slop.

 <p>Without a spacer character
 it can be used to handle composition and decomposition of words
 such as searching for "multi dimensional" instead of "multidimensional".
 It is a rather common human problem at query time
 in several languages, notably the northern Germanic branch.

 <p>Shingles are amongst many things also known to solve problems
 in spell checking, language detection and document clustering.

 <p>This filter is backed by a three dimensional column oriented matrix
 used to create permutations of the second dimension, the rows,
 and leaves the third, the z-axis, for for multi token synonyms.

 <p>In order to use this filter you need to define a way of positioning
 the input stream tokens in the matrix. This is done using a
 <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.TokenSettingsCodec</CODE></A>.
 There are three simple implementations for demonstrational purposes,
 see <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.OneDimensionalNonWeightedTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.OneDimensionalNonWeightedTokenSettingsCodec</CODE></A>,
 <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TwoDimensionalNonWeightedSynonymTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.TwoDimensionalNonWeightedSynonymTokenSettingsCodec</CODE></A>
 and <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.SimpleThreeDimensionalTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.SimpleThreeDimensionalTokenSettingsCodec</CODE></A>.

 <p>Consider this token matrix:
 <pre>
  Token[column][row][z-axis]{
    {{hello}, {greetings, and, salutations}},
    {{world}, {earth}, {tellus}}
  };
 </pre>

 It would produce the following 2-3 gram sized shingles:

 <pre>
 "hello_world"
 "greetings_and"
 "greetings_and_salutations"
 "and_salutations"
 "and_salutations_world"
 "salutations_world"
 "hello_earth"
 "and_salutations_earth"
 "salutations_earth"
 "hello_tellus"
 "and_salutations_tellus"
 "salutations_tellus"
  </pre>

 <p>This implementation can be rather heap demanding
 if (maximum shingle size - minimum shingle size) is a great number and the stream contains many columns,
 or if each column contains a great number of rows.

 <p>The problem is that in order avoid producing duplicates
 the filter needs to keep track of any shingle already produced and returned to the consumer.

 There is a bit of resource management to handle this
 but it would of course be much better if the filter was written
 so it never created the same shingle more than once in the first place.

 <p>The filter also has basic support for calculating weights for the shingles
 based on the weights of the tokens from the input stream, output shingle size, etc.
 See <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#calculateShingleWeight(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)"><CODE>calculateShingleWeight(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)</CODE></A>.
 <p/>
 <b>NOTE:</b> This filter might not behave correctly if used with custom Attributes, i.e. Attributes other than
 the ones located in org.apache.lucene.analysis.tokenattributes.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A column focused matrix in three dimensions:</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.OneDimensionalNonWeightedTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.OneDimensionalNonWeightedTokenSettingsCodec</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using this codec makes a <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter</CODE></A> act like <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleFilter.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleFilter</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.SimpleThreeDimensionalTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.SimpleThreeDimensionalTokenSettingsCodec</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A full featured codec not to be used for something serious.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenPositioner.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenPositioner</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to describe how a <CODE>Token</CODE> is to be inserted to a <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.Matrix</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Strategy used to code and decode meta data of the tokens from the input stream
 regarding how to position the tokens in the matrix, set and retreive weight, et c.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TwoDimensionalNonWeightedSynonymTokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TwoDimensionalNonWeightedSynonymTokenSettingsCodec</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A codec that creates a two dimensional matrix
 by treating tokens from the input stream with 0 position increment
 as new rows to the current column.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.apache.lucene.util.AttributeSource"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class org.apache.lucene.util.AttributeSource</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>org.apache.lucene.util.AttributeSource.AttributeFactory, org.apache.lucene.util.AttributeSource.State</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSettingsCodec">defaultSettingsCodec</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSpacerCharacter">defaultSpacerCharacter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ignoringSinglePrefixOrSuffixShingleByDefault">ignoringSinglePrefixOrSuffixShingleByDefault</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ShingleMatrixFilter(org.apache.lucene.analysis.shingle.ShingleMatrixFilter.Matrix, int, int, java.lang.Character, boolean, org.apache.lucene.analysis.shingle.ShingleMatrixFilter.TokenSettingsCodec)">ShingleMatrixFilter</A></B>(<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A>&nbsp;matrix,
                    int&nbsp;minimumShingleSize,
                    int&nbsp;maximumShingleSize,
                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                    boolean&nbsp;ignoringSinglePrefixOrSuffixShingle,
                    <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A>&nbsp;settingsCodec)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a shingle filter based on a user defined matrix.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int)">ShingleMatrixFilter</A></B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                    int&nbsp;minimumShingleSize,
                    int&nbsp;maximumShingleSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a shingle filter using default settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character)">ShingleMatrixFilter</A></B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                    int&nbsp;minimumShingleSize,
                    int&nbsp;maximumShingleSize,
                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a shingle filter using default settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character, boolean)">ShingleMatrixFilter</A></B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                    int&nbsp;minimumShingleSize,
                    int&nbsp;maximumShingleSize,
                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                    boolean&nbsp;ignoringSinglePrefixOrSuffixShingle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a shingle filter using the default <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.TokenSettingsCodec</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character, boolean, org.apache.lucene.analysis.shingle.ShingleMatrixFilter.TokenSettingsCodec)">ShingleMatrixFilter</A></B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                    int&nbsp;minimumShingleSize,
                    int&nbsp;maximumShingleSize,
                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                    boolean&nbsp;ignoringSinglePrefixOrSuffixShingle,
                    <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A>&nbsp;settingsCodec)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a shingle filter with ad hoc parameter settings.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;float</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#calculateShingleWeight(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)">calculateShingleWeight</A></B>(org.apache.lucene.analysis.Token&nbsp;shingleToken,
                       <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;shingle,
                       int&nbsp;currentPermutationStartOffset,
                       <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermutationRows,
                       <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermuationTokens)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluates the new shingle token weight.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#getMatrix()">getMatrix</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#getMaximumShingleSize()">getMaximumShingleSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#getMinimumShingleSize()">getMinimumShingleSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#getSpacerCharacter()">getSpacerCharacter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#incrementToken()">incrementToken</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#isIgnoringSinglePrefixOrSuffixShingle()">isIgnoringSinglePrefixOrSuffixShingle</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.lucene.analysis.Token</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#next()">next</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Will be removed in Lucene 3.0. This method is final, as it should
 not be overridden. Delegates to the backwards compatibility layer.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.lucene.analysis.Token</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#next(org.apache.lucene.analysis.Token)">next</A></B>(org.apache.lucene.analysis.Token&nbsp;reusableToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Will be removed in Lucene 3.0. This method is final, as it should
 not be overridden. Delegates to the backwards compatibility layer.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#setIgnoringSinglePrefixOrSuffixShingle(boolean)">setIgnoringSinglePrefixOrSuffixShingle</A></B>(boolean&nbsp;ignoringSinglePrefixOrSuffixShingle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#setMatrix(org.apache.lucene.analysis.shingle.ShingleMatrixFilter.Matrix)">setMatrix</A></B>(<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A>&nbsp;matrix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#setMaximumShingleSize(int)">setMaximumShingleSize</A></B>(int&nbsp;maximumShingleSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#setMinimumShingleSize(int)">setMinimumShingleSize</A></B>(int&nbsp;minimumShingleSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#setSpacerCharacter(java.lang.Character)">setSpacerCharacter</A></B>(<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#updateToken(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)">updateToken</A></B>(org.apache.lucene.analysis.Token&nbsp;token,
            <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;shingle,
            int&nbsp;currentPermutationStartOffset,
            <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermutationRows,
            <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermuationTokens)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Final touch of a shingle token before it is passed on to the consumer from method <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#next(org.apache.lucene.analysis.Token)"><CODE>next(org.apache.lucene.analysis.Token)</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.lucene.analysis.TokenStream"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.lucene.analysis.TokenStream</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>close, end, getOnlyUseNewAPI, setOnlyUseNewAPI</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.lucene.util.AttributeSource"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.lucene.util.AttributeSource</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>addAttribute, addAttributeImpl, captureState, clearAttributes, cloneAttributes, equals, getAttribute, getAttributeClassesIterator, getAttributeFactory, getAttributeImplsIterator, hasAttribute, hasAttributes, hashCode, restoreState, toString</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="defaultSpacerCharacter"><!-- --></A><H3>
defaultSpacerCharacter</H3>
<PRE>
public static <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A> <B>defaultSpacerCharacter</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="defaultSettingsCodec"><!-- --></A><H3>
defaultSettingsCodec</H3>
<PRE>
public static <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A> <B>defaultSettingsCodec</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="ignoringSinglePrefixOrSuffixShingleByDefault"><!-- --></A><H3>
ignoringSinglePrefixOrSuffixShingleByDefault</H3>
<PRE>
public static boolean <B>ignoringSinglePrefixOrSuffixShingleByDefault</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ShingleMatrixFilter(org.apache.lucene.analysis.shingle.ShingleMatrixFilter.Matrix, int, int, java.lang.Character, boolean, org.apache.lucene.analysis.shingle.ShingleMatrixFilter.TokenSettingsCodec)"><!-- --></A><H3>
ShingleMatrixFilter</H3>
<PRE>
public <B>ShingleMatrixFilter</B>(<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A>&nbsp;matrix,
                           int&nbsp;minimumShingleSize,
                           int&nbsp;maximumShingleSize,
                           <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                           boolean&nbsp;ignoringSinglePrefixOrSuffixShingle,
                           <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A>&nbsp;settingsCodec)</PRE>
<DL>
<DD>Creates a shingle filter based on a user defined matrix.

 The filter /will/ delete columns from the input matrix! You will not be able to reset the filter if you used this constructor.
 todo: don't touch the matrix! use a boolean, set the input stream to null or something, and keep track of where in the matrix we are at.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>matrix</CODE> - the input based for creating shingles. Does not need to contain any information until <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#next(org.apache.lucene.analysis.Token)"><CODE>next(org.apache.lucene.analysis.Token)</CODE></A> is called the first time.<DD><CODE>minimumShingleSize</CODE> - minimum number of tokens in any shingle.<DD><CODE>maximumShingleSize</CODE> - maximum number of tokens in any shingle.<DD><CODE>spacerCharacter</CODE> - character to use between texts of the token parts in a shingle. null for none.<DD><CODE>ignoringSinglePrefixOrSuffixShingle</CODE> - if true, shingles that only contains permutation of the first of the last column will not be produced as shingles. Useful when adding boundary marker tokens such as '^' and '$'.<DD><CODE>settingsCodec</CODE> - codec used to read input token weight and matrix positioning.</DL>
</DL>
<HR>

<A NAME="ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int)"><!-- --></A><H3>
ShingleMatrixFilter</H3>
<PRE>
public <B>ShingleMatrixFilter</B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                           int&nbsp;minimumShingleSize,
                           int&nbsp;maximumShingleSize)</PRE>
<DL>
<DD>Creates a shingle filter using default settings.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - stream from which to construct the matrix<DD><CODE>minimumShingleSize</CODE> - minimum number of tokens in any shingle.<DD><CODE>maximumShingleSize</CODE> - maximum number of tokens in any shingle.<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSpacerCharacter"><CODE>defaultSpacerCharacter</CODE></A>, 
<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ignoringSinglePrefixOrSuffixShingleByDefault"><CODE>ignoringSinglePrefixOrSuffixShingleByDefault</CODE></A>, 
<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSettingsCodec"><CODE>defaultSettingsCodec</CODE></A></DL>
</DL>
<HR>

<A NAME="ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character)"><!-- --></A><H3>
ShingleMatrixFilter</H3>
<PRE>
public <B>ShingleMatrixFilter</B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                           int&nbsp;minimumShingleSize,
                           int&nbsp;maximumShingleSize,
                           <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter)</PRE>
<DL>
<DD>Creates a shingle filter using default settings.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - stream from which to construct the matrix<DD><CODE>minimumShingleSize</CODE> - minimum number of tokens in any shingle.<DD><CODE>maximumShingleSize</CODE> - maximum number of tokens in any shingle.<DD><CODE>spacerCharacter</CODE> - character to use between texts of the token parts in a shingle. null for none.<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#ignoringSinglePrefixOrSuffixShingleByDefault"><CODE>ignoringSinglePrefixOrSuffixShingleByDefault</CODE></A>, 
<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSettingsCodec"><CODE>defaultSettingsCodec</CODE></A></DL>
</DL>
<HR>

<A NAME="ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character, boolean)"><!-- --></A><H3>
ShingleMatrixFilter</H3>
<PRE>
public <B>ShingleMatrixFilter</B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                           int&nbsp;minimumShingleSize,
                           int&nbsp;maximumShingleSize,
                           <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                           boolean&nbsp;ignoringSinglePrefixOrSuffixShingle)</PRE>
<DL>
<DD>Creates a shingle filter using the default <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle"><CODE>ShingleMatrixFilter.TokenSettingsCodec</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - stream from which to construct the matrix<DD><CODE>minimumShingleSize</CODE> - minimum number of tokens in any shingle.<DD><CODE>maximumShingleSize</CODE> - maximum number of tokens in any shingle.<DD><CODE>spacerCharacter</CODE> - character to use between texts of the token parts in a shingle. null for none.<DD><CODE>ignoringSinglePrefixOrSuffixShingle</CODE> - if true, shingles that only contains permutation of the first of the last column will not be produced as shingles. Useful when adding boundary marker tokens such as '^' and '$'.<DT><B>See Also:</B><DD><A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#defaultSettingsCodec"><CODE>defaultSettingsCodec</CODE></A></DL>
</DL>
<HR>

<A NAME="ShingleMatrixFilter(org.apache.lucene.analysis.TokenStream, int, int, java.lang.Character, boolean, org.apache.lucene.analysis.shingle.ShingleMatrixFilter.TokenSettingsCodec)"><!-- --></A><H3>
ShingleMatrixFilter</H3>
<PRE>
public <B>ShingleMatrixFilter</B>(org.apache.lucene.analysis.TokenStream&nbsp;input,
                           int&nbsp;minimumShingleSize,
                           int&nbsp;maximumShingleSize,
                           <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter,
                           boolean&nbsp;ignoringSinglePrefixOrSuffixShingle,
                           <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.TokenSettingsCodec.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.TokenSettingsCodec</A>&nbsp;settingsCodec)</PRE>
<DL>
<DD>Creates a shingle filter with ad hoc parameter settings.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - stream from which to construct the matrix<DD><CODE>minimumShingleSize</CODE> - minimum number of tokens in any shingle.<DD><CODE>maximumShingleSize</CODE> - maximum number of tokens in any shingle.<DD><CODE>spacerCharacter</CODE> - character to use between texts of the token parts in a shingle. null for none.<DD><CODE>ignoringSinglePrefixOrSuffixShingle</CODE> - if true, shingles that only contains permutation of the first of the last column will not be produced as shingles. Useful when adding boundary marker tokens such as '^' and '$'.<DD><CODE>settingsCodec</CODE> - codec used to read input token weight and matrix positioning.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
public void <B>reset</B>()
           throws <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>reset</CODE> in class <CODE>org.apache.lucene.analysis.TokenStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="incrementToken()"><!-- --></A><H3>
incrementToken</H3>
<PRE>
public final boolean <B>incrementToken</B>()
                             throws <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>incrementToken</CODE> in class <CODE>org.apache.lucene.analysis.TokenStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="next(org.apache.lucene.analysis.Token)"><!-- --></A><H3>
next</H3>
<PRE>
public final org.apache.lucene.analysis.Token <B>next</B>(org.apache.lucene.analysis.Token&nbsp;reusableToken)
                                            throws <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Will be removed in Lucene 3.0. This method is final, as it should
 not be overridden. Delegates to the backwards compatibility layer.</I>
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>next</CODE> in class <CODE>org.apache.lucene.analysis.TokenStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="next()"><!-- --></A><H3>
next</H3>
<PRE>
public final org.apache.lucene.analysis.Token <B>next</B>()
                                            throws <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Will be removed in Lucene 3.0. This method is final, as it should
 not be overridden. Delegates to the backwards compatibility layer.</I>
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>next</CODE> in class <CODE>org.apache.lucene.analysis.TokenStream</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.4/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateToken(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)"><!-- --></A><H3>
updateToken</H3>
<PRE>
public void <B>updateToken</B>(org.apache.lucene.analysis.Token&nbsp;token,
                        <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;shingle,
                        int&nbsp;currentPermutationStartOffset,
                        <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermutationRows,
                        <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermuationTokens)</PRE>
<DL>
<DD>Final touch of a shingle token before it is passed on to the consumer from method <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html#next(org.apache.lucene.analysis.Token)"><CODE>next(org.apache.lucene.analysis.Token)</CODE></A>.

 Calculates and sets type, flags, position increment, start/end offsets and weight.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - Shingle token<DD><CODE>shingle</CODE> - Tokens used to produce the shingle token.<DD><CODE>currentPermutationStartOffset</CODE> - Start offset in parameter currentPermutationTokens<DD><CODE>currentPermutationRows</CODE> - index to Matrix.Column.Row from the position of tokens in parameter currentPermutationTokens<DD><CODE>currentPermuationTokens</CODE> - tokens of the current permutation of rows in the matrix.</DL>
</DD>
</DL>
<HR>

<A NAME="calculateShingleWeight(org.apache.lucene.analysis.Token, java.util.List, int, java.util.List, java.util.List)"><!-- --></A><H3>
calculateShingleWeight</H3>
<PRE>
public float <B>calculateShingleWeight</B>(org.apache.lucene.analysis.Token&nbsp;shingleToken,
                                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;shingle,
                                    int&nbsp;currentPermutationStartOffset,
                                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermutationRows,
                                    <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&nbsp;currentPermuationTokens)</PRE>
<DL>
<DD>Evaluates the new shingle token weight.

 for (shingle part token in shingle)
 weight +=  shingle part token weight * (1 / sqrt(all shingle part token weights summed))

 This algorithm gives a slightly greater score for longer shingles
 and is rather penalising to great shingle token part weights.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>shingleToken</CODE> - token returned to consumer<DD><CODE>shingle</CODE> - tokens the tokens used to produce the shingle token.<DD><CODE>currentPermutationStartOffset</CODE> - start offset in parameter currentPermutationRows and currentPermutationTokens.<DD><CODE>currentPermutationRows</CODE> - an index to what matrix row a token in parameter currentPermutationTokens exist.<DD><CODE>currentPermuationTokens</CODE> - all tokens in the current row permutation of the matrix. A sub list (parameter offset, parameter shingle.size) equals parameter shingle.
<DT><B>Returns:</B><DD>weight to be set for parameter shingleToken</DL>
</DD>
</DL>
<HR>

<A NAME="getMinimumShingleSize()"><!-- --></A><H3>
getMinimumShingleSize</H3>
<PRE>
public int <B>getMinimumShingleSize</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMinimumShingleSize(int)"><!-- --></A><H3>
setMinimumShingleSize</H3>
<PRE>
public void <B>setMinimumShingleSize</B>(int&nbsp;minimumShingleSize)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMaximumShingleSize()"><!-- --></A><H3>
getMaximumShingleSize</H3>
<PRE>
public int <B>getMaximumShingleSize</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMaximumShingleSize(int)"><!-- --></A><H3>
setMaximumShingleSize</H3>
<PRE>
public void <B>setMaximumShingleSize</B>(int&nbsp;maximumShingleSize)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMatrix()"><!-- --></A><H3>
getMatrix</H3>
<PRE>
public <A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A> <B>getMatrix</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMatrix(org.apache.lucene.analysis.shingle.ShingleMatrixFilter.Matrix)"><!-- --></A><H3>
setMatrix</H3>
<PRE>
public void <B>setMatrix</B>(<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle">ShingleMatrixFilter.Matrix</A>&nbsp;matrix)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSpacerCharacter()"><!-- --></A><H3>
getSpacerCharacter</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A> <B>getSpacerCharacter</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSpacerCharacter(java.lang.Character)"><!-- --></A><H3>
setSpacerCharacter</H3>
<PRE>
public void <B>setSpacerCharacter</B>(<A HREF="http://java.sun.com/j2se/1.4/docs/api/java/lang/Character.html?is-external=true" title="class or interface in java.lang">Character</A>&nbsp;spacerCharacter)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isIgnoringSinglePrefixOrSuffixShingle()"><!-- --></A><H3>
isIgnoringSinglePrefixOrSuffixShingle</H3>
<PRE>
public boolean <B>isIgnoringSinglePrefixOrSuffixShingle</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setIgnoringSinglePrefixOrSuffixShingle(boolean)"><!-- --></A><H3>
setIgnoringSinglePrefixOrSuffixShingle</H3>
<PRE>
public void <B>setIgnoringSinglePrefixOrSuffixShingle</B>(boolean&nbsp;ignoringSinglePrefixOrSuffixShingle)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ShingleMatrixFilter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleFilter.html" title="class in org.apache.lucene.analysis.shingle"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/lucene/analysis/shingle/ShingleMatrixFilter.Matrix.html" title="class in org.apache.lucene.analysis.shingle"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/lucene/analysis/shingle/ShingleMatrixFilter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ShingleMatrixFilter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2000-2009 Apache Software Foundation.  All Rights Reserved.
</BODY>
</HTML>
