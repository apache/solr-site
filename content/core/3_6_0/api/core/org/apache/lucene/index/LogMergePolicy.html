<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Wed Apr 11 21:47:00 EDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>LogMergePolicy (Lucene 3.6.0 API)</title>
<meta name="date" content="2012-04-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LogMergePolicy (Lucene 3.6.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LogMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/LogDocMergePolicy.html" title="class in org.apache.lucene.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/LogMergePolicy.html" target="_top">Frames</a></li>
<li><a href="LogMergePolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.apache.lucene.index.MergePolicy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.index</div>
<h2 title="Class LogMergePolicy" class="title">Class LogMergePolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.MergePolicy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.LogMergePolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a>, <a href="../../../../org/apache/lucene/index/LogDocMergePolicy.html" title="class in org.apache.lucene.index">LogDocMergePolicy</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">LogMergePolicy</span>
extends <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></pre>
<div class="block"><p>This class implements a <a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><code>MergePolicy</code></a> that tries
  to merge segments into levels of exponentially
  increasing size, where each level has fewer segments than
  the value of the merge factor. Whenever extra segments
  (beyond the merge factor upper bound) are encountered,
  all segments within the level are merged. You can get or
  set the merge factor using <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getMergeFactor()"><code>getMergeFactor()</code></a> and
  <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)"><code>setMergeFactor(int)</code></a> respectively.</p>

  <p>This class is abstract and requires a subclass to
  define the <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#size(org.apache.lucene.index.SegmentInfo)"><code>size(org.apache.lucene.index.SegmentInfo)</code></a> method which specifies how a
  segment's size is determined.  <a href="../../../../org/apache/lucene/index/LogDocMergePolicy.html" title="class in org.apache.lucene.index"><code>LogDocMergePolicy</code></a>
  is one subclass that measures size by document count in
  the segment.  <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a> is another
  subclass that measures size as the total byte size of the
  file(s) for the segment.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeException.html" title="class in org.apache.lucene.index">MergePolicy.MergeException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#calibrateSizeByDeletes">calibrateSizeByDeletes</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_MAX_MERGE_DOCS">DEFAULT_MAX_MERGE_DOCS</a></strong></code>
<div class="block">Default maximum segment size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_MERGE_FACTOR">DEFAULT_MERGE_FACTOR</a></strong></code>
<div class="block">Default merge factor, which is how many segments are
  merged at a time</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_NO_CFS_RATIO">DEFAULT_NO_CFS_RATIO</a></strong></code>
<div class="block">Default noCFSRatio.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#LEVEL_LOG_SPAN">LEVEL_LOG_SPAN</a></strong></code>
<div class="block">Defines the allowed range of log(size) for each
  level.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeDocs">maxMergeDocs</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSize">maxMergeSize</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSizeForForcedMerge">maxMergeSizeForForcedMerge</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#mergeFactor">mergeFactor</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#minMergeSize">minMergeSize</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#noCFSRatio">noCFSRatio</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#useCompoundFile">useCompoundFile</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#writer">writer</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#LogMergePolicy()">LogMergePolicy</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#close()">close</a></strong>()</code>
<div class="block">Release all resources for the policy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">findForcedDeletesMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)</code>
<div class="block">Finds merges necessary to force-merge all deletes from the
 index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">findForcedMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                int&nbsp;maxNumSegments,
                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)</code>
<div class="block">Returns the merges necessary to merge the index down
  to a specified number of segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findMerges(org.apache.lucene.index.SegmentInfos)">findMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)</code>
<div class="block">Checks if any merges are now necessary and returns a
  <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if so.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getCalibrateSizeByDeletes()">getCalibrateSizeByDeletes</a></strong>()</code>
<div class="block">Returns true if the segment size should be calibrated 
  by the number of deletes when choosing segments for merge.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getMaxMergeDocs()">getMaxMergeDocs</a></strong>()</code>
<div class="block">Returns the largest segment (measured by document
  count) that may be merged with other segments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getMergeFactor()">getMergeFactor</a></strong>()</code>
<div class="block">Returns the number of segments that are merged at
 once and also controls the total number of segments
 allowed to accumulate in the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getNoCFSRatio()">getNoCFSRatio</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getUseCompoundFile()">getUseCompoundFile</a></strong>()</code>
<div class="block">Returns true if newly flushed and newly merge segments
  are written in compound file format.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#isMerged(org.apache.lucene.index.SegmentInfo)">isMerged</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)</code>
<div class="block">Returns true if this single info is already fully merged (has no
  pending norms or deletes, is in the same dir as the
  writer, and matches the current compound file setting</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#isMerged(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">isMerged</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
        int&nbsp;maxNumSegments,
        <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#message(java.lang.String)">message</a></strong>(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setCalibrateSizeByDeletes(boolean)">setCalibrateSizeByDeletes</a></strong>(boolean&nbsp;calibrateSizeByDeletes)</code>
<div class="block">Sets whether the segment size should be calibrated by
  the number of deletes when choosing segments for merge.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMaxMergeDocs(int)">setMaxMergeDocs</a></strong>(int&nbsp;maxMergeDocs)</code>
<div class="block">Determines the largest segment (measured by
 document count) that may be merged with other segments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)">setMergeFactor</a></strong>(int&nbsp;mergeFactor)</code>
<div class="block">Determines how often segment indices are merged by
 addDocument().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setNoCFSRatio(double)">setNoCFSRatio</a></strong>(double&nbsp;noCFSRatio)</code>
<div class="block">If a merged segment will be more than this percentage
  of the total size of the index, leave the segment as
  non-compound file even if compound file is enabled.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setUseCompoundFile(boolean)">setUseCompoundFile</a></strong>(boolean&nbsp;useCompoundFile)</code>
<div class="block">Sets whether compound file format should be used for
  newly flushed and newly merged segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#size(org.apache.lucene.index.SegmentInfo)">size</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#sizeBytes(org.apache.lucene.index.SegmentInfo)">sizeBytes</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#sizeDocs(org.apache.lucene.index.SegmentInfo)">sizeDocs</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#useCompoundFile(org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.SegmentInfo)">useCompoundFile</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
               <a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;mergedInfo)</code>
<div class="block">Returns true if a new segment (regardless of its origin) should use the compound file format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#verbose()">verbose</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#setIndexWriter(org.apache.lucene.index.IndexWriter)">setIndexWriter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LEVEL_LOG_SPAN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEVEL_LOG_SPAN</h4>
<pre>public static final&nbsp;double LEVEL_LOG_SPAN</pre>
<div class="block">Defines the allowed range of log(size) for each
  level.  A level is computed by taking the max segment
  log size, minus LEVEL_LOG_SPAN, and finding all
  segments falling within that range.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.LEVEL_LOG_SPAN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_MERGE_FACTOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MERGE_FACTOR</h4>
<pre>public static final&nbsp;int DEFAULT_MERGE_FACTOR</pre>
<div class="block">Default merge factor, which is how many segments are
  merged at a time</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_MERGE_FACTOR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_MAX_MERGE_DOCS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_MERGE_DOCS</h4>
<pre>public static final&nbsp;int DEFAULT_MAX_MERGE_DOCS</pre>
<div class="block">Default maximum segment size.  A segment of this size
  or larger will never be merged.  @see setMaxMergeDocs</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_MAX_MERGE_DOCS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_NO_CFS_RATIO">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_NO_CFS_RATIO</h4>
<pre>public static final&nbsp;double DEFAULT_NO_CFS_RATIO</pre>
<div class="block">Default noCFSRatio.  If a merge's size is >= 10% of
  the index, then we disable compound file for it.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setNoCFSRatio(double)"><code>setNoCFSRatio(double)</code></a>, 
<a href="../../../../constant-values.html#org.apache.lucene.index.LogMergePolicy.DEFAULT_NO_CFS_RATIO">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="mergeFactor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeFactor</h4>
<pre>protected&nbsp;int mergeFactor</pre>
</li>
</ul>
<a name="minMergeSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minMergeSize</h4>
<pre>protected&nbsp;long minMergeSize</pre>
</li>
</ul>
<a name="maxMergeSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeSize</h4>
<pre>protected&nbsp;long maxMergeSize</pre>
</li>
</ul>
<a name="maxMergeSizeForForcedMerge">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeSizeForForcedMerge</h4>
<pre>protected&nbsp;long maxMergeSizeForForcedMerge</pre>
</li>
</ul>
<a name="maxMergeDocs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxMergeDocs</h4>
<pre>protected&nbsp;int maxMergeDocs</pre>
</li>
</ul>
<a name="noCFSRatio">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noCFSRatio</h4>
<pre>protected&nbsp;double noCFSRatio</pre>
</li>
</ul>
<a name="calibrateSizeByDeletes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calibrateSizeByDeletes</h4>
<pre>protected&nbsp;boolean calibrateSizeByDeletes</pre>
</li>
</ul>
<a name="useCompoundFile">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>useCompoundFile</h4>
<pre>protected&nbsp;boolean useCompoundFile</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LogMergePolicy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LogMergePolicy</h4>
<pre>public&nbsp;LogMergePolicy()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="verbose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verbose</h4>
<pre>protected&nbsp;boolean&nbsp;verbose()</pre>
</li>
</ul>
<a name="getNoCFSRatio()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoCFSRatio</h4>
<pre>public&nbsp;double&nbsp;getNoCFSRatio()</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setNoCFSRatio(double)"><code>setNoCFSRatio(double)</code></a></dd></dl>
</li>
</ul>
<a name="setNoCFSRatio(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoCFSRatio</h4>
<pre>public&nbsp;void&nbsp;setNoCFSRatio(double&nbsp;noCFSRatio)</pre>
<div class="block">If a merged segment will be more than this percentage
  of the total size of the index, leave the segment as
  non-compound file even if compound file is enabled.
  Set to 1.0 to always use CFS regardless of merge
  size.</div>
</li>
</ul>
<a name="message(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>message</h4>
<pre>protected&nbsp;void&nbsp;message(<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
</li>
</ul>
<a name="getMergeFactor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMergeFactor</h4>
<pre>public&nbsp;int&nbsp;getMergeFactor()</pre>
<div class="block"><p>Returns the number of segments that are merged at
 once and also controls the total number of segments
 allowed to accumulate in the index.</p></div>
</li>
</ul>
<a name="setMergeFactor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMergeFactor</h4>
<pre>public&nbsp;void&nbsp;setMergeFactor(int&nbsp;mergeFactor)</pre>
<div class="block">Determines how often segment indices are merged by
 addDocument().  With smaller values, less RAM is used
 while indexing, and searches are
 faster, but indexing speed is slower.  With larger
 values, more RAM is used during indexing, and while
 searches is slower, indexing is
 faster.  Thus larger values (> 10) are best for batch
 index creation, and smaller values (< 10) for indices
 that are interactively maintained.</div>
</li>
</ul>
<a name="useCompoundFile(org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useCompoundFile</h4>
<pre>public&nbsp;boolean&nbsp;useCompoundFile(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                      <a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;mergedInfo)
                        throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#useCompoundFile(org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.SegmentInfo)">MergePolicy</a></code></strong></div>
<div class="block">Returns true if a new segment (regardless of its origin) should use the compound file format.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#useCompoundFile(org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.SegmentInfo)">useCompoundFile</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setUseCompoundFile(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseCompoundFile</h4>
<pre>public&nbsp;void&nbsp;setUseCompoundFile(boolean&nbsp;useCompoundFile)</pre>
<div class="block">Sets whether compound file format should be used for
  newly flushed and newly merged segments.</div>
</li>
</ul>
<a name="getUseCompoundFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUseCompoundFile</h4>
<pre>public&nbsp;boolean&nbsp;getUseCompoundFile()</pre>
<div class="block">Returns true if newly flushed and newly merge segments
  are written in compound file format. @see
  #setUseCompoundFile</div>
</li>
</ul>
<a name="setCalibrateSizeByDeletes(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCalibrateSizeByDeletes</h4>
<pre>public&nbsp;void&nbsp;setCalibrateSizeByDeletes(boolean&nbsp;calibrateSizeByDeletes)</pre>
<div class="block">Sets whether the segment size should be calibrated by
  the number of deletes when choosing segments for merge.</div>
</li>
</ul>
<a name="getCalibrateSizeByDeletes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCalibrateSizeByDeletes</h4>
<pre>public&nbsp;boolean&nbsp;getCalibrateSizeByDeletes()</pre>
<div class="block">Returns true if the segment size should be calibrated 
  by the number of deletes when choosing segments for merge.</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#close()">MergePolicy</a></code></strong></div>
<div class="block">Release all resources for the policy.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
</dl>
</li>
</ul>
<a name="size(org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>protected abstract&nbsp;long&nbsp;size(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)
                      throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sizeDocs(org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeDocs</h4>
<pre>protected&nbsp;long&nbsp;sizeDocs(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)
                 throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sizeBytes(org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeBytes</h4>
<pre>protected&nbsp;long&nbsp;sizeBytes(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)
                  throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isMerged(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMerged</h4>
<pre>protected&nbsp;boolean&nbsp;isMerged(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
               int&nbsp;maxNumSegments,
               <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)
                    throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isMerged(org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMerged</h4>
<pre>protected&nbsp;boolean&nbsp;isMerged(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)
                    throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns true if this single info is already fully merged (has no
  pending norms or deletes, is in the same dir as the
  writer, and matches the current compound file setting</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                              int&nbsp;maxNumSegments,
                                              <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)
                                                throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the merges necessary to merge the index down
  to a specified number of segments.
  This respects the <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSizeForForcedMerge"><code>maxMergeSizeForForcedMerge</code></a> setting.
  By default, and assuming <code>maxNumSegments=1</code>, only
  one segment will be left in the index, where that segment
  has no deletions pending nor separate norms, and it is in
  compound file format if the current useCompoundFile
  setting is true.  This method returns multiple merges
  (mergeFactor at a time) so the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a>
  in use may make use of concurrency.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">findForcedMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>infos</code> - the total set of segments in the index</dd><dd><code>maxNumSegments</code> - requested maximum number of segments in the index (currently this
          is always 1)</dd><dd><code>segmentsToMerge</code> - contains the specific SegmentInfo instances that must be merged
          away. This may be a subset of all
          SegmentInfos.  If the value is True for a
          given SegmentInfo, that means this segment was
          an original segment present in the
          to-be-merged index; else, it was a segment
          produced by a cascaded merge.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedDeletesMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedDeletesMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;segmentInfos)
                                                       throws <a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a>,
                                                              <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Finds merges necessary to force-merge all deletes from the
 index.  We simply merge adjacent segments that have
 deletes, up to mergeFactor at a time.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">findForcedDeletesMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>segmentInfos</code> - the total set of segments in the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="findMerges(org.apache.lucene.index.SegmentInfos)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)
                                          throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks if any merges are now necessary and returns a
  <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if so.  A merge
  is necessary when there are more than <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)"><code>setMergeFactor(int)</code></a> segments at a given level.  When
  multiple levels have too many segments, this method
  will return multiple merges, allowing the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> to use concurrency.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/MergePolicy.html#findMerges(org.apache.lucene.index.SegmentInfos)">findMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>infos</code> - the total set of segments in the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setMaxMergeDocs(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxMergeDocs</h4>
<pre>public&nbsp;void&nbsp;setMaxMergeDocs(int&nbsp;maxMergeDocs)</pre>
<div class="block"><p>Determines the largest segment (measured by
 document count) that may be merged with other segments.
 Small values (e.g., less than 10,000) are best for
 interactive indexing, as this limits the length of
 pauses while indexing to a few seconds.  Larger values
 are best for batched indexing and speedier
 searches.</p>

 <p>The default value is <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Integer.html?is-external=true#MAX_VALUE" title="class or interface in java.lang"><code>Integer.MAX_VALUE</code></a>.</p>

 <p>The default merge policy (<a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index"><code>LogByteSizeMergePolicy</code></a>) also allows you to set this
 limit by net size (in MB) of the segment, using <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#setMaxMergeMB(double)"><code>LogByteSizeMergePolicy.setMaxMergeMB(double)</code></a>.</p></div>
</li>
</ul>
<a name="getMaxMergeDocs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxMergeDocs</h4>
<pre>public&nbsp;int&nbsp;getMaxMergeDocs()</pre>
<div class="block">Returns the largest segment (measured by document
  count) that may be merged with other segments.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMaxMergeDocs(int)"><code>setMaxMergeDocs(int)</code></a></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LogMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/LogDocMergePolicy.html" title="class in org.apache.lucene.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/LogMergePolicy.html" target="_top">Frames</a></li>
<li><a href="LogMergePolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.apache.lucene.index.MergePolicy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <script src='../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
