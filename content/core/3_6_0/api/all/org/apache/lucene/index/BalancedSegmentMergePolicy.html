<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Wed Apr 11 21:46:50 EDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>BalancedSegmentMergePolicy (Lucene 3.6.0 API)</title>
<meta name="date" content="2012-04-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BalancedSegmentMergePolicy (Lucene 3.6.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BalancedSegmentMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/AbstractAllTermDocs.html" title="class in org.apache.lucene.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.MergePolicyParams.html" title="class in org.apache.lucene.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/BalancedSegmentMergePolicy.html" target="_top">Frames</a></li>
<li><a href="BalancedSegmentMergePolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.index</div>
<h2 title="Class BalancedSegmentMergePolicy" class="title">Class BalancedSegmentMergePolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.MergePolicy</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.LogMergePolicy</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">org.apache.lucene.index.LogByteSizeMergePolicy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.BalancedSegmentMergePolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">BalancedSegmentMergePolicy</span>
extends <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a></pre>
<div class="block">Merge policy that tries to balance not doing large
 segment merges with not accumulating too many segments in
 the index, to provide for better performance in near
 real-time setting.

 <p>This is based on code from zoie, described in more detail
 at http://code.google.com/p/zoie/wiki/ZoieMergePolicy.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.MergePolicyParams.html" title="class in org.apache.lucene.index">BalancedSegmentMergePolicy.MergePolicyParams</a></strong></code>
<div class="block">Specifies configuration parameters for BalancedSegmentMergePolicy.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeException.html" title="class in org.apache.lucene.index">MergePolicy.MergeException</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>, <a href="../../../../org/apache/lucene/index/MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#DEFAULT_NUM_LARGE_SEGMENTS">DEFAULT_NUM_LARGE_SEGMENTS</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.lucene.index.LogByteSizeMergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#DEFAULT_MAX_MERGE_MB">DEFAULT_MAX_MERGE_MB</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#DEFAULT_MAX_MERGE_MB_FOR_FORCED_MERGE">DEFAULT_MAX_MERGE_MB_FOR_FORCED_MERGE</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#DEFAULT_MIN_MERGE_MB">DEFAULT_MIN_MERGE_MB</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.lucene.index.LogMergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#calibrateSizeByDeletes">calibrateSizeByDeletes</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_MAX_MERGE_DOCS">DEFAULT_MAX_MERGE_DOCS</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_MERGE_FACTOR">DEFAULT_MERGE_FACTOR</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#DEFAULT_NO_CFS_RATIO">DEFAULT_NO_CFS_RATIO</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#LEVEL_LOG_SPAN">LEVEL_LOG_SPAN</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeDocs">maxMergeDocs</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSize">maxMergeSize</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSizeForForcedMerge">maxMergeSizeForForcedMerge</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#mergeFactor">mergeFactor</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#minMergeSize">minMergeSize</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#noCFSRatio">noCFSRatio</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#useCompoundFile">useCompoundFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#writer">writer</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#BalancedSegmentMergePolicy()">BalancedSegmentMergePolicy</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">findForcedDeletesMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)</code>
<div class="block">Finds merges necessary to force-merge all deletes from the
 index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">findForcedMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                int&nbsp;maxNumSegments,
                <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)</code>
<div class="block">Returns the merges necessary to merge the index down
  to a specified number of segments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#findMerges(org.apache.lucene.index.SegmentInfos)">findMerges</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)</code>
<div class="block">Checks if any merges are now necessary and returns a
  <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if so.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#getMaxSmallSegments()">getMaxSmallSegments</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#getNumLargeSegments()">getNumLargeSegments</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#getPartialExpunge()">getPartialExpunge</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#setMaxSmallSegments(int)">setMaxSmallSegments</a></strong>(int&nbsp;maxSmallSegments)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#setMergeFactor(int)">setMergeFactor</a></strong>(int&nbsp;mergeFactor)</code>
<div class="block">Determines how often segment indices are merged by
 addDocument().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#setMergePolicyParams(org.apache.lucene.index.BalancedSegmentMergePolicy.MergePolicyParams)">setMergePolicyParams</a></strong>(<a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.MergePolicyParams.html" title="class in org.apache.lucene.index">BalancedSegmentMergePolicy.MergePolicyParams</a>&nbsp;params)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#setNumLargeSegments(int)">setNumLargeSegments</a></strong>(int&nbsp;numLargeSegments)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#setPartialExpunge(boolean)">setPartialExpunge</a></strong>(boolean&nbsp;doPartialExpunge)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.html#size(org.apache.lucene.index.SegmentInfo)">size</a></strong>(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.lucene.index.LogByteSizeMergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#getMaxMergeMB()">getMaxMergeMB</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#getMaxMergeMBForForcedMerge()">getMaxMergeMBForForcedMerge</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#getMaxMergeMBForOptimize()">getMaxMergeMBForOptimize</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#getMinMergeMB()">getMinMergeMB</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#setMaxMergeMB(double)">setMaxMergeMB</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#setMaxMergeMBForForcedMerge(double)">setMaxMergeMBForForcedMerge</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#setMaxMergeMBForOptimize(double)">setMaxMergeMBForOptimize</a>, <a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#setMinMergeMB(double)">setMinMergeMB</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.lucene.index.LogMergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#close()">close</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getCalibrateSizeByDeletes()">getCalibrateSizeByDeletes</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getMaxMergeDocs()">getMaxMergeDocs</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getMergeFactor()">getMergeFactor</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getNoCFSRatio()">getNoCFSRatio</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#getUseCompoundFile()">getUseCompoundFile</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#isMerged(org.apache.lucene.index.SegmentInfo)">isMerged</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#isMerged(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">isMerged</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#message(java.lang.String)">message</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setCalibrateSizeByDeletes(boolean)">setCalibrateSizeByDeletes</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMaxMergeDocs(int)">setMaxMergeDocs</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setNoCFSRatio(double)">setNoCFSRatio</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setUseCompoundFile(boolean)">setUseCompoundFile</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#sizeBytes(org.apache.lucene.index.SegmentInfo)">sizeBytes</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#sizeDocs(org.apache.lucene.index.SegmentInfo)">sizeDocs</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#toString()">toString</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#useCompoundFile(org.apache.lucene.index.SegmentInfos, org.apache.lucene.index.SegmentInfo)">useCompoundFile</a>, <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#verbose()">verbose</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.lucene.index.MergePolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.index.<a href="../../../../org/apache/lucene/index/MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></h3>
<code><a href="../../../../org/apache/lucene/index/MergePolicy.html#setIndexWriter(org.apache.lucene.index.IndexWriter)">setIndexWriter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_NUM_LARGE_SEGMENTS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_NUM_LARGE_SEGMENTS</h4>
<pre>public static final&nbsp;int DEFAULT_NUM_LARGE_SEGMENTS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.lucene.index.BalancedSegmentMergePolicy.DEFAULT_NUM_LARGE_SEGMENTS">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BalancedSegmentMergePolicy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BalancedSegmentMergePolicy</h4>
<pre>public&nbsp;BalancedSegmentMergePolicy()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setMergePolicyParams(org.apache.lucene.index.BalancedSegmentMergePolicy.MergePolicyParams)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMergePolicyParams</h4>
<pre>public&nbsp;void&nbsp;setMergePolicyParams(<a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.MergePolicyParams.html" title="class in org.apache.lucene.index">BalancedSegmentMergePolicy.MergePolicyParams</a>&nbsp;params)</pre>
</li>
</ul>
<a name="size(org.apache.lucene.index.SegmentInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>protected&nbsp;long&nbsp;size(<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>&nbsp;info)
             throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html#size(org.apache.lucene.index.SegmentInfo)">size</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/LogByteSizeMergePolicy.html" title="class in org.apache.lucene.index">LogByteSizeMergePolicy</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setPartialExpunge(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPartialExpunge</h4>
<pre>public&nbsp;void&nbsp;setPartialExpunge(boolean&nbsp;doPartialExpunge)</pre>
</li>
</ul>
<a name="getPartialExpunge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartialExpunge</h4>
<pre>public&nbsp;boolean&nbsp;getPartialExpunge()</pre>
</li>
</ul>
<a name="setNumLargeSegments(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumLargeSegments</h4>
<pre>public&nbsp;void&nbsp;setNumLargeSegments(int&nbsp;numLargeSegments)</pre>
</li>
</ul>
<a name="getNumLargeSegments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumLargeSegments</h4>
<pre>public&nbsp;int&nbsp;getNumLargeSegments()</pre>
</li>
</ul>
<a name="setMaxSmallSegments(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxSmallSegments</h4>
<pre>public&nbsp;void&nbsp;setMaxSmallSegments(int&nbsp;maxSmallSegments)</pre>
</li>
</ul>
<a name="getMaxSmallSegments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxSmallSegments</h4>
<pre>public&nbsp;int&nbsp;getMaxSmallSegments()</pre>
</li>
</ul>
<a name="setMergeFactor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMergeFactor</h4>
<pre>public&nbsp;void&nbsp;setMergeFactor(int&nbsp;mergeFactor)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)">LogMergePolicy</a></code></strong></div>
<div class="block">Determines how often segment indices are merged by
 addDocument().  With smaller values, less RAM is used
 while indexing, and searches are
 faster, but indexing speed is slower.  With larger
 values, more RAM is used during indexing, and while
 searches is slower, indexing is
 faster.  Thus larger values (> 10) are best for batch
 index creation, and smaller values (< 10) for indices
 that are interactively maintained.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)">setMergeFactor</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></code></dd>
</dl>
</li>
</ul>
<a name="findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos,
                                              int&nbsp;maxNumSegments,
                                              <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../org/apache/lucene/index/SegmentInfo.html" title="class in org.apache.lucene.index">SegmentInfo</a>,<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;segmentsToMerge)
                                                throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">LogMergePolicy</a></code></strong></div>
<div class="block">Returns the merges necessary to merge the index down
  to a specified number of segments.
  This respects the <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#maxMergeSizeForForcedMerge"><code>LogMergePolicy.maxMergeSizeForForcedMerge</code></a> setting.
  By default, and assuming <code>maxNumSegments=1</code>, only
  one segment will be left in the index, where that segment
  has no deletions pending nor separate norms, and it is in
  compound file format if the current useCompoundFile
  setting is true.  This method returns multiple merges
  (mergeFactor at a time) so the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a>
  in use may make use of concurrency.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedMerges(org.apache.lucene.index.SegmentInfos, int, java.util.Map)">findForcedMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>infos</code> - the total set of segments in the index</dd><dd><code>maxNumSegments</code> - requested maximum number of segments in the index (currently this
          is always 1)</dd><dd><code>segmentsToMerge</code> - contains the specific SegmentInfo instances that must be merged
          away. This may be a subset of all
          SegmentInfos.  If the value is True for a
          given SegmentInfo, that means this segment was
          an original segment present in the
          to-be-merged index; else, it was a segment
          produced by a cascaded merge.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findForcedDeletesMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findForcedDeletesMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)
                                                       throws <a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a>,
                                                              <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">LogMergePolicy</a></code></strong></div>
<div class="block">Finds merges necessary to force-merge all deletes from the
 index.  We simply merge adjacent segments that have
 deletes, up to mergeFactor at a time.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findForcedDeletesMerges(org.apache.lucene.index.SegmentInfos)">findForcedDeletesMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>infos</code> - the total set of segments in the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code></dd>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="findMerges(org.apache.lucene.index.SegmentInfos)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findMerges</h4>
<pre>public&nbsp;<a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index">MergePolicy.MergeSpecification</a>&nbsp;findMerges(<a href="../../../../org/apache/lucene/index/SegmentInfos.html" title="class in org.apache.lucene.index">SegmentInfos</a>&nbsp;infos)
                                          throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findMerges(org.apache.lucene.index.SegmentInfos)">LogMergePolicy</a></code></strong></div>
<div class="block">Checks if any merges are now necessary and returns a
  <a href="../../../../org/apache/lucene/index/MergePolicy.MergeSpecification.html" title="class in org.apache.lucene.index"><code>MergePolicy.MergeSpecification</code></a> if so.  A merge
  is necessary when there are more than <a href="../../../../org/apache/lucene/index/LogMergePolicy.html#setMergeFactor(int)"><code>LogMergePolicy.setMergeFactor(int)</code></a> segments at a given level.  When
  multiple levels have too many segments, this method
  will return multiple merges, allowing the <a href="../../../../org/apache/lucene/index/MergeScheduler.html" title="class in org.apache.lucene.index"><code>MergeScheduler</code></a> to use concurrency.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html#findMerges(org.apache.lucene.index.SegmentInfos)">findMerges</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/lucene/index/LogMergePolicy.html" title="class in org.apache.lucene.index">LogMergePolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>infos</code> - the total set of segments in the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BalancedSegmentMergePolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/AbstractAllTermDocs.html" title="class in org.apache.lucene.index"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/index/BalancedSegmentMergePolicy.MergePolicyParams.html" title="class in org.apache.lucene.index"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/index/BalancedSegmentMergePolicy.html" target="_top">Frames</a></li>
<li><a href="BalancedSegmentMergePolicy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <script src='../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
