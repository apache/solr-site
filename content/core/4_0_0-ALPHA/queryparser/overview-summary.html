<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Mon Jul 02 08:52:16 EDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>Overview (Lucene 4.0.0-ALPHA API)</title>
<meta name="date" content="2012-07-02">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Lucene 4.0.0-ALPHA API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Lucene 4.0.0-ALPHA queryparser API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Apache Lucene QueryParsers.</div>
</div>
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/analyzing/package-summary.html">org.apache.lucene.queryparser.analyzing</a></td>
<td class="colLast">
<div class="block">QueryParser that passes Fuzzy-, Prefix-, Range-, and WildcardQuerys through the given analyzer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/classic/package-summary.html">org.apache.lucene.queryparser.classic</a></td>
<td class="colLast">
<div class="block">A simple query parser implemented with JavaCC.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/complexPhrase/package-summary.html">org.apache.lucene.queryparser.complexPhrase</a></td>
<td class="colLast">
<div class="block">QueryParser which permits complex phrase query syntax eg "(john jon jonathan~) peters*"</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/ext/package-summary.html">org.apache.lucene.queryparser.ext</a></td>
<td class="colLast">
<div class="block">Extendable QueryParser provides a simple and flexible extension mechanism by overloading query field names.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/package-summary.html">org.apache.lucene.queryparser.flexible.core</a></td>
<td class="colLast">
<div class="block">Core classes of the flexible query parser framework.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/builders/package-summary.html">org.apache.lucene.queryparser.flexible.core.builders</a></td>
<td class="colLast">
<div class="block">Necessary classes to implement query builders.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/config/package-summary.html">org.apache.lucene.queryparser.flexible.core.config</a></td>
<td class="colLast">
<div class="block">Base classes used to configure the query processing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/messages/package-summary.html">org.apache.lucene.queryparser.flexible.core.messages</a></td>
<td class="colLast">
<div class="block">Messages usually used by query parser implementations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/nodes/package-summary.html">org.apache.lucene.queryparser.flexible.core.nodes</a></td>
<td class="colLast">
<div class="block">Query nodes commonly used by query parser implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/parser/package-summary.html">org.apache.lucene.queryparser.flexible.core.parser</a></td>
<td class="colLast">
<div class="block">Necessary interfaces to implement text parsers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/processors/package-summary.html">org.apache.lucene.queryparser.flexible.core.processors</a></td>
<td class="colLast">
<div class="block">Interfaces and implementations used by query node processors</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/core/util/package-summary.html">org.apache.lucene.queryparser.flexible.core.util</a></td>
<td class="colLast">
<div class="block">Utility classes to used with the Query Parser.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/messages/package-summary.html">org.apache.lucene.queryparser.flexible.messages</a></td>
<td class="colLast">
<div class="block">For Native Language Support (NLS), system of software internationalization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/precedence/package-summary.html">org.apache.lucene.queryparser.flexible.precedence</a></td>
<td class="colLast">
<div class="block">Precedence Query Parser Implementation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/precedence/processors/package-summary.html">org.apache.lucene.queryparser.flexible.precedence.processors</a></td>
<td class="colLast">
<div class="block">Processors used by Precedence Query Parser</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/package-summary.html">org.apache.lucene.queryparser.flexible.standard</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="org/apache/lucene/queryparser/classic/package-summary.html">Lucene classic query parser</a> using the flexible query parser frameworks</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/builders/package-summary.html">org.apache.lucene.queryparser.flexible.standard.builders</a></td>
<td class="colLast">
<div class="block">Standard Lucene Query Node Builders.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/config/package-summary.html">org.apache.lucene.queryparser.flexible.standard.config</a></td>
<td class="colLast">
<div class="block">Standard Lucene Query Configuration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/nodes/package-summary.html">org.apache.lucene.queryparser.flexible.standard.nodes</a></td>
<td class="colLast">
<div class="block">Standard Lucene Query Nodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/parser/package-summary.html">org.apache.lucene.queryparser.flexible.standard.parser</a></td>
<td class="colLast">
<div class="block">Lucene Query Parser.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/flexible/standard/processors/package-summary.html">org.apache.lucene.queryparser.flexible.standard.processors</a></td>
<td class="colLast">
<div class="block">Lucene Query Node Processors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/surround/parser/package-summary.html">org.apache.lucene.queryparser.surround.parser</a></td>
<td class="colLast">
<div class="block">This package contains the QueryParser.jj source file for the Surround parser.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/surround/query/package-summary.html">org.apache.lucene.queryparser.surround.query</a></td>
<td class="colLast">
<div class="block">This package contains SrndQuery and its subclasses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/xml/package-summary.html">org.apache.lucene.queryparser.xml</a></td>
<td class="colLast">
<div class="block">Parser that produces Lucene Query objects from XML streams.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/apache/lucene/queryparser/xml/builders/package-summary.html">org.apache.lucene.queryparser.xml.builders</a></td>
<td class="colLast">
<div class="block">XML Parser factories for different Lucene Query/Filters.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block">Apache Lucene QueryParsers.
  <p>
  This module provides a number of queryparsers:
  <ul>
     <li><a href="#classic">Classic</a>
     <li><a href="#analyzing">Analyzing</a>
     <li><a href="#complexphrase">Complex Phrase</a>
     <li><a href="#extendable">Extendable</a>
     <li><a href="#flexible">Flexible</a>
     <li><a href="#surround">Surround</a>
     <li><a href="#xml">XML</a>
  </ul>
  <hr/>
  <h2><a name="classic">Classic</a></h2>
  A Simple Lucene QueryParser implemented with JavaCC.
  <h2><a name="analyzing">Analyzing</a></h2>
  QueryParser that passes Fuzzy-, Prefix-, Range-, and WildcardQuerys through the given analyzer.
  <h2><a name="complexphrase">Complex Phrase</a></h2>
  QueryParser which permits complex phrase query syntax eg "(john jon jonathan~) peters*"
  <h2><a name="extendable">Extendable</a></h2>
  Extendable QueryParser provides a simple and flexible extension mechanism by overloading query field names.
  <h2><a name="flexible">Flexible</a></h2>
<p>
This project contains the new Lucene query parser implementation, which matches the syntax of the core QueryParser but offers a more modular architecture to enable customization.
</p>

<p>
It's currently divided in 2 main packages:
<ul>
<li><a href="org/apache/lucene/queryparser/flexible/core/package-summary.html"><code>org.apache.lucene.queryparser.flexible.core</code></a>: it contains the query parser API classes, which should be extended by query parser implementations. </li>
<li><a href="org/apache/lucene/queryparser/flexible/standard/package-summary.html"><code>org.apache.lucene.queryparser.flexible.standard</code></a>: it contains the current Lucene query parser implementation using the new query parser API.</li>
</ul>
</p>

<h3>Features</h3>

    <ol>
        <li>Full support for boolean logic (not enabled)</li>
        <li>QueryNode Trees - support for several syntaxes, 
            that can be converted into similar syntax QueryNode trees.</li>
        <li>QueryNode Processors - Optimize, validate, rewrite the 
            QueryNode trees</li>
                <li>Processors Pipelines - Select your favorite Processor
                    and build a processor pipeline, to implement the features you need</li>
        <li>Config Interfaces - Allow the consumer of the Query Parser to implement
            a diff Config Handler Objects to suite their needs.</li>
        <li>Standard Builders - convert QueryNode's into several lucene 
            representations. Supported conversion is using a 2.4 compatible logic</li>
        <li>QueryNode tree's can be converted to a lucene 2.4 syntax string, using toQueryString</li>                          
    </ol>

<h3>Design</h3>
<p>
This new query parser was designed to have very generic
architecture, so that it can be easily used for different
products with varying query syntaxes. This code is much more 
flexible and extensible than the Lucene query parser in 2.4.X.
</p>
<p>
The new query parser  goal is to separate syntax and semantics of a query. E.g. 'a AND
b', '+a +b', 'AND(a,b)' could be different syntaxes for the same query.
It distinguishes the semantics of the different query components, e.g.
whether and how to tokenize/lemmatize/normalize the different terms or
which Query objects to create for the terms. It allows to
write a parser with a new syntax, while reusing the underlying
semantics, as quickly as possible.
</p>
<p>
The query parser has three layers and its core is what we call the
QueryNode tree. It is a tree that initially represents the syntax of the
original query, e.g. for 'a AND b':
</p>
<pre>
      AND
     /   \
    A     B
</pre>
<p>
The three layers are:
</p>
<dl>
<dt>QueryParser</dt>
<dd>
This layer is the text parsing layer which simply transforms the
query text string into a <a href="org/apache/lucene/queryparser/flexible/core/nodes/QueryNode.html" title="interface in org.apache.lucene.queryparser.flexible.core.nodes"><code>QueryNode</code></a> tree. Every text parser
must implement the interface <a href="org/apache/lucene/queryparser/flexible/core/parser/SyntaxParser.html" title="interface in org.apache.lucene.queryparser.flexible.core.parser"><code>SyntaxParser</code></a>.
Lucene default implementations implements it using JavaCC.
</dd>

<dt>QueryNodeProcessor</dt>
<dd>The query node processors do most of the work. It is in fact a
configurable chain of processors. Each processors can walk the tree and
modify nodes or even the tree's structure. That makes it possible to
e.g. do query optimization before the query is executed or to tokenize
terms.
</dd>

<dt>QueryBuilder</dt>
<dd>
The third layer is a configurable map of builders, which map <a href="org/apache/lucene/queryparser/flexible/core/nodes/QueryNode.html" title="interface in org.apache.lucene.queryparser.flexible.core.nodes"><code>QueryNode</code></a> types to its specific 
builder that will transform the QueryNode into Lucene Query object.
</dd>

</dl>

<p>
Furthermore, the query parser uses flexible configuration objects. It also uses message classes that
allow to attach resource bundles. This makes it possible to translate
messages, which is an important feature of a query parser.
</p>
<p>
This design allows to develop different query syntaxes very quickly.
</p>

<h3>StandardQueryParser and QueryParserWrapper</h3>

<p>
The classic Lucene query parser is located under
<a href="org/apache/lucene/queryparser/classic/package-summary.html"><code>org.apache.lucene.queryparser.classic</code></a>.
<p>
To make it simpler to use the new query parser 
the class <a href="org/apache/lucene/queryparser/flexible/standard/StandardQueryParser.html" title="class in org.apache.lucene.queryparser.flexible.standard"><code>StandardQueryParser</code></a> may be helpful,
specially for people that do not want to extend the Query Parser.
It uses the default Lucene query processors, text parser and builders, so
you don't need to worry about dealing with those.

<a href="org/apache/lucene/queryparser/flexible/standard/StandardQueryParser.html" title="class in org.apache.lucene.queryparser.flexible.standard"><code>StandardQueryParser</code></a> usage:

<pre class="prettyprint">
      StandardQueryParser qpHelper = new StandardQueryParser();
      StandardQueryConfigHandler config =  qpHelper.getQueryConfigHandler();
      config.setAllowLeadingWildcard(true);
      config.setAnalyzer(new WhitespaceAnalyzer());
      Query query = qpHelper.parse("apache AND lucene", "defaultField");
</pre>
<h2><a name="surround">Surround</a></h2>
<p>
A QueryParser that supports the Span family of queries as well as pre and infix notation.
</p>
<h2><a name="xml">XML</a></h2>
A QueryParser that produces Lucene Query objects from XML streams.
<p>
</p></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <address>Copyright &copy; 2000-2012 Apache Software Foundation.  All Rights Reserved.</address>
          <script src='./prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
