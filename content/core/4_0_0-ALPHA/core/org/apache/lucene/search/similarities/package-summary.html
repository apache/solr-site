<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Mon Jul 02 08:51:02 EDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>org.apache.lucene.search.similarities (Lucene 4.0.0-ALPHA API)</title>
<meta name="date" content="2012-07-02">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.apache.lucene.search.similarities (Lucene 4.0.0-ALPHA API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/search/payloads/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../org/apache/lucene/search/spans/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/similarities/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.lucene.search.similarities</h1>
<div class="docSummary">
<div class="block">This package contains the various ranking models that can be used in Lucene.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMSimilarity.CollectionModel.html" title="interface in org.apache.lucene.search.similarities">LMSimilarity.CollectionModel</a></td>
<td class="colLast">
<div class="block">A strategy for computing the collection language model.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/AfterEffect.html" title="class in org.apache.lucene.search.similarities">AfterEffect</a></td>
<td class="colLast">
<div class="block">This class acts as the base class for the implementations of the <em>first
 normalization of the informative content</em> in the DFR framework.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/AfterEffect.NoAfterEffect.html" title="class in org.apache.lucene.search.similarities">AfterEffect.NoAfterEffect</a></td>
<td class="colLast">
<div class="block">Implementation used when there is no aftereffect.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/AfterEffectB.html" title="class in org.apache.lucene.search.similarities">AfterEffectB</a></td>
<td class="colLast">
<div class="block">Model of the information gain based on the ratio of two Bernoulli processes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/AfterEffectL.html" title="class in org.apache.lucene.search.similarities">AfterEffectL</a></td>
<td class="colLast">
<div class="block">Model of the information gain based on Laplace's law of succession.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModel.html" title="class in org.apache.lucene.search.similarities">BasicModel</a></td>
<td class="colLast">
<div class="block">This class acts as the base class for the specific <em>basic model</em>
 implementations in the DFR framework.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelBE.html" title="class in org.apache.lucene.search.similarities">BasicModelBE</a></td>
<td class="colLast">
<div class="block">Limiting form of the Bose-Einstein model.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelD.html" title="class in org.apache.lucene.search.similarities">BasicModelD</a></td>
<td class="colLast">
<div class="block">Implements the approximation of the binomial model with the divergence
 for DFR.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelG.html" title="class in org.apache.lucene.search.similarities">BasicModelG</a></td>
<td class="colLast">
<div class="block">Geometric as limiting form of the Bose-Einstein model.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelIF.html" title="class in org.apache.lucene.search.similarities">BasicModelIF</a></td>
<td class="colLast">
<div class="block">An approximation of the <em>I(n<sub>e</sub>)</em> model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelIn.html" title="class in org.apache.lucene.search.similarities">BasicModelIn</a></td>
<td class="colLast">
<div class="block">The basic tf-idf model of randomness.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelIne.html" title="class in org.apache.lucene.search.similarities">BasicModelIne</a></td>
<td class="colLast">
<div class="block">Tf-idf model of randomness, based on a mixture of Poisson and inverse
 document frequency.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicModelP.html" title="class in org.apache.lucene.search.similarities">BasicModelP</a></td>
<td class="colLast">
<div class="block">Implements the Poisson approximation for the binomial model for DFR.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BasicStats.html" title="class in org.apache.lucene.search.similarities">BasicStats</a></td>
<td class="colLast">
<div class="block">Stores all statistics commonly used ranking methods.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/BM25Similarity.html" title="class in org.apache.lucene.search.similarities">BM25Similarity</a></td>
<td class="colLast">
<div class="block">BM25 Similarity.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities">DefaultSimilarity</a></td>
<td class="colLast">
<div class="block">Expert: Default scoring implementation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/DFRSimilarity.html" title="class in org.apache.lucene.search.similarities">DFRSimilarity</a></td>
<td class="colLast">
<div class="block">Implements the <em>divergence from randomness (DFR)</em> framework
 introduced in Gianni Amati and Cornelis Joost Van Rijsbergen.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Distribution.html" title="class in org.apache.lucene.search.similarities">Distribution</a></td>
<td class="colLast">
<div class="block">The probabilistic distribution used to model term occurrence
 in information-based models.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/DistributionLL.html" title="class in org.apache.lucene.search.similarities">DistributionLL</a></td>
<td class="colLast">
<div class="block">Log-logistic distribution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/DistributionSPL.html" title="class in org.apache.lucene.search.similarities">DistributionSPL</a></td>
<td class="colLast">
<div class="block">The smoothed power-law (SPL) distribution for the information-based framework
 that is described in the original paper.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/IBSimilarity.html" title="class in org.apache.lucene.search.similarities">IBSimilarity</a></td>
<td class="colLast">
<div class="block">Provides a framework for the family of information-based models, as described
 in St&eacute;phane Clinchant and Eric Gaussier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Lambda.html" title="class in org.apache.lucene.search.similarities">Lambda</a></td>
<td class="colLast">
<div class="block">The <em>lambda (&lambda;<sub>w</sub>)</em> parameter in information-based
 models.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LambdaDF.html" title="class in org.apache.lucene.search.similarities">LambdaDF</a></td>
<td class="colLast">
<div class="block">Computes lambda as <code>docFreq+1 / numberOfDocuments+1</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LambdaTTF.html" title="class in org.apache.lucene.search.similarities">LambdaTTF</a></td>
<td class="colLast">
<div class="block">Computes lambda as <code>totalTermFreq+1 / numberOfDocuments+1</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMDirichletSimilarity.html" title="class in org.apache.lucene.search.similarities">LMDirichletSimilarity</a></td>
<td class="colLast">
<div class="block">Bayesian smoothing using Dirichlet priors.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMJelinekMercerSimilarity.html" title="class in org.apache.lucene.search.similarities">LMJelinekMercerSimilarity</a></td>
<td class="colLast">
<div class="block">Language model based on the Jelinek-Mercer smoothing method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMSimilarity.html" title="class in org.apache.lucene.search.similarities">LMSimilarity</a></td>
<td class="colLast">
<div class="block">Abstract superclass for language modeling Similarities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMSimilarity.DefaultCollectionModel.html" title="class in org.apache.lucene.search.similarities">LMSimilarity.DefaultCollectionModel</a></td>
<td class="colLast">
<div class="block">Models <code>p(w|C)</code> as the number of occurrences of the term in the
 collection, divided by the total number of tokens <code>+ 1</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/LMSimilarity.LMStats.html" title="class in org.apache.lucene.search.similarities">LMSimilarity.LMStats</a></td>
<td class="colLast">
<div class="block">Stores the collection distribution of the current term.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/MultiSimilarity.html" title="class in org.apache.lucene.search.similarities">MultiSimilarity</a></td>
<td class="colLast">
<div class="block">Implements the CombSUM method for combining evidence from multiple
 similarity values described in: Joseph A.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Normalization.html" title="class in org.apache.lucene.search.similarities">Normalization</a></td>
<td class="colLast">
<div class="block">This class acts as the base class for the implementations of the term
 frequency normalization methods in the DFR framework.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Normalization.NoNormalization.html" title="class in org.apache.lucene.search.similarities">Normalization.NoNormalization</a></td>
<td class="colLast">
<div class="block">Implementation used when there is no normalization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/NormalizationH1.html" title="class in org.apache.lucene.search.similarities">NormalizationH1</a></td>
<td class="colLast">
<div class="block">Normalization model that assumes a uniform distribution of the term frequency.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/NormalizationH2.html" title="class in org.apache.lucene.search.similarities">NormalizationH2</a></td>
<td class="colLast">
<div class="block">Normalization model in which the term frequency is inversely related to the
 length.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/NormalizationH3.html" title="class in org.apache.lucene.search.similarities">NormalizationH3</a></td>
<td class="colLast">
<div class="block">Dirichlet Priors normalization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/NormalizationZ.html" title="class in org.apache.lucene.search.similarities">NormalizationZ</a></td>
<td class="colLast">
<div class="block">Pareto-Zipf Normalization</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/PerFieldSimilarityWrapper.html" title="class in org.apache.lucene.search.similarities">PerFieldSimilarityWrapper</a></td>
<td class="colLast">
<div class="block">Provides the ability to use a different <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> for different fields.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities">Similarity</a></td>
<td class="colLast">
<div class="block">Similarity defines the components of Lucene scoring.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Similarity.ExactSimScorer.html" title="class in org.apache.lucene.search.similarities">Similarity.ExactSimScorer</a></td>
<td class="colLast">
<div class="block">API for scoring exact queries such as <a href="../../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> and 
 exact <a href="../../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Similarity.SimWeight.html" title="class in org.apache.lucene.search.similarities">Similarity.SimWeight</a></td>
<td class="colLast">
<div class="block">Stores the weight for a query across the indexed collection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/Similarity.SloppySimScorer.html" title="class in org.apache.lucene.search.similarities">Similarity.SloppySimScorer</a></td>
<td class="colLast">
<div class="block">API for scoring "sloppy" queries such as <a href="../../../../../org/apache/lucene/search/spans/SpanQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanQuery</code></a> and 
 sloppy <a href="../../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities">SimilarityBase</a></td>
<td class="colLast">
<div class="block">A subclass of <code>Similarity</code> that provides a simplified API for its
 descendants.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/apache/lucene/search/similarities/TFIDFSimilarity.html" title="class in org.apache.lucene.search.similarities">TFIDFSimilarity</a></td>
<td class="colLast">
<div class="block">Implementation of <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> with the Vector Space Model.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.apache.lucene.search.similarities Description">Package org.apache.lucene.search.similarities Description</h2>
<div class="block">This package contains the various ranking models that can be used in Lucene. The
abstract class <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> serves
as the base for ranking functions. For searching, users can employ the models
already implemented or create their own by extending one of the classes in this
package.

<h2>Table Of Contents</h2>
<p>
    <ol>
        <li><a href="#sims">Summary of the Ranking Methods</a></li>
        <li><a href="#changingSimilarity">Changing the Similarity</a></li>
    </ol>
</p>


<a name="sims"></a>
<h2>Summary of the Ranking Methods</h2>

<p><a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DefaultSimilarity</code></a> is the original Lucene
scoring function. It is based on a highly optimized 
<a href="http://en.wikipedia.org/wiki/Vector_Space_Model">Vector Space Model</a>. For more
information, see <a href="../../../../../org/apache/lucene/search/similarities/TFIDFSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>TFIDFSimilarity</code></a>.</p>

<p><a href="../../../../../org/apache/lucene/search/similarities/BM25Similarity.html" title="class in org.apache.lucene.search.similarities"><code>BM25Similarity</code></a> is an optimized
implementation of the successful Okapi BM25 model.</p>

<p><a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a> provides a basic
implementation of the Similarity contract and exposes a highly simplified
interface, which makes it an ideal starting point for new ranking functions.
Lucene ships the following methods built on
<a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a>:

<a name="framework"></a>
<ul>
  <li>Amati and Rijsbergen's <a href="../../../../../org/apache/lucene/search/similarities/DFRSimilarity.html" title="class in org.apache.lucene.search.similarities">DFR</a> framework;</li>
  <li>Clinchant and Gaussier's <a href="../../../../../org/apache/lucene/search/similarities/IBSimilarity.html" title="class in org.apache.lucene.search.similarities">Information-based models</a>
    for IR;</li>
  <li>The implementation of two <a href="../../../../../org/apache/lucene/search/similarities/LMSimilarity.html" title="class in org.apache.lucene.search.similarities">language models</a> from
  Zhai and Lafferty's paper.</li>
</ul>

Since <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a> is not
optimized to the same extent as
<a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DefaultSimilarity</code></a> and
<a href="../../../../../org/apache/lucene/search/similarities/BM25Similarity.html" title="class in org.apache.lucene.search.similarities"><code>BM25Similarity</code></a>, a difference in
performance is to be expected when using the methods listed above. However,
optimizations can always be implemented in subclasses; see
<a href="#changingSimilarity">below</a>.</p>

<a name="changingSimilarity"></a>
<h2>Changing Similarity</h2>

<p>Chances are the available Similarities are sufficient for all
    your searching needs.
    However, in some applications it may be necessary to customize your <a
        href="Similarity.html">Similarity</a> implementation. For instance, some
    applications do not need to
    distinguish between shorter and longer documents (see <a
        href="http://www.gossamer-threads.com/lists/lucene/java-user/38967#38967">a "fair" similarity</a>).</p>

<p>To change <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a>, one must do so for both indexing and
    searching, and the changes must happen before
    either of these actions take place. Although in theory there is nothing stopping you from changing mid-stream, it
    just isn't well-defined what is going to happen.
</p>

<p>To make this change, implement your own <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> (likely
    you'll want to simply subclass an existing method, be it
    <a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DefaultSimilarity</code></a> or a descendant of
    <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a>), and
    then register the new class by calling
    <a href="../../../../../org/apache/lucene/index/IndexWriterConfig.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexWriterConfig.setSimilarity(Similarity)</code></a>
    before indexing and
    <a href="../../../../../org/apache/lucene/search/IndexSearcher.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexSearcher.setSimilarity(Similarity)</code></a>
    before searching.
</p>

<h3>Extending <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities">SimilarityBase</a></h3>
<p>
The easiest way to quickly implement a new ranking method is to extend
<a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a>, which provides
basic implementations for the low level . Subclasses are only required to
implement the <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html#score(org.apache.lucene.search.similarities.BasicStats, float, float)"><code>SimilarityBase.score(BasicStats, float, float)</code></a>
and <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html#toString()"><code>SimilarityBase.toString()</code></a>
methods.</p>

<p>Another option is to extend one of the <a href="#framework">frameworks</a>
based on <a href="../../../../../org/apache/lucene/search/similarities/SimilarityBase.html" title="class in org.apache.lucene.search.similarities"><code>SimilarityBase</code></a>. These
Similarities are implemented modularly, e.g.
<a href="../../../../../org/apache/lucene/search/similarities/DFRSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DFRSimilarity</code></a> delegates
computation of the three parts of its formula to the classes
<a href="../../../../../org/apache/lucene/search/similarities/BasicModel.html" title="class in org.apache.lucene.search.similarities"><code>BasicModel</code></a>,
<a href="../../../../../org/apache/lucene/search/similarities/AfterEffect.html" title="class in org.apache.lucene.search.similarities"><code>AfterEffect</code></a> and
<a href="../../../../../org/apache/lucene/search/similarities/Normalization.html" title="class in org.apache.lucene.search.similarities"><code>Normalization</code></a>. Instead of
subclassing the Similarity, one can simply introduce a new basic model and tell
<a href="../../../../../org/apache/lucene/search/similarities/DFRSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DFRSimilarity</code></a> to use it.</p>

<h3>Changing <a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities">DefaultSimilarity</a></h3>
<p>
    If you are interested in use cases for changing your similarity, see the Lucene users's mailing list at <a
        href="http://www.nabble.com/Overriding-Similarity-tf2128934.html">Overriding Similarity</a>.
    In summary, here are a few use cases:
    <ol>
        <li><p>The <code>SweetSpotSimilarity</code> in
            <code>org.apache.lucene.misc</code> gives small
            increases as the frequency increases a small amount
            and then greater increases when you hit the "sweet spot", i.e. where
            you think the frequency of terms is more significant.</p></li>
        <li><p>Overriding tf &mdash; In some applications, it doesn't matter what the score of a document is as long as a
            matching term occurs. In these
            cases people have overridden Similarity to return 1 from the tf() method.</p></li>
        <li><p>Changing Length Normalization &mdash; By overriding
            <a href="../../../../../org/apache/lucene/search/similarities/Similarity.html#computeNorm(org.apache.lucene.index.FieldInvertState, org.apache.lucene.index.Norm)"><code>Similarity.computeNorm(FieldInvertState state, Norm)</code></a>,
            it is possible to discount how the length of a field contributes
            to a score. In <a href="../../../../../org/apache/lucene/search/similarities/DefaultSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>DefaultSimilarity</code></a>,
            lengthNorm = 1 / (numTerms in field)^0.5, but if one changes this to be
            1 / (numTerms in field), all fields will be treated
            <a href="http://www.gossamer-threads.com/lists/lucene/java-user/38967#38967">"fairly"</a>.</p></li>
    </ol>
    In general, Chris Hostetter sums it up best in saying (from <a
        href="http://www.gossamer-threads.com/lists/lucene/java-user/39125#39125">the Lucene users's mailing list</a>):
    <blockquote>[One would override the Similarity in] ... any situation where you know more about your data then just
        that
        it's "text" is a situation where it *might* make sense to to override your
        Similarity method.</blockquote>
</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/search/payloads/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../org/apache/lucene/search/spans/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/search/similarities/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <address>Copyright &copy; 2000-2012 Apache Software Foundation.  All Rights Reserved.</address>
          <script src='../../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
