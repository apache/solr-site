<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Mon Jul 02 08:51:02 EDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>org.apache.lucene.search (Lucene 4.0.0-ALPHA API)</title>
<meta name="date" content="2012-07-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.apache.lucene.search (Lucene 4.0.0-ALPHA API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/package-summary.html">Prev Package</a></li>
<li><a href="../../../../org/apache/lucene/search/payloads/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.lucene.search</h1>
<div class="docSummary">
<div class="block">Code to search indices.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BoostAttribute.html" title="interface in org.apache.lucene.search">BoostAttribute</a></td>
<td class="colLast">
<div class="block">Add this <a href="../../../../org/apache/lucene/util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a <a href="../../../../org/apache/lucene/index/TermsEnum.html" title="class in org.apache.lucene.index"><code>TermsEnum</code></a> returned by <a href="../../../../org/apache/lucene/search/MultiTermQuery.html#getTermsEnum(org.apache.lucene.index.Terms, org.apache.lucene.util.AttributeSource)"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a>
 and update the boost on each returned term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.html" title="interface in org.apache.lucene.search">FieldCache</a></td>
<td class="colLast">
<div class="block">Expert: Maintains caches of term values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.ByteParser.html" title="interface in org.apache.lucene.search">FieldCache.ByteParser</a></td>
<td class="colLast">
<div class="block">Interface to parse bytes from document fields.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.DoubleParser.html" title="interface in org.apache.lucene.search">FieldCache.DoubleParser</a></td>
<td class="colLast">
<div class="block">Interface to parse doubles from document fields.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.FloatParser.html" title="interface in org.apache.lucene.search">FieldCache.FloatParser</a></td>
<td class="colLast">
<div class="block">Interface to parse floats from document fields.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.IntParser.html" title="interface in org.apache.lucene.search">FieldCache.IntParser</a></td>
<td class="colLast">
<div class="block">Interface to parse ints from document fields.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.LongParser.html" title="interface in org.apache.lucene.search">FieldCache.LongParser</a></td>
<td class="colLast">
<div class="block">Interface to parse long from document fields.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.Parser.html" title="interface in org.apache.lucene.search">FieldCache.Parser</a></td>
<td class="colLast">
<div class="block">Marker interface as super-interface to all parsers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.ShortParser.html" title="interface in org.apache.lucene.search">FieldCache.ShortParser</a></td>
<td class="colLast">
<div class="block">Interface to parse shorts from document fields.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyTermsEnum.LevenshteinAutomataAttribute.html" title="interface in org.apache.lucene.search">FuzzyTermsEnum.LevenshteinAutomataAttribute</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search">MaxNonCompetitiveBoostAttribute</a></td>
<td class="colLast">
<div class="block">Add this <a href="../../../../org/apache/lucene/util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a fresh <a href="../../../../org/apache/lucene/util/AttributeSource.html" title="class in org.apache.lucene.util"><code>AttributeSource</code></a> before calling
 <a href="../../../../org/apache/lucene/search/MultiTermQuery.html#getTermsEnum(org.apache.lucene.index.Terms, org.apache.lucene.util.AttributeSource)"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NRTManager.WaitingListener.html" title="interface in org.apache.lucene.search">NRTManager.WaitingListener</a></td>
<td class="colLast">
<div class="block">NRTManager invokes this interface to notify it when a
  caller is waiting for a specific generation searcher
  to be visible.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.Pruner.html" title="interface in org.apache.lucene.search">SearcherLifetimeManager.Pruner</a></td>
<td class="colLast">
<div class="block">See <a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.html#prune(org.apache.lucene.search.SearcherLifetimeManager.Pruner)"><code>SearcherLifetimeManager.prune(org.apache.lucene.search.SearcherLifetimeManager.Pruner)</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/AutomatonQuery.html" title="class in org.apache.lucene.search">AutomatonQuery</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that will match terms against a finite-state machine.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BitsFilteredDocIdSet.html" title="class in org.apache.lucene.search">BitsFilteredDocIdSet</a></td>
<td class="colLast">
<div class="block">This implementation supplies a filtered DocIdSet, that excludes all
 docids which are not in a Bits instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search">BooleanClause</a></td>
<td class="colLast">
<div class="block">A clause in a BooleanQuery.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search">BooleanQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents matching boolean combinations of other
 queries, e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BoostAttributeImpl.html" title="class in org.apache.lucene.search">BoostAttributeImpl</a></td>
<td class="colLast">
<div class="block">Implementation class for <a href="../../../../org/apache/lucene/search/BoostAttribute.html" title="interface in org.apache.lucene.search"><code>BoostAttribute</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CachingCollector.html" title="class in org.apache.lucene.search">CachingCollector</a></td>
<td class="colLast">
<div class="block">Caches all docs, and optionally also scores, coming from
 a search, and is then able to replay them to another
 collector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CachingWrapperFilter.html" title="class in org.apache.lucene.search">CachingWrapperFilter</a></td>
<td class="colLast">
<div class="block">Wraps another <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a>'s result and caches it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/CollectionStatistics.html" title="class in org.apache.lucene.search">CollectionStatistics</a></td>
<td class="colLast">
<div class="block">Contains statistics for a collection (field)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search">Collector</a></td>
<td class="colLast">
<div class="block">Expert: Collectors are primarily meant to be used to
 gather raw results from a search, and implement sorting
 or custom result filtering, collation, etc.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ComplexExplanation.html" title="class in org.apache.lucene.search">ComplexExplanation</a></td>
<td class="colLast">
<div class="block">Expert: Describes the score computation for document and query, and
 can distinguish a match independent of a positive value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ConstantScoreQuery.html" title="class in org.apache.lucene.search">ConstantScoreQuery</a></td>
<td class="colLast">
<div class="block">A query that wraps another query or a filter and simply returns a constant score equal to the
 query boost for every document that matches the filter or query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DisjunctionMaxQuery.html" title="class in org.apache.lucene.search">DisjunctionMaxQuery</a></td>
<td class="colLast">
<div class="block">A query that generates the union of documents produced by its subqueries, and that scores each document with the maximum
 score for that document as produced by any subquery, plus a tie breaking increment for any additional matching subqueries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocIdSet.html" title="class in org.apache.lucene.search">DocIdSet</a></td>
<td class="colLast">
<div class="block">A DocIdSet contains a set of doc ids.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></td>
<td class="colLast">
<div class="block">This abstract class defines methods to iterate over a set of non-decreasing
 doc ids.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Explanation.html" title="class in org.apache.lucene.search">Explanation</a></td>
<td class="colLast">
<div class="block">Expert: Describes the score computation for document and query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.CacheEntry.html" title="class in org.apache.lucene.search">FieldCache.CacheEntry</a></td>
<td class="colLast">
<div class="block">EXPERT: A unique Identifier/Description for each item in the FieldCache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.CreationPlaceholder.html" title="class in org.apache.lucene.search">FieldCache.CreationPlaceholder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.DocTerms.html" title="class in org.apache.lucene.search">FieldCache.DocTerms</a></td>
<td class="colLast">
<div class="block">Returned by <a href="../../../../org/apache/lucene/search/FieldCache.html#getTerms(org.apache.lucene.index.AtomicReader, java.lang.String)"><code>FieldCache.getTerms(org.apache.lucene.index.AtomicReader, java.lang.String)</code></a></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.DocTermsIndex.html" title="class in org.apache.lucene.search">FieldCache.DocTermsIndex</a></td>
<td class="colLast">
<div class="block">Returned by <a href="../../../../org/apache/lucene/search/FieldCache.html#getTermsIndex(org.apache.lucene.index.AtomicReader, java.lang.String)"><code>FieldCache.getTermsIndex(org.apache.lucene.index.AtomicReader, java.lang.String)</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCacheDocIdSet.html" title="class in org.apache.lucene.search">FieldCacheDocIdSet</a></td>
<td class="colLast">
<div class="block">Base class for DocIdSet to be used with FieldCache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCacheRangeFilter.html" title="class in org.apache.lucene.search">FieldCacheRangeFilter</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">A range filter built on top of a cached single term field (in <a href="../../../../org/apache/lucene/search/FieldCache.html" title="interface in org.apache.lucene.search"><code>FieldCache</code></a>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCacheTermsFilter.html" title="class in org.apache.lucene.search">FieldCacheTermsFilter</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a> that only accepts documents whose single
 term value in the specified field is contained in the
 provided set of allowed terms.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search">FieldComparator</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Expert: a FieldComparator compares hits so as to determine their
 sort order when collecting the top results with <a href="../../../../org/apache/lucene/search/TopFieldCollector.html" title="class in org.apache.lucene.search"><code>TopFieldCollector</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.ByteComparator.html" title="class in org.apache.lucene.search">FieldComparator.ByteComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as byte (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getBytes(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getBytes(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.DocComparator.html" title="class in org.apache.lucene.search">FieldComparator.DocComparator</a></td>
<td class="colLast">
<div class="block">Sorts by ascending docID</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.DoubleComparator.html" title="class in org.apache.lucene.search">FieldComparator.DoubleComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as double (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getDoubles(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getDoubles(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.FloatComparator.html" title="class in org.apache.lucene.search">FieldComparator.FloatComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as float (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getFloats(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getFloats(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.FloatDocValuesComparator.html" title="class in org.apache.lucene.search">FieldComparator.FloatDocValuesComparator</a></td>
<td class="colLast">
<div class="block">Uses float index values to sort by ascending value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.IntComparator.html" title="class in org.apache.lucene.search">FieldComparator.IntComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as int (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getInts(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getInts(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.IntDocValuesComparator.html" title="class in org.apache.lucene.search">FieldComparator.IntDocValuesComparator</a></td>
<td class="colLast">
<div class="block">Loads int index values and sorts by ascending value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.LongComparator.html" title="class in org.apache.lucene.search">FieldComparator.LongComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as long (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getLongs(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getLongs(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.NumericComparator.html" title="class in org.apache.lucene.search">FieldComparator.NumericComparator</a>&lt;T extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Number.html?is-external=true" title="class or interface in java.lang">Number</a>&gt;</td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.RelevanceComparator.html" title="class in org.apache.lucene.search">FieldComparator.RelevanceComparator</a></td>
<td class="colLast">
<div class="block">Sorts by descending relevance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.ShortComparator.html" title="class in org.apache.lucene.search">FieldComparator.ShortComparator</a></td>
<td class="colLast">
<div class="block">Parses field's values as short (using <a href="../../../../org/apache/lucene/search/FieldCache.html#getShorts(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)"><code>FieldCache.getShorts(org.apache.lucene.index.AtomicReader, java.lang.String, boolean)</code></a> and sorts by ascending value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermOrdValComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermOrdValComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order, using
  ordinals.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermOrdValDocValuesComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermOrdValDocValuesComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order, using
  ordinals; this is just like <a href="../../../../org/apache/lucene/search/FieldComparator.TermOrdValComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator.TermOrdValComparator</code></a> except it uses DocValues to
  retrieve the sort ords saved during indexing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermValComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermValComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparator.TermValDocValuesComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermValDocValuesComparator</a></td>
<td class="colLast">
<div class="block">Sorts by field's natural Term sort order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldComparatorSource.html" title="class in org.apache.lucene.search">FieldComparatorSource</a></td>
<td class="colLast">
<div class="block">Provides a <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> for custom field sorting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldDoc.html" title="class in org.apache.lucene.search">FieldDoc</a></td>
<td class="colLast">
<div class="block">Expert: A ScoreDoc which also contains information about
 how to sort the referenced document.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldValueFilter.html" title="class in org.apache.lucene.search">FieldValueFilter</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a> that accepts all documents that have one or more values in a
 given field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldValueHitQueue.html" title="class in org.apache.lucene.search">FieldValueHitQueue</a>&lt;T extends <a href="../../../../org/apache/lucene/search/FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a>&gt;</td>
<td class="colLast">
<div class="block">Expert: A hit queue for sorting by hits by terms in more than one field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search">Filter</a></td>
<td class="colLast">
<div class="block">Abstract base class for restricting which documents may
  be returned during searching.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilteredDocIdSet.html" title="class in org.apache.lucene.search">FilteredDocIdSet</a></td>
<td class="colLast">
<div class="block">Abstract decorator class for a DocIdSet implementation
 that provides on-demand filtering/validation
 mechanism on a given DocIdSet.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilteredDocIdSetIterator.html" title="class in org.apache.lucene.search">FilteredDocIdSetIterator</a></td>
<td class="colLast">
<div class="block">Abstract decorator class of a DocIdSetIterator
 implementation that provides on-demand filter/validation
 mechanism on an underlying DocIdSetIterator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FilteredQuery.html" title="class in org.apache.lucene.search">FilteredQuery</a></td>
<td class="colLast">
<div class="block">A query that applies a filter to the results of another query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search">FuzzyQuery</a></td>
<td class="colLast">
<div class="block">Implements the fuzzy search query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyTermsEnum.html" title="class in org.apache.lucene.search">FuzzyTermsEnum</a></td>
<td class="colLast">
<div class="block">Subclass of TermsEnum for enumerating all terms that are similar
 to the specified filter term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FuzzyTermsEnum.LevenshteinAutomataAttributeImpl.html" title="class in org.apache.lucene.search">FuzzyTermsEnum.LevenshteinAutomataAttributeImpl</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search">IndexSearcher</a></td>
<td class="colLast">
<div class="block">Implements search over a single IndexReader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/IndexSearcher.LeafSlice.html" title="class in org.apache.lucene.search">IndexSearcher.LeafSlice</a></td>
<td class="colLast">
<div class="block">A class holding a subset of the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>s leaf contexts to be
 executed within a single thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MatchAllDocsQuery.html" title="class in org.apache.lucene.search">MatchAllDocsQuery</a></td>
<td class="colLast">
<div class="block">A query that matches all documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttributeImpl.html" title="class in org.apache.lucene.search">MaxNonCompetitiveBoostAttributeImpl</a></td>
<td class="colLast">
<div class="block">Implementation class for <a href="../../../../org/apache/lucene/search/MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search"><code>MaxNonCompetitiveBoostAttribute</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiCollector.html" title="class in org.apache.lucene.search">MultiCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> which allows running a search with several
 <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiPhraseQuery.html" title="class in org.apache.lucene.search">MultiPhraseQuery</a></td>
<td class="colLast">
<div class="block">MultiPhraseQuery is a generalized version of PhraseQuery, with an added
 method <a href="../../../../org/apache/lucene/search/MultiPhraseQuery.html#add(org.apache.lucene.index.Term[])"><code>MultiPhraseQuery.add(Term[])</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.html" title="class in org.apache.lucene.search">MultiTermQuery</a></td>
<td class="colLast">
<div class="block">An abstract <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents
 containing a subset of terms provided by a <a href="../../../../org/apache/lucene/index/FilteredTermsEnum.html" title="class in org.apache.lucene.index"><code>FilteredTermsEnum</code></a> enumeration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.ConstantScoreAutoRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.ConstantScoreAutoRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that tries to pick the best
  constant-score rewrite method based on term and
  document counts from the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search">MultiTermQuery.RewriteMethod</a></td>
<td class="colLast">
<div class="block">Abstract class that defines how the query is rewritten.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that first translates each term into
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause in a BooleanQuery, but the scores
 are only computed as the boost.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQuery.TopTermsScoringBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsScoringBooleanQueryRewrite</a></td>
<td class="colLast">
<div class="block">A rewrite method that first translates each term into
 <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause in a BooleanQuery, and keeps the
 scores as computed by the query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/MultiTermQueryWrapperFilter.html" title="class in org.apache.lucene.search">MultiTermQueryWrapperFilter</a>&lt;Q extends <a href="../../../../org/apache/lucene/search/MultiTermQuery.html" title="class in org.apache.lucene.search">MultiTermQuery</a>&gt;</td>
<td class="colLast">
<div class="block">A wrapper for <a href="../../../../org/apache/lucene/search/MultiTermQuery.html" title="class in org.apache.lucene.search"><code>MultiTermQuery</code></a>, that exposes its
 functionality as a <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NGramPhraseQuery.html" title="class in org.apache.lucene.search">NGramPhraseQuery</a></td>
<td class="colLast">
<div class="block">This is a <a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> which is optimized for n-gram phrase query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NRTManager.html" title="class in org.apache.lucene.search">NRTManager</a></td>
<td class="colLast">
<div class="block">Utility class to manage sharing near-real-time searchers
 across multiple searching thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NRTManager.TrackingIndexWriter.html" title="class in org.apache.lucene.search">NRTManager.TrackingIndexWriter</a></td>
<td class="colLast">
<div class="block">Class that tracks changes to a delegated
 IndexWriter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NRTManagerReopenThread.html" title="class in org.apache.lucene.search">NRTManagerReopenThread</a></td>
<td class="colLast">
<div class="block">Utility class that runs a reopen thread to periodically
 reopen the NRT searchers in the provided <a href="../../../../org/apache/lucene/search/NRTManager.html" title="class in org.apache.lucene.search"><code>NRTManager</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NumericRangeFilter.html" title="class in org.apache.lucene.search">NumericRangeFilter</a>&lt;T extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Number.html?is-external=true" title="class or interface in java.lang">Number</a>&gt;</td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a> that only accepts numeric values within
 a specified range.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/NumericRangeQuery.html" title="class in org.apache.lucene.search">NumericRangeQuery</a>&lt;T extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Number.html?is-external=true" title="class or interface in java.lang">Number</a>&gt;</td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches numeric values within a
 specified range.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search">PhraseQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing a particular sequence of terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search">PositiveScoresOnlyCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> implementation which wraps another
 <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> and makes sure only documents with
 scores &gt; 0 are collected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PrefixFilter.html" title="class in org.apache.lucene.search">PrefixFilter</a></td>
<td class="colLast">
<div class="block">A Filter that restricts search results to values that have a matching prefix in a given
 field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search">PrefixQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing terms with a specified prefix.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/PrefixTermsEnum.html" title="class in org.apache.lucene.search">PrefixTermsEnum</a></td>
<td class="colLast">
<div class="block">Subclass of FilteredTermEnum for enumerating all terms that match the
 specified prefix filter term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a></td>
<td class="colLast">
<div class="block">The abstract base class for queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/QueryWrapperFilter.html" title="class in org.apache.lucene.search">QueryWrapperFilter</a></td>
<td class="colLast">
<div class="block">Constrains search results to only match those which also match a provided
 query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search">ReferenceManager</a>&lt;G&gt;</td>
<td class="colLast">
<div class="block">Utility class to safely share instances of a certain type across multiple
 threads, while periodically refreshing them.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search">RegexpQuery</a></td>
<td class="colLast">
<div class="block">A fast regular expression query based on the
 <a href="../../../../org/apache/lucene/util/automaton/package-summary.html"><code>org.apache.lucene.util.automaton</code></a> package.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoreCachingWrappingScorer.html" title="class in org.apache.lucene.search">ScoreCachingWrappingScorer</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> which wraps another scorer and caches the score of the
 current document.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a></td>
<td class="colLast">
<div class="block">Holds one hit in <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search">Scorer</a></td>
<td class="colLast">
<div class="block">Expert: Common scoring functionality for different types of queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Scorer.ChildScorer.html" title="class in org.apache.lucene.search">Scorer.ChildScorer</a></td>
<td class="colLast">
<div class="block">a child Scorer and its relationship to its parent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/ScoringRewrite.html" title="class in org.apache.lucene.search">ScoringRewrite</a>&lt;Q extends <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&gt;</td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherFactory.html" title="class in org.apache.lucene.search">SearcherFactory</a></td>
<td class="colLast">
<div class="block">Factory class used by <a href="../../../../org/apache/lucene/search/SearcherManager.html" title="class in org.apache.lucene.search"><code>SearcherManager</code></a> and <a href="../../../../org/apache/lucene/search/NRTManager.html" title="class in org.apache.lucene.search"><code>NRTManager</code></a> to
 create new IndexSearchers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.html" title="class in org.apache.lucene.search">SearcherLifetimeManager</a></td>
<td class="colLast">
<div class="block">Keeps track of current plus old IndexSearchers, closing
 the old ones once they have timed out.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherLifetimeManager.PruneByAge.html" title="class in org.apache.lucene.search">SearcherLifetimeManager.PruneByAge</a></td>
<td class="colLast">
<div class="block">Simple pruner that drops any searcher older by
  more than the specified seconds, than the newest
  searcher.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SearcherManager.html" title="class in org.apache.lucene.search">SearcherManager</a></td>
<td class="colLast">
<div class="block">Utility class to safely share <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> instances across multiple
 threads, while periodically reopening.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Sort.html" title="class in org.apache.lucene.search">Sort</a></td>
<td class="colLast">
<div class="block">Encapsulates sort criteria for returned hits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortField.html" title="class in org.apache.lucene.search">SortField</a></td>
<td class="colLast">
<div class="block">Stores information about how to sort documents by terms in an individual
 field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search">TermQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents containing a term.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermRangeFilter.html" title="class in org.apache.lucene.search">TermRangeFilter</a></td>
<td class="colLast">
<div class="block">A Filter that restricts search results to a range of term
 values in a given field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermRangeQuery.html" title="class in org.apache.lucene.search">TermRangeQuery</a></td>
<td class="colLast">
<div class="block">A Query that matches documents within an range of terms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermRangeTermsEnum.html" title="class in org.apache.lucene.search">TermRangeTermsEnum</a></td>
<td class="colLast">
<div class="block">Subclass of FilteredTermEnum for enumerating all terms that match the
 specified range parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TermStatistics.html" title="class in org.apache.lucene.search">TermStatistics</a></td>
<td class="colLast">
<div class="block">Contains statistics for a specific term</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.html" title="class in org.apache.lucene.search">TimeLimitingCollector</a></td>
<td class="colLast">
<div class="block">The <a href="../../../../org/apache/lucene/search/TimeLimitingCollector.html" title="class in org.apache.lucene.search"><code>TimeLimitingCollector</code></a> is used to timeout search requests that
 take longer than the maximum allowed search time limit.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.TimerThread.html" title="class in org.apache.lucene.search">TimeLimitingCollector.TimerThread</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search">TopDocs</a></td>
<td class="colLast">
<div class="block">Represents hits returned by <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Query, org.apache.lucene.search.Filter, int)"><code>IndexSearcher.search(Query,Filter,int)</code></a> and <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Query, int)"><code>IndexSearcher.search(Query,int)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopDocsCollector.html" title="class in org.apache.lucene.search">TopDocsCollector</a>&lt;T extends <a href="../../../../org/apache/lucene/search/ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a>&gt;</td>
<td class="colLast">
<div class="block">A base class for all collectors that return a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> output.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopFieldCollector.html" title="class in org.apache.lucene.search">TopFieldCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> that sorts by <a href="../../../../org/apache/lucene/search/SortField.html" title="class in org.apache.lucene.search"><code>SortField</code></a> using
 <a href="../../../../org/apache/lucene/search/FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopFieldDocs.html" title="class in org.apache.lucene.search">TopFieldDocs</a></td>
<td class="colLast">
<div class="block">Represents hits returned by <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Query, org.apache.lucene.search.Filter, int, org.apache.lucene.search.Sort)"><code>IndexSearcher.search(Query,Filter,int,Sort)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopScoreDocCollector.html" title="class in org.apache.lucene.search">TopScoreDocCollector</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> implementation that collects the top-scoring hits,
 returning them as a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TopTermsRewrite.html" title="class in org.apache.lucene.search">TopTermsRewrite</a>&lt;Q extends <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search">Query</a>&gt;</td>
<td class="colLast">
<div class="block">Base rewrite method for collecting only the top terms
 via a priority queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TotalHitCountCollector.html" title="class in org.apache.lucene.search">TotalHitCountCollector</a></td>
<td class="colLast">
<div class="block">Just counts the total number of hits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search">Weight</a></td>
<td class="colLast">
<div class="block">Expert: Calculate query weights and build query scorers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search">WildcardQuery</a></td>
<td class="colLast">
<div class="block">Implements the wildcard search query.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html" title="enum in org.apache.lucene.search">BooleanClause.Occur</a></td>
<td class="colLast">
<div class="block">Specifies how clauses are to occur in matching documents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/SortField.Type.html" title="enum in org.apache.lucene.search">SortField.Type</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/BooleanQuery.TooManyClauses.html" title="class in org.apache.lucene.search">BooleanQuery.TooManyClauses</a></td>
<td class="colLast">
<div class="block">Thrown when an attempt is made to add more than <a href="../../../../org/apache/lucene/search/BooleanQuery.html#getMaxClauseCount()"><code>BooleanQuery.getMaxClauseCount()</code></a> clauses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/FieldCache.StopFillCacheException.html" title="class in org.apache.lucene.search">FieldCache.StopFillCacheException</a></td>
<td class="colLast">
<div class="block">Hack: When thrown from a Parser (NUMERIC_UTILS_* ones), this stops
 processing terms and returns the current FieldCache
 array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/apache/lucene/search/TimeLimitingCollector.TimeExceededException.html" title="class in org.apache.lucene.search">TimeLimitingCollector.TimeExceededException</a></td>
<td class="colLast">
<div class="block">Thrown when elapsed search time exceeds allowed search time.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.apache.lucene.search Description">Package org.apache.lucene.search Description</h2>
<div class="block">Code to search indices.

<h2>Table Of Contents</h2>
<p>
    <ol>
        <li><a href="#search">Search Basics</a></li>
        <li><a href="#query">The Query Classes</a></li>
        <li><a href="#scoring">Scoring: Introduction</a></li>
        <li><a href="#scoringBasics">Scoring: Basics</a></li>
        <li><a href="#changingScoring">Changing the Scoring</a></li>
        <li><a href="#algorithm">Appendix: Search Algorithm</a></li>
    </ol>
</p>


<a name="search"></a>
<h2>Search Basics</h2>
<p>
Lucene offers a wide variety of <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> implementations, most of which are in
this package, its subpackages (<a href="../../../../org/apache/lucene/search/spans/package-summary.html"><code>spans</code></a>, <a href="../../../../org/apache/lucene/search/payloads/package-summary.html"><code>payloads</code></a>),
or the <a href="../../../../../queries/overview-summary.html">queries module</a>. These implementations can be combined in a wide 
variety of ways to provide complex querying capabilities along with information about where matches took place in the document 
collection. The <a href="#query">Query Classes</a> section below highlights some of the more important Query classes. For details 
on implementing your own Query class, see <a href="#customQueriesExpert">Custom Queries -- Expert Level</a> below.
</p>
<p>
To perform a search, applications usually call <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Query, int)"><code>IndexSearcher.search(Query,int)</code></a> or <a href="../../../../org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Query, org.apache.lucene.search.Filter, int)"><code>IndexSearcher.search(Query,Filter,int)</code></a>.
</p>
<p>
Once a Query has been created and submitted to the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>, the scoring
process begins. After some infrastructure setup, control finally passes to the <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a>
implementation and its <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> instances. See the <a href="#algorithm">Algorithm</a> 
section for more notes on the process.
</p>
    <!-- FILL IN MORE HERE -->   
    <!-- TODO: this page over-links the same things too many times -->
</p>


<a name="query"></a>
<h2>Query Classes</h2>
<h4>
    <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
</h4>

<p>Of the various implementations of
    <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>, the
    <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
    is the easiest to understand and the most often used in applications. A
    <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> matches all the documents that contain the
    specified
    <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>,
    which is a word that occurs in a certain
    <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>.
    Thus, a <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> identifies and scores all
    <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have a 
        <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> with the specified string in it.
    Constructing a <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
    is as simple as:
    <pre class="prettyprint">
        TermQuery tq = new TermQuery(new Term("fieldName", "term"));
    </pre>In this example, the <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> identifies all 
        <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have the 
        <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> named <tt>"fieldName"</tt>
    containing the word <tt>"term"</tt>.
</p>
<h4>
    <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>
</h4>

<p>Things start to get interesting when one combines multiple
    <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> instances into a 
        <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>.
    A <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> contains multiple
    <a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a>s,
    where each clause contains a sub-query (<a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
    instance) and an operator (from 
        <a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html" title="enum in org.apache.lucene.search"><code>BooleanClause.Occur</code></a>)
    describing how that sub-query is combined with the other clauses:
    <ol>

        <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#SHOULD"><code>SHOULD</code></a> &mdash; Use this operator when a clause can occur in the result set, but is not required.
            If a query is made up of all SHOULD clauses, then every document in the result
            set matches at least one of these clauses.</p></li>

        <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#MUST"><code>MUST</code></a> &mdash; Use this operator when a clause is required to occur in the result set. Every
            document in the result set will match
            all such clauses.</p></li>

        <li><p><a href="../../../../org/apache/lucene/search/BooleanClause.Occur.html#MUST_NOT"><code>MUST NOT</code></a> &mdash; Use this operator when a
            clause must not occur in the result set. No
            document in the result set will match
            any such clauses.</p></li>
    </ol>
    Boolean queries are constructed by adding two or more
    <a href="../../../../org/apache/lucene/search/BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a>
    instances. If too many clauses are added, a <a href="../../../../org/apache/lucene/search/BooleanQuery.TooManyClauses.html" title="class in org.apache.lucene.search"><code>TooManyClauses</code></a>
    exception will be thrown during searching. This most often occurs
    when a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
    is rewritten into a <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> with many
    <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> clauses,
    for example by <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>.
    The default setting for the maximum number
    of clauses 1024, but this can be changed via the
    static method <a href="../../../../org/apache/lucene/search/BooleanQuery.html#setMaxClauseCount(int)"><code>BooleanQuery.setMaxClauseCount(int)</code></a>.
</p>

<h4>Phrases</h4>

<p>Another common search is to find documents containing certain phrases. This
    is handled three different ways:
    <ol>
        <li>
            <p><a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>
                &mdash; Matches a sequence of
                <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>s.
                <a href="../../../../org/apache/lucene/search/PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> uses a slop factor to determine
                how many positions may occur between any two terms in the phrase and still be considered a match.
                The slop is 0 by default, meaning the phrase must match exactly.</p>
        </li>
        <li>
            <p><a href="../../../../org/apache/lucene/search/MultiPhraseQuery.html" title="class in org.apache.lucene.search"><code>MultiPhraseQuery</code></a>
                &mdash; A more general form of PhraseQuery that accepts multiple Terms
                for a position in the phrase. For example, this can be used to perform phrase queries that also
                incorporate synonyms.
        </li>
        <li>
            <p><a href="../../../../org/apache/lucene/search/spans/SpanNearQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanNearQuery</code></a>
                &mdash; Matches a sequence of other
                <a href="../../../../org/apache/lucene/search/spans/SpanQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanQuery</code></a>
                instances. <a href="../../../../org/apache/lucene/search/spans/SpanNearQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanNearQuery</code></a> allows for
                much more
                complicated phrase queries since it is constructed from other 
                    <a href="../../../../org/apache/lucene/search/spans/SpanQuery.html" title="class in org.apache.lucene.search.spans"><code>SpanQuery</code></a>
                instances, instead of only <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>
                instances.</p>
        </li>
    </ol>
</p>

<h4>
    <a href="../../../../org/apache/lucene/search/TermRangeQuery.html" title="class in org.apache.lucene.search"><code>TermRangeQuery</code></a>
</h4>

<p>The
    <a href="../../../../org/apache/lucene/search/TermRangeQuery.html" title="class in org.apache.lucene.search"><code>TermRangeQuery</code></a>
    matches all documents that occur in the
    exclusive range of a lower
    <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>
    and an upper
    <a href="../../../../org/apache/lucene/index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>
    according to <a href="../../../../org/apache/lucene/util/BytesRefIterator.html#getComparator()"><code>TermsEnum.getComparator()</code></a>. It is not intended
    for numerical ranges; use <a href="../../../../org/apache/lucene/search/NumericRangeQuery.html" title="class in org.apache.lucene.search"><code>NumericRangeQuery</code></a> instead.

    For example, one could find all documents
    that have terms beginning with the letters <tt>a</tt> through <tt>c</tt>.
</p>

<h4>
    <a href="../../../../org/apache/lucene/search/NumericRangeQuery.html" title="class in org.apache.lucene.search"><code>NumericRangeQuery</code></a>
</h4>

<p>The
    <a href="../../../../org/apache/lucene/search/NumericRangeQuery.html" title="class in org.apache.lucene.search"><code>NumericRangeQuery</code></a>
    matches all documents that occur in a numeric range.
    For NumericRangeQuery to work, you must index the values
    using a one of the numeric fields (<a href="../../../../org/apache/lucene/document/IntField.html" title="class in org.apache.lucene.document"><code>IntField</code></a>,
    <a href="../../../../org/apache/lucene/document/LongField.html" title="class in org.apache.lucene.document"><code>LongField</code></a>, <a href="../../../../org/apache/lucene/document/FloatField.html" title="class in org.apache.lucene.document"><code>FloatField</code></a>,
    or <a href="../../../../org/apache/lucene/document/DoubleField.html" title="class in org.apache.lucene.document"><code>DoubleField</code></a>).
</p>

<h4>
    <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a>,
    <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>,
    <a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a>
</h4>

<p>While the
    <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a>
    has a different implementation, it is essentially a special case of the
    <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>.
    The <a href="../../../../org/apache/lucene/search/PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a> allows an application
    to identify all documents with terms that begin with a certain string. The 
        <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> generalizes this by allowing
    for the use of <tt>*</tt> (matches 0 or more characters) and <tt>?</tt> (matches exactly one character) wildcards.
    Note that the <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> can be quite slow. Also
    note that
    <a href="../../../../org/apache/lucene/search/WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> should
    not start with <tt>*</tt> and <tt>?</tt>, as these are extremely slow. 
    Some QueryParsers may not allow this by default, but provide a <code>setAllowLeadingWildcard</code> method
    to remove that protection.
    The <a href="../../../../org/apache/lucene/search/RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a> is even more general than WildcardQuery,
    allowing an application to identify all documents with terms that match a regular expression pattern.
</p>
<h4>
    <a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a>
</h4>

<p>A
    <a href="../../../../org/apache/lucene/search/FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a>
    matches documents that contain terms similar to the specified term. Similarity is
    determined using
    <a href="http://en.wikipedia.org/wiki/Levenshtein">Levenshtein (edit) distance</a>.
    This type of query can be useful when accounting for spelling variations in the collection.
</p>


<a name="scoring"></a>
<h2>Scoring &mdash; Introduction</h2>
<p>Lucene scoring is the heart of why we all love Lucene. It is blazingly fast and it hides 
   almost all of the complexity from the user. In a nutshell, it works.  At least, that is, 
   until it doesn't work, or doesn't work as one would expect it to work.  Then we are left 
   digging into Lucene internals or asking for help on 
   <a href="mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</a> to figure out 
   why a document with five of our query terms scores lower than a different document with 
   only one of the query terms. 
</p>
<p>While this document won't answer your specific scoring issues, it will, hopefully, point you 
  to the places that can help you figure out the <i>what</i> and <i>why</i> of Lucene scoring.
</p>
<p>Lucene scoring supports a number of pluggable information retrieval 
   <a href="http://en.wikipedia.org/wiki/Information_retrieval#Model_types">models</a>, including:
   <ul>
     <li><a href="http://en.wikipedia.org/wiki/Vector_Space_Model">Vector Space Model (VSM)</a></li>
     <li><a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model">Probablistic Models</a> such as 
         <a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model_(BM25)">Okapi BM25</a> and
         <a href="http://en.wikipedia.org/wiki/Divergence-from-randomness_model">DFR</a></li>
     <li><a href="http://en.wikipedia.org/wiki/Language_model">Language models</a></li>
   </ul>
   These models can be plugged in via the <a href="../../../../org/apache/lucene/search/similarities/package-summary.html"><code>Similarity API</code></a>,
   and offer extension hooks and parameters for tuning. In general, Lucene first finds the documents
   that need to be scored based on boolean logic in the Query specification, and then ranks this subset of
   matching documents via the retrieval model. For some valuable references on VSM and IR in general refer to
   <a href="http://wiki.apache.org/lucene-java/InformationRetrieval">Lucene Wiki IR references</a>.
</p>
<p>The rest of this document will cover <a href="#scoringBasics">Scoring basics</a> and explain how to 
   change your <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a>. Next, it will cover
   ways you can customize the lucene internals in 
   <a href="#customQueriesExpert">Custom Queries -- Expert Level</a>, which gives details on 
   implementing your own <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class and related functionality.
   Finally, we will finish up with some reference material in the <a href="#algorithm">Appendix</a>.
</p>


<a name="scoringBasics"></a>
<h2>Scoring &mdash; Basics</h2>
<p>Scoring is very much dependent on the way documents are indexed, so it is important to understand 
   indexing. (see <a href="../../../../overview-summary.html#overview_description">Lucene overview</a> 
   before continuing on with this section) Be sure to use the useful
   <a href="../../../../org/apache/lucene/search/IndexSearcher.html#explain(org.apache.lucene.search.Query, int)"><code>IndexSearcher.explain(Query, doc)</code></a>
   to understand how the score for a certain matching document was
   computed.

<p>Generally, the Query determines which documents match (a binary
  decision), while the Similarity determines how to assign scores to
  the matching documents.

</p>
<h4>Fields and Documents</h4>
<p>In Lucene, the objects we are scoring are <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s.
   A Document is a collection of <a href="../../../../org/apache/lucene/document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>s.  Each Field has
   <a href="../../../../org/apache/lucene/document/FieldType.html" title="class in org.apache.lucene.document"><code>semantics</code></a> about how it is created and stored 
   (<a href="../../../../org/apache/lucene/document/FieldType.html#tokenized()"><code>tokenized</code></a>, 
   <a href="../../../../org/apache/lucene/document/FieldType.html#stored()"><code>stored</code></a>, etc). It is important to note that 
   Lucene scoring works on Fields and then combines the results to return Documents. This is 
   important because two Documents with the exact same content, but one having the content in two
   Fields and the other in one Field may return different scores for the same query due to length
   normalization.
</p>
<h4>Score Boosting</h4>
<p>Lucene allows influencing search results by "boosting" at different times:
   <ul>                   
      <li><b>Index-time boost</b> by calling
       <a href="../../../../org/apache/lucene/document/Field.html#setBoost(float)"><code>Field.setBoost()</code></a> before a document is 
       added to the index.</li>
      <li><b>Query-time boost</b> by setting a boost on a query clause, calling
       <a href="../../../../org/apache/lucene/search/Query.html#setBoost(float)"><code>Query.setBoost()</code></a>.</li>
   </ul>    
</p>
<p>Indexing time boosts are pre-processed for storage efficiency and written to
   storage for a field as follows:
   <ul>
       <li>All boosts of that field (i.e. all boosts under the same field name in that doc) are 
           multiplied.</li>
       <li>The boost is then encoded into a normalization value by the Similarity
           object at index-time: <a href="../../../../org/apache/lucene/search/similarities/Similarity.html#computeNorm(org.apache.lucene.index.FieldInvertState, org.apache.lucene.index.Norm)"><code>computeNorm()</code></a>.
           The actual encoding depends upon the Similarity implementation, but note that most
           use a lossy encoding (such as multiplying the boost with document length or similar, packed
           into a single byte!).</li>
       <li>Decoding of any index-time normalization values and integration into the document's score is also performed 
           at search time by the Similarity.</li>
    </ul>
</p>


<a name="changingScoring"></a>
<h2>Changing Scoring &mdash; Similarity</h2>
<p>
Changing <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> is an easy way to 
influence scoring, this is done at index-time with 
<a href="../../../../org/apache/lucene/index/IndexWriterConfig.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexWriterConfig.setSimilarity(Similarity)</code></a> and at query-time with
<a href="../../../../org/apache/lucene/search/IndexSearcher.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexSearcher.setSimilarity(Similarity)</code></a>.  Be sure to use the same
Similarity at query-time as at index-time (so that norms are
encoded/decoded correctly); Lucene makes no effort to verify this.
</p>
<p>
You can influence scoring by configuring a different built-in Similarity implementation, or by tweaking its
parameters, subclassing it to override behavior. Some implementations also offer a modular API which you can
extend by plugging in a different component (e.g. term frequency normalizer).
</p>
<p>
Finally, you can extend the low level <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> directly
to implement a new retrieval model, or to use external scoring factors particular to your application. For example,
a custom Similarity can access per-document values via <a href="../../../../org/apache/lucene/search/FieldCache.html" title="interface in org.apache.lucene.search"><code>FieldCache</code></a> or
<a href="../../../../org/apache/lucene/index/DocValues.html" title="class in org.apache.lucene.index"><code>DocValues</code></a> and integrate them into the score.
</p>
<p>
See the <a href="../../../../org/apache/lucene/search/similarities/package-summary.html"><code>org.apache.lucene.search.similarities</code></a> package documentation for information
on the built-in available scoring models and extending or changing Similarity.
</p>


<a name="customQueriesExpert"></a>
<h2>Custom Queries &mdash; Expert Level</h2>

<p>Custom queries are an expert level task, so tread carefully and be prepared to share your code if
    you want help.
</p>

<p>With the warning out of the way, it is possible to change a lot more than just the Similarity
    when it comes to matching and scoring in Lucene. Lucene's search is a complex mechanism that is grounded by
    <span>three main classes</span>:
    <ol>
        <li>
            <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> &mdash; The abstract object representation of the
            user's information need.</li>
        <li>
            <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> &mdash; The internal interface representation of
            the user's Query, so that Query objects may be reused.
            This is global (across all segments of the index) and
            generally will require global statistics (such as docFreq
            for a given term across all segments).</li>
        <li>
            <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> &mdash; An abstract class containing common
            functionality for scoring. Provides both scoring and
            explanation capabilities.  This is created per-segment.</li>
    </ol>
    Details on each of these classes, and their children, can be found in the subsections below.
</p>
<h4>The Query Class</h4>
    <p>In some sense, the
        <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
        class is where it all begins. Without a Query, there would be
        nothing to score. Furthermore, the Query class is the catalyst for the other scoring classes as it
        is often responsible
        for creating them or coordinating the functionality between them. The
        <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class has several methods that are important for
        derived classes:
        <ol>
            <li><a href="../../../../org/apache/lucene/search/Query.html#createWeight(org.apache.lucene.search.IndexSearcher)"><code>createWeight(IndexSearcher searcher)</code></a> &mdash; A
                <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> is the internal representation of the
                Query, so each Query implementation must
                provide an implementation of Weight. See the subsection on <a
                    href="#weightClass">The Weight Interface</a> below for details on implementing the Weight
                interface.</li>
            <li><a href="../../../../org/apache/lucene/search/Query.html#rewrite(org.apache.lucene.index.IndexReader)"><code>rewrite(IndexReader reader)</code></a> &mdash; Rewrites queries into primitive queries. Primitive queries are:
                <a href="../../../../org/apache/lucene/search/TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>,
                <a href="../../../../org/apache/lucene/search/BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>, <span
                    >and other queries that implement <a href="../../../../org/apache/lucene/search/Query.html#createWeight(org.apache.lucene.search.IndexSearcher)"><code>createWeight(IndexSearcher searcher)</code></a></span></li>
        </ol>
    </p>
<a name="weightClass"></a>
<h4>The Weight Interface</h4>
    <p>The
        <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a>
        interface provides an internal representation of the Query so that it can be reused. Any
        <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>
        dependent state should be stored in the Weight implementation,
        not in the Query class. The interface defines five methods that must be implemented:
        <ol>
            <li>
                <a href="../../../../org/apache/lucene/search/Weight.html#getQuery()"><code>getQuery()</code></a> &mdash; Pointer to the
                Query that this Weight represents.</li>
            <li>
                <a href="../../../../org/apache/lucene/search/Weight.html#getValueForNormalization()"><code>getValueForNormalization()</code></a> &mdash; 
                A weight can return a floating point value to indicate its magnitude for query normalization. Typically
                a weight such as TermWeight that scores via a <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> 
                will just defer to the Similarity's implementation: 
                <a href="../../../../org/apache/lucene/search/similarities/Similarity.SimWeight.html#getValueForNormalization()"><code>SimWeight#getValueForNormalization()</code></a>.
                For example, with <a href="../../../../org/apache/lucene/search/similarities/TFIDFSimilarity.html" title="class in org.apache.lucene.search.similarities"><code>Lucene's classic vector-space formula</code></a>, this
                is implemented as the sum of squared weights: <code>(idf * boost)<sup>2</sup></code></li>
            <li>
                <a href="../../../../org/apache/lucene/search/Weight.html#normalize(float, float)"><code>normalize(float norm, float topLevelBoost)</code></a> &mdash; 
                Performs query normalization: 
                <ul>
                <li><code>topLevelBoost</code>: A query-boost factor from any wrapping queries that should be multiplied into every
                document's score. For example, a TermQuery that is wrapped within a BooleanQuery with a boost of <code>5</code> would
                receive this value at this time. This allows the TermQuery (the leaf node in this case) to compute this up-front
                a single time (e.g. by multiplying into the IDF), rather than for every document.</li> 
                <li><code>norm</code>: Passes in a a normalization factor which may
                allow for comparing scores between queries.</li>
                </ul>
                Typically a weight such as TermWeight
                that scores via a <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> will just defer to the Similarity's implementation:
                <a href="../../../../org/apache/lucene/search/similarities/Similarity.SimWeight.html#normalize(float, float)"><code>SimWeight#normalize(float,float)</code></a>.</li>
            <li>
                <a href="../../../../org/apache/lucene/search/Weight.html#scorer(org.apache.lucene.index.AtomicReaderContext, boolean, boolean, org.apache.lucene.util.Bits)"><code>scorer(AtomicReaderContext context, boolean scoresDocsInOrder, boolean topScorer, Bits acceptDocs)</code></a> &mdash;
                Construct a new <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> for this Weight. See <a href="#scorerClass">The Scorer Class</a>
                below for help defining a Scorer. As the name implies, the Scorer is responsible for doing the actual scoring of documents 
                given the Query.
            </li>
            <li>
                <a href="../../../../org/apache/lucene/search/Weight.html#explain(org.apache.lucene.index.AtomicReaderContext, int)"><code>explain(AtomicReaderContext context, int doc)</code></a> &mdash; Provide a means for explaining why a given document was
                scored the way it was.
                Typically a weight such as TermWeight
                that scores via a <a href="../../../../org/apache/lucene/search/similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> will make use of the Similarity's implementations:
                <a href="../../../../org/apache/lucene/search/similarities/Similarity.ExactSimScorer.html#explain(int, org.apache.lucene.search.Explanation)"><code>ExactSimScorer#explain(int doc, Explanation freq)</code></a>,
                and <a href="../../../../org/apache/lucene/search/similarities/Similarity.SloppySimScorer.html#explain(int, org.apache.lucene.search.Explanation)"><code>SloppySimScorer#explain(int doc, Explanation freq)</code></a>
                </li>
             </li>
        </ol>
    </p>
<a name="scorerClass"></a>
<h4>The Scorer Class</h4>
    <p>The
        <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>
        abstract class provides common scoring functionality for all Scorer implementations and
        is the heart of the Lucene scoring process. The Scorer defines the following abstract (some of them are not
        yet abstract, but will be in future versions and should be considered as such now) methods which
        must be implemented (some of them inherited from <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>):
        <ol>
            <li>
                <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html#nextDoc()"><code>nextDoc()</code></a> &mdash; Advances to the next
                document that matches this Query, returning true if and only if there is another document that matches.</li>
            <li>
                <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html#docID()"><code>docID()</code></a> &mdash; Returns the id of the
                <a href="../../../../org/apache/lucene/document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a> that contains the match.
            </li>
            <li>
                <a href="../../../../org/apache/lucene/search/Scorer.html#score(org.apache.lucene.search.Collector)"><code>score()</code></a> &mdash; Return the score of the
                current document. This value can be determined in any appropriate way for an application. For instance, the
                <code>TermScorer</code> simply defers to the configured Similarity:
                <a href="../../../../org/apache/lucene/search/similarities/Similarity.ExactSimScorer.html#score(int, int)"><code>ExactSimScorer.score(int doc, int freq)</code></a>.
            </li>
            <li>
                <a href="../../../../org/apache/lucene/search/Scorer.html#freq()"><code>freq()</code></a> &mdash; Returns the number of matches
                for the current document. This value can be determined in any appropriate way for an application. For instance, the
                <code>TermScorer</code> simply defers to the term frequency from the inverted index:
                <a href="../../../../org/apache/lucene/index/DocsEnum.html#freq()"><code>DocsEnum.freq()</code></a>.
            </li>
            <li>
                <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html#advance(int)"><code>advance()</code></a> &mdash; Skip ahead in
                the document matches to the document whose id is greater than
                or equal to the passed in value. In many instances, advance can be
                implemented more efficiently than simply looping through all the matching documents until
                the target document is identified.
            </li>
            <li>
                <a href="../../../../org/apache/lucene/search/Scorer.html#getChildren()"><code>getChildren()</code></a> &mdash; Returns any child subscorers
                underneath this scorer. This allows for users to navigate the scorer hierarchy and receive more fine-grained
                details on the scoring process.
            </li>
        </ol>
    </p>
<h4>Why would I want to add my own Query?</h4>

    <p>In a nutshell, you want to add your own custom Query implementation when you think that Lucene's
        aren't appropriate for the
        task that you want to do. You might be doing some cutting edge research or you need more information
        back
        out of Lucene (similar to Doug adding SpanQuery functionality).</p>

<!-- TODO: integrate this better, its better served as an intro than an appendix -->


<a name="algorithm"></a>
<h2>Appendix: Search Algorithm</h2>
<p>This section is mostly notes on stepping through the Scoring process and serves as
   fertilizer for the earlier sections.</p>
<p>In the typical search application, a <a href="../../../../org/apache/lucene/search/Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>
   is passed to the <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>,
   beginning the scoring process.</p>
<p>Once inside the IndexSearcher, a <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a>
   is used for the scoring and sorting of the search results.
   These important objects are involved in a search:
   <ol>                
      <li>The <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object of the Query. The
          Weight object is an internal representation of the Query that allows the Query 
          to be reused by the IndexSearcher.</li>
      <li>The IndexSearcher that initiated the call.</li>     
      <li>A <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a> for limiting the result set.
          Note, the Filter may be null.</li>                   
      <li>A <a href="../../../../org/apache/lucene/search/Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a> object for specifying how to sort
          the results if the standard score-based sort method is not desired.</li>                   
  </ol>       
</p>
<p>Assuming we are not sorting (since sorting doesn't affect the raw Lucene score),
   we call one of the search methods of the IndexSearcher, passing in the
   <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object created by
   <a href="../../../../org/apache/lucene/search/IndexSearcher.html#createNormalizedWeight(org.apache.lucene.search.Query)"><code>IndexSearcher.createNormalizedWeight(Query)</code></a>, 
   <a href="../../../../org/apache/lucene/search/Filter.html" title="class in org.apache.lucene.search"><code>Filter</code></a> and the number of results we want.
   This method returns a <a href="../../../../org/apache/lucene/search/TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> object,
   which is an internal collection of search results. The IndexSearcher creates
   a <a href="../../../../org/apache/lucene/search/TopScoreDocCollector.html" title="class in org.apache.lucene.search"><code>TopScoreDocCollector</code></a> and
   passes it along with the Weight, Filter to another expert search method (for
   more on the <a href="../../../../org/apache/lucene/search/Collector.html" title="class in org.apache.lucene.search"><code>Collector</code></a> mechanism,
   see <a href="../../../../org/apache/lucene/search/IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>). The TopScoreDocCollector
   uses a <a href="../../../../org/apache/lucene/util/PriorityQueue.html" title="class in org.apache.lucene.util"><code>PriorityQueue</code></a> to collect the
   top results for the search.
</p> 
<p>If a Filter is being used, some initial setup is done to determine which docs to include. 
   Otherwise, we ask the Weight for a <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> for each
   <a href="../../../../org/apache/lucene/index/IndexReader.html" title="class in org.apache.lucene.index"><code>IndexReader</code></a> segment and proceed by calling
   <a href="../../../../org/apache/lucene/search/Scorer.html#score(org.apache.lucene.search.Collector)"><code>Scorer.score()</code></a>.
</p>
<p>At last, we are actually going to score some documents. The score method takes in the Collector
   (most likely the TopScoreDocCollector or TopFieldCollector) and does its business.Of course, here 
   is where things get involved. The <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> that is returned
   by the <a href="../../../../org/apache/lucene/search/Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object depends on what type of Query was
   submitted. In most real world applications with multiple query terms, the 
   <a href="../../../../org/apache/lucene/search/Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> is going to be a <code>BooleanScorer2</code> created
   from <a href="../../../../org/apache/lucene/search/BooleanQuery.BooleanWeight.html" title="class in org.apache.lucene.search"><code>BooleanWeight</code></a> (see the section on
   <a href="#customQueriesExpert">custom queries</a> for info on changing this).
</p>
<p>Assuming a BooleanScorer2, we first initialize the Coordinator, which is used to apply the coord() 
  factor. We then get a internal Scorer based on the required, optional and prohibited parts of the query.
  Using this internal Scorer, the BooleanScorer2 then proceeds into a while loop based on the 
  <a href="../../../../org/apache/lucene/search/DocIdSetIterator.html#nextDoc()"><code>Scorer.nextDoc()</code></a> method. The nextDoc() method advances 
  to the next document matching the query. This is an abstract method in the Scorer class and is thus 
  overridden by all derived  implementations. If you have a simple OR query your internal Scorer is most 
  likely a DisjunctionSumScorer, which essentially combines the scorers from the sub scorers of the OR'd terms.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/index/package-summary.html">Prev Package</a></li>
<li><a href="../../../../org/apache/lucene/search/payloads/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <address>Copyright &copy; 2000-2012 Apache Software Foundation.  All Rights Reserved.</address>
          <script src='../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
