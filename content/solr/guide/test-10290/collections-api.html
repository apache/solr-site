<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Collections API | Apache Solr Reference Guide</title>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-solr.css">
<link rel="stylesheet" href="css/ref-guide.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="Apache Solr Reference Guide" href="https://home.apache.org/~ctargett/RefGuidePOC/jekyll-full/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // we do *NOT* want cookies used to save the current stage of the sidebar
                             // instead the code in sidebar.html will ensure that the current page
                             // (and it's ancestors) are "active" on page load
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="apache-solr-reference-guide.html">&nbsp;<span class="projectTitle"> Solr Ref Guide 7.0</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- Link to Solr website -->
                <li><a href="https://lucene.apache.org/solr/news" target="_blank">Solr News</a></li>
                <!-- Solr Resources dropdown -->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Solr Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                       <li><a href="https://lucene.apache.org/solr/7_0_0//solr-core/index.html" target="_blank">Solr Javadocs</a></li>
                       <li><a href="https://git1-us-west.apache.org/repos/asf?p=lucene-solr.git" target="_blank">Lucene/Solr Source Code</a></li>
                       <li><a href="https://lucene.apache.org/solr/resources.html#community" target="_blank">Solr Community Links</a></li>
                    </ul>
                </li>
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Collections API">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div class="col-lg-12">&nbsp;</div>
  <!-- Content Row -->
  <div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">
      

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Apache Solr Reference Guide <!-- TODO: version from site.data --></li>
  
  <li class="sb-level1">
    <a href="about-this-guide.html">About This Guide</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="getting-started.html">Getting Started</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="installing-solr.html">Installing Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr.html">Running Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-quick-overview.html">A Quick Overview</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-step-closer.html">A Step Closer</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-control-script-reference.html">Solr Control Script Reference</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-solr.html">Upgrading Solr</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="using-the-solr-administration-user-interface.html">Using the Solr Administration User Interface</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-the-solr-admin-ui.html">Overview of the Solr Admin UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="getting-assistance.html">Getting Assistance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="logging.html">Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cloud-screens.html">Cloud Screens</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collections-core-admin.html">Collections / Core Admin</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="java-properties.html">Java Properties</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="thread-dump.html">Thread Dump</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collection-specific-tools.html">Collection-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="analysis-screen.html">Analysis Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="dataimport-screen.html">Dataimport Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="documents-screen.html">Documents Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="files-screen.html">Files Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-screen.html">Query Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="stream-screen.html">Stream Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-browser-screen.html">Schema Browser Screen</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="core-specific-tools.html">Core-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="ping.html">Ping</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="plugins-stats-screen.html">Plugins &amp; Stats Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="replication-screen.html">Replication Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="segments-info.html">Segments Info</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="documents-fields-and-schema-design.html">Documents, Fields, and Schema Design</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-documents-fields-and-schema-design.html">Overview of Documents, Fields, and Schema Design</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-field-types.html">Solr Field Types</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="field-type-definitions-and-properties.html">Field Type Definitions and Properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-types-included-with-solr.html">Field Types Included with Solr</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-currencies-and-exchange-rates.html">Working with Currencies and Exchange Rates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-dates.html">Working with Dates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-enum-fields.html">Working with Enum Fields</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-external-files-and-processes.html">Working with External Files and Processes</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-properties-by-use-case.html">Field Properties by Use Case</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="defining-fields.html">Defining Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="copying-fields.html">Copying Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="dynamic-fields.html">Dynamic Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="other-schema-elements.html">Other Schema Elements</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schema-api.html">Schema API</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="putting-the-pieces-together.html">Putting the Pieces Together</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="docvalues.html">DocValues</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schemaless-mode.html">Schemaless Mode</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="understanding-analyzers-tokenizers-and-filters.html">Understanding Analyzers, Tokenizers, and Filters</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="analyzers.html">Analyzers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-tokenizers.html">About Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-filters.html">About Filters</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="tokenizers.html">Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="filter-descriptions.html">Filter Descriptions</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="charfilterfactories.html">CharFilterFactories</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="language-analysis.html">Language Analysis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="phonetic-matching.html">Phonetic Matching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-your-analyzer.html">Running Your Analyzer</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="indexing-and-basic-data-operations.html">Indexing and Basic Data Operations</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-solr-indexing.html">Introduction to Solr Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="post-tool.html">Post Tool</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-index-handlers.html">Uploading Data with Index Handlers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="transforming-and-indexing-custom-json.html">Transforming and Indexing Custom JSON</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-solr-cell-using-apache-tika.html">Uploading Data with Solr Cell using Apache Tika</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-structured-data-store-data-with-the-data-import-handler.html">Uploading Structured Data Store Data with the Data Import Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="updating-parts-of-documents.html">Updating Parts of Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="detecting-languages-during-indexing.html">Detecting Languages During Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="de-duplication.html">De-Duplication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="content-streams.html">Content Streams</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uima-integration.html">UIMA Integration</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="searching.html">Searching</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-searching-in-solr.html">Overview of Searching in Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="velocity-search-ui.html">Velocity Search UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="relevance.html">Relevance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-syntax-and-parsing.html">Query Syntax and Parsing</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="common-query-parameters.html">Common Query Parameters</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-standard-query-parser.html">The Standard Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-dismax-query-parser.html">The DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-extended-dismax-query-parser.html">The Extended DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="function-queries.html">Function Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="local-parameters-in-queries.html">Local Parameters in Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="other-parsers.html">Other Parsers</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="faceting.html">Faceting</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blockjoin-faceting.html">BlockJoin Faceting</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="highlighting.html">Highlighting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spell-checking.html">Spell Checking</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-re-ranking.html">Query Re-Ranking</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="learning-to-rank.html">Learning To Rank</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="transforming-result-documents.html">Transforming Result Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="suggester.html">Suggester</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="morelikethis.html">MoreLikeThis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="pagination-of-results.html">Pagination of Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collapse-and-expand-results.html">Collapse and Expand Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-grouping.html">Result Grouping</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-clustering.html">Result Clustering</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spatial-search.html">Spatial Search</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-terms-component.html">The Terms Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-term-vector-component.html">The Term Vector Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-stats-component.html">The Stats Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-query-elevation-component.html">The Query Elevation Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="response-writers.html">Response Writers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="velocity-response-writer.html">Velocity Response Writer</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="near-real-time-searching.html">Near Real Time Searching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="realtime-get.html">RealTime Get</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="exporting-result-sets.html">Exporting Result Sets</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="streaming-expressions.html">Streaming Expressions</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="graph-traversal.html">Graph Traversal</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="parallel-sql-interface.html">Parallel SQL Interface</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="solr-jdbc-dbvisualizer.html">Solr JDBC - DbVisualizer</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-squirrel-sql.html">Solr JDBC - SQuirreL SQL</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-apache-zeppelin.html">Solr JDBC - Apache Zeppelin</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-python-jython.html">Solr JDBC - Python/Jython</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-r.html">Solr JDBC - R</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="the-well-configured-solr-instance.html">The Well-Configured Solr Instance</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="configuring-solrconfig-xml.html">Configuring solrconfig.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="datadir-and-directoryfactory-in-solrconfig.html">DataDir and DirectoryFactory in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="lib-directives-in-solrconfig.html">Lib Directives in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-factory-definition-in-solrconfig.html">Schema Factory Definition in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="indexconfig-in-solrconfig.html">IndexConfig in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requesthandlers-and-searchcomponents-in-solrconfig.html">RequestHandlers and SearchComponents in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="initparams-in-solrconfig.html">InitParams in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="updatehandlers-in-solrconfig.html">UpdateHandlers in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-settings-in-solrconfig.html">Query Settings in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requestdispatcher-in-solrconfig.html">RequestDispatcher in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="update-request-processors.html">Update Request Processors</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="codec-factory.html">Codec Factory</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-cores-and-solr-xml.html">Solr Cores and solr.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="format-of-solr-xml.html">Format of solr.xml</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="defining-core-properties.html">Defining core.properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="coreadmin-api.html">CoreAdmin API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-sets.html">Config Sets</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuration-apis.html">Configuration APIs</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blob-store-api.html">Blob Store API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-api.html">Config API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="request-parameters-api.html">Request Parameters API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="managed-resources.html">Managed Resources</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="implicit-requesthandlers.html">Implicit RequestHandlers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-plugins.html">Solr Plugins</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="adding-custom-plugins-in-solrcloud-mode.html">Adding Custom Plugins in SolrCloud Mode</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="jvm-settings.html">JVM Settings</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="managing-solr.html">Managing Solr</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="taking-solr-to-production.html">Taking Solr to Production</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="securing-solr.html">Securing Solr</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="authentication-and-authorization-plugins.html">Authentication and Authorization Plugins</a>
            
            <ul>
              
              <li class="sb-level4">
                <a href="basic-authentication-plugin.html">Basic Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="hadoop-authentication-plugin.html">Hadoop Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="kerberos-authentication-plugin.html">Kerberos Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="rule-based-authorization-plugin.html">Rule-Based Authorization Plugin</a>
                
              </li>
              
            </ul>
            
          </li>
          
          <li class="sb-level3">
            <a href="enabling-ssl.html">Enabling SSL</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr-on-hdfs.html">Running Solr on HDFS</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="making-and-restoring-backups.html">Making and Restoring Backups</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuring-logging.html">Configuring Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-jmx-with-solr.html">Using JMX with Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="mbean-request-handler.html">MBean Request Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="performance-statistics-reference.html">Performance Statistics Reference</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="metrics-reporting.html">Metrics Reporting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="v2-api.html">v2 API</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="solrcloud.html">SolrCloud</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="getting-started-with-solrcloud.html">Getting Started with SolrCloud</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="how-solrcloud-works.html">How SolrCloud Works</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="shards-and-indexing-data-in-solrcloud.html">Shards and Indexing Data in SolrCloud</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="distributed-requests.html">Distributed Requests</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="read-and-write-side-fault-tolerance.html">Read and Write Side Fault Tolerance</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solrcloud-configuration-and-parameters.html">SolrCloud Configuration and Parameters</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="setting-up-an-external-zookeeper-ensemble.html">Setting Up an External ZooKeeper Ensemble</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="using-zookeeper-to-manage-configuration-files.html">Using ZooKeeper to Manage Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="zookeeper-access-control.html">ZooKeeper Access Control</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="collections-api.html">Collections API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="parameter-reference.html">Parameter Reference</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="command-line-utilities.html">Command Line Utilities</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solrcloud-with-legacy-configuration-files.html">SolrCloud with Legacy Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="configsets-api.html">ConfigSets API</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="rule-based-replica-placement.html">Rule-based Replica Placement</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cross-data-center-replication-cdcr-.html">Cross Data Center Replication (CDCR)</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="legacy-scaling-and-distribution.html">Legacy Scaling and Distribution</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-scaling-and-distribution.html">Introduction to Scaling and Distribution</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="distributed-search-with-index-sharding.html">Distributed Search with Index Sharding</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="index-replication.html">Index Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="combining-distribution-and-replication.html">Combining Distribution and Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="merging-indexes.html">Merging Indexes</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="client-apis.html">Client APIs</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-client-apis.html">Introduction to Client APIs</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="choosing-an-output-format.html">Choosing an Output Format</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="client-api-lineup.html">Client API Lineup</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-javascript.html">Using JavaScript</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-python.html">Using Python</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solrj.html">Using SolrJ</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solr-from-ruby.html">Using Solr From Ruby</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="major-changes-from-solr-5-to-solr-6.html">Major Changes from Solr 5 to Solr 6</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-a-solr-cluster.html">Upgrading a Solr Cluster</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="indexupgrader-tool.html">IndexUpgrader Tool</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="further-assistance.html">Further Assistance</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="solr-glossary.html">Solr Glossary</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="errata.html">Errata</a>
    
  </li>
  
</ul>


<!-- set the 'active' class on the current page and ancestors -->
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("#mysidebar a[href='collections-api.html']").parents('li').toggleClass("active", true);</script>
<!-- set the 'current' class on the current page and 'current-tree' on the current page + it's ancestors -->
<!-- this can let us do css highlighting of the current page in the sidebar even if/when the user clicks around in the sidebar causing other sidebar elements to be 'active' -->
<script>
  $("#mysidebar a[href='collections-api.html']").parent('li').toggleClass("current", true);
  $("#mysidebar a[href='collections-api.html']").parents('li').toggleClass("current-tree", true);
</script>

    </div>
    <!-- Content Column -->
    <div class="col-md-9">
      <div class="post-header">
   <h1 class="post-title-main">Collections API</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 2, listType: 'ul', showSpeed: 0, headers: 'h2,h3' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    

<div id="main-content">
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Collections API is used to enable you to create, remove, or reload collections, but in the context of SolrCloud you can also use it to create collections with a specific number of shards and replicas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-create">CREATE: Create a Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=CREATE&amp;name=<em>name</em>&amp;numShards=<em>number</em>&amp;replicationFactor=<em>number</em>&amp;maxShardsPerNode=<em>number</em>&amp;createNodeSet=<em>nodelist</em>&amp;collection.configName=<em>configname</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to be created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">router.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compositeId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The router name that will be used. The router defines how documents will be distributed among the shards. Possible values are <strong>implicit</strong> or <strong>compositeId</strong>. The 'implicit' router does not automatically route documents to different shards. Whichever shard you indicate on the indexing request (or within each document) will be used as the destination for those documents. The 'compositeId' router hashes the value in the uniqueKey field and looks up that hash in the collection&#8217;s clusterstate to determine which shard will receive the document, with the additional ability to manually direct the routing. When using the 'implicit' router, the <code>shards</code> parameter is required. When using the 'compositeId' router, the <code>numShards</code> parameter is required. For more information, see also the section <a href="shards-and-indexing-data-in-solrcloud.html#ShardsandIndexingDatainSolrCloud-DocumentRouting">Document Routing</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numShards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of shards to be created as part of the collection. This is a required parameter when using the 'compositeId' router.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma separated list of shard names, e.g., shard-x,shard-y,shard-z. This is a required parameter when using the 'implicit' router.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replicationFactor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of replicas to be created for each shard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxShardsPerNode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When creating collections, the shards and/or replicas are spread across all available (i.e., live) nodes, and two replicas of the same shard will never be on the same node. If a node is not live when the CREATE operation is called, it will not get any parts of the new collection, which could lead to too many replicas being created on a single live node. Defining <code>maxShardsPerNode</code> sets a limit on the number of replicas CREATE will spread to each node. If the entire collection can not be fit into the live nodes, no collection will be created at all.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createNodeSet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows defining the nodes to spread the new collection across. If not provided, the CREATE operation will create shard-replica spread across all live Solr nodes. The format is a comma-separated list of node_names, such as <code>localhost:8983_solr,</code> <code>localhost:8984_solr,</code> <code>localhost:8985_solr</code>. Alternatively, use the special value of <code>EMPTY</code> to initially create no shard-replica within the new collection and then later use the <a href="#CollectionsAPI-api_addreplica">ADDREPLICA</a> operation to add shard-replica when and where required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createNodeSet.shuffle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Controls wether or not the shard-replicas created for this collection will be assigned to the nodes specified by the createNodeSet in a sequential manner, or if the list of nodes should be shuffled prior to creating individual replicas. A 'false' value makes the results of a collection creation predictible and gives more exact control over the location of the individual shard-replicas, but 'true' can be a better choice for ensuring replicas are distributed evenly across nodes.</p>
</div>
<div class="paragraph">
<p>Ignored if createNodeSet is not also specified.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection.configName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the name of the configurations (which must already be stored in ZooKeeper) to use for this collection. If not provided, Solr will default to the collection name as the configuration name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">router.field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If this field is specified, the router will look at the value of the field in an input document to compute the hash and identify a shard instead of looking at the <code>uniqueKey</code> field. If the field specified is null in the document, the document will be rejected. Please note that <a href="realtime-get.html#realtime-get">RealTime Get</a> or retrieval by id would also require the parameter <code><em>route</em></code> (or <code>shard.keys</code>) to avoid a distributed search.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See the section <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a> for details on supported properties and values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autoAddReplicas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to true, enables auto addition of replicas on shared file systems. See the section <a href="running-solr-on-hdfs.html#RunningSolronHDFS-autoAddReplicasSettings">autoAddReplicas Settings</a> for more details on settings and overrides.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replica placement rules. See the section <a href="rule-based-replica-placement.html#rule-based-replica-placement">Rule-based Replica Placement</a> for details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">snitch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Details of the snitch provider. See the section <a href="rule-based-replica-placement.html#rule-based-replica-placement">Rule-based Replica Placement</a> for details.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the new core names. If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=CREATE&amp;name=newCollection&amp;numShards=2&amp;replicationFactor=1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3764<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3450<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>newCollection_shard1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3597<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>newCollection_shard2_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-modifycollection">MODIFYCOLLECTION: Modify Attributes of a Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=MODIFYCOLLECTION&amp;collection=&lt;collection-name&gt;&amp;&lt;attribute-name&gt;=</code> <code><em>&lt;attribute-value&gt;&amp;&lt;another-attribute-name&gt;=&lt;another-value&gt;</em></code></p>
</div>
<div class="paragraph">
<p>It&#8217;s possible to edit multiple attributes at a time. Changing these values only updates the z-node on Zookeeper, they do not change the topology of the collection. For instance, increasing replicationFactor will <em>not</em> automatically add more replicas to the collection but <em>will</em> allow more ADDREPLICA commands to succeed.</p>
</div>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to be modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;attribute-name&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Key-value pairs of attribute names and attribute values.</p>
</div>
<div class="paragraph">
<p>The attributes that can be modified are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>maxShardsPerNode</p>
</li>
<li>
<p>replicationFactor</p>
</li>
<li>
<p>autoAddReplicas</p>
</li>
<li>
<p>collection.configName</p>
</li>
<li>
<p>rule</p>
</li>
<li>
<p>snitch</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="#CollectionsAPI-api1">CREATE</a> section above for details on these attributes.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-reload">RELOAD: Reload a Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=RELOAD&amp;name=<em>name</em></code></p>
</div>
<div class="paragraph">
<p>The RELOAD action is used when you have changed a configuration in ZooKeeper.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.1">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to reload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.1">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the cores that were reloaded. If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.1">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=RELOAD&amp;name=newCollection</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1551<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;10.0.1.6:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>761<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;10.0.1.4:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1527<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-splitshard">SPLITSHARD: Split a Shard</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=SPLITSHARD&amp;collection=<em>name</em>&amp;shard=<em>shardID</em></code></p>
</div>
<div class="paragraph">
<p>Splitting a shard will take an existing shard and break it into two pieces which are written to disk as two (new) shards. The original shard will continue to contain the same data as-is but it will start re-routing requests to the new shards. The new shards will have as many replicas as the original shard. A soft commit is automatically issued after splitting a shard so that documents are made visible on sub-shards. An explicit commit (hard or soft) is not necessary after a split operation because the index is automatically persisted to disk during the split operation.</p>
</div>
<div class="paragraph">
<p>This command allows for seamless splitting and requires no downtime. A shard being split will continue to accept query and indexing requests and will automatically start routing them to the new shards once this operation is complete. This command can only be used for SolrCloud collections created with "numShards" parameter, meaning collections which rely on Solr&#8217;s hash-based routing mechanism.</p>
</div>
<div class="paragraph">
<p>The split is performed by dividing the original shard&#8217;s hash range into two equal partitions and dividing up the documents in the original shard according to the new sub-ranges.</p>
</div>
<div class="paragraph">
<p>One can also specify an optional 'ranges' parameter to divide the original shard&#8217;s hash range into arbitrary hash range intervals specified in hexadecimal. For example, if the original hash range is 0-1500 then adding the parameter: ranges=0-1f4,1f5-3e8,3e9-5dc will divide the original shard into three shards with hash range 0-500, 501-1000 and 1001-1500 respectively.</p>
</div>
<div class="paragraph">
<p>Another optional parameter 'split.key' can be used to split a shard using a route key such that all documents of the specified route key end up in a single dedicated sub-shard. Providing the 'shard' parameter is not required in this case because the route key is enough to figure out the right shard. A route key which spans more than one shard is not supported. For example, suppose split.key=A! hashes to the range 12-15 and belongs to shard 'shard1' with range 0-20 then splitting by this route key would yield three sub-shards with ranges 0-11, 12-15 and 16-20. Note that the sub-shard with the hash range of the route key may also contain documents for other route keys whose hash ranges overlap.</p>
</div>
<div class="paragraph">
<p>Shard splitting can be a long running process. In order to avoid timeouts, you should run this as an <a href="#CollectionsAPI-AsynchronousCalls">asynchronous call</a>.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.2">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection that includes the shard to be split.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard to be split.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ranges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;A comma-separated list of hash ranges in hexadecimal, such as <code>ranges=0-1f4,1f5-3e8,3e9-5dc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;split.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key to use for splitting the index.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See the section <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a> for details on supported properties and values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.2">Output</h3>
<div class="paragraph">
<p>The output will include the status of the request and the new shard names, which will use the original shard as their basis, adding an underscore and a number. For example, "shard1" will become "shard1_0" and "shard1_1". If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.2">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Split shard1 of the "anotherCollection" collection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=SPLITSHARD&amp;collection=anotherCollection&amp;shard=shard1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>6120<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3673<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>anotherCollection_shard1_1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3681<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>anotherCollection_shard1_0_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>6008<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>6007<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>71<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>anotherCollection_shard1_1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>EMPTY_BUFFER<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>anotherCollection_shard1_0_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>EMPTY_BUFFER<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-createshard">CREATESHARD: Create a Shard</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Shards can only created with this API for collections that use the 'implicit' router. Use SPLITSHARD for collections using the 'compositeId' router. A new shard with a name can be created for an existing 'implicit' collection.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=CREATESHARD&amp;shard=<em>shardName</em>&amp;collection=<em>name</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.3">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection that includes the shard that will be splitted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard to be created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createNodeSet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows defining the nodes to spread the new collection across. If not provided, the CREATE operation will create shard-replica spread across all live Solr nodes. The format is a comma-separated list of node_names, such as <code>localhost:8983_solr,</code> <code>localhost:8984_solr,</code> <code>localhost:8985_solr</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See the section <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a> for details on supported properties and values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.3">Output</h3>
<div class="paragraph">
<p>The output will include the status of the request. If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.3">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Create 'shard-z' for the "anImplicitCollection" collection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=CREATESHARD&amp;collection=anImplicitCollection&amp;shard=shard-z</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>558<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deleteshard">DELETESHARD: Delete a Shard</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deleting a shard will unload all replicas of the shard, remove them from <code>clusterstate.json</code>, and (by default) delete the instanceDir and dataDir for each replica. It will only remove shards that are inactive, or which have no range given for custom sharding.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=DELETESHARD&amp;shard=<em>shardID</em>&amp;collection=<em>name</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.4">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection that includes the shard to be deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard to be deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteInstanceDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the entire instanceDir of each replica that is deleted. Set this to <code>false</code> to prevent the instance directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteDataDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the dataDir of each replica that is deleted. Set this to <code>false</code> to prevent the data directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the index of each replica that is deleted. Set this to <code>false</code> to prevent the index directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.4">Output</h3>
<div class="paragraph">
<p>The output will include the status of the request. If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.4">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Delete 'shard1' of the "anotherCollection" collection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETESHARD&amp;collection=anotherCollection&amp;shard=shard1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>558<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;10.0.1.4:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>27<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-createalias">CREATEALIAS: Create or Modify an Alias for a Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>CREATEALIAS</code> action will create a new alias pointing to one or more collections. If an alias by the same name already exists, this action will replace the existing alias, effectively acting like an atomic "MOVE" command.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=CREATEALIAS&amp;name=<em>name</em>&amp;collections=<em>collectionlist</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.5">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The alias name to be created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of collections to be aliased, separated by commas. They must already exist in the cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.5">Output</h3>
<div class="paragraph">
<p>The output will simply be a responseHeader with details of the time it took to process the request. To confirm the creation of the alias, you can look in the Solr Admin UI, under the Cloud section and find the <code>aliases.json</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.5">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Create an alias named "testalias" and link it to the collections named "anotherCollection" and "testCollection".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=CREATEALIAS&amp;name=testalias&amp;collections=anotherCollection,testCollection</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>122<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deletealias">DELETEALIAS: Delete a Collection Alias</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=DELETEALIAS&amp;name=<em>name</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.6">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the alias to delete.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.6">Output</h3>
<div class="paragraph">
<p>The output will simply be a responseHeader with details of the time it took to process the request. To confirm the removal of the alias, you can look in the Solr Admin UI, under the Cloud section, and find the <code>aliases.json</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.6">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Remove the alias named "testalias".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETEALIAS&amp;name=testalias</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>117<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-delete">DELETE: Delete a Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=DELETE&amp;name=<em>collection</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.7">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to delete.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.7">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the cores that were deleted. If the status is anything other than "success", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.7">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Delete the collection named "newCollection".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETE&amp;name=newCollection</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>603<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;10.0.1.6:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>19<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;10.0.1.4:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>67<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deletereplica">DELETEREPLICA: Delete a Replica</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete a named replica from the specified collection and shard. If the corresponding core is up and running the core is unloaded, the entry is removed from the clusterstate, and (by default) delete the instanceDir and dataDir. If the node/core is down, the entry is taken off the clusterstate and if the core comes up later it is automatically unregistered.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=DELETEREPLICA&amp;collection=<em>collection</em>&amp;shard=<em>shard</em>&amp;replica=<em>replica</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.8">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard that includes the replica to be removed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the replica to remove. Not required if <code>count</code> is used instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of replicas to remove. If the requested number exceeds the number of replicas, no replicas will be deleted. If there is only one replica, it will not be removed. This parameter is not required if <code>replica</code> is used instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteInstanceDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the entire instanceDir of the replica that is deleted. Set this to <code>false</code> to prevent the instance directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteDataDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the dataDir of the replica that is deleted. Set this to <code>false</code> to prevent the data directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default Solr will delete the index of the replica that is deleted. Set this to <code>false</code> to prevent the index directory from being deleted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onlyIfDown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to 'true' will not take any action if the replica is active. Default 'false'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.8">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETEREPLICA&amp;collection=test2&amp;shard=shard2&amp;replica=core_node3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>110<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-addreplica">ADDREPLICA: Add Replica</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add a replica to a shard in a collection. The node name can be specified if the replica is to be created in a specific node.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=ADDREPLICA&amp;collection=<em>collection</em>&amp;shard=<em>shard</em>&amp;node=<em>nodeName</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.9">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes*</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The name of the shard to which replica is to be added.</p>
</div>
<div class="paragraph">
<p>If shard is not specified, then <em>route</em> must be.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>route</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No*</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>If the exact shard name is not known, users may pass the <em>route</em> value and the system would identify the name of the shard.</p>
</div>
<div class="paragraph">
<p>Ignored if the shard param is also specified.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the node where the replica should be created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instanceDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The instanceDir for the core that will be created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory in which the core should be created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.9">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICA&amp;collection=test2&amp;shard=shard2&amp;node=192.167.1.2:8983_solr</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3764<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>3450<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>test2_shard2_replica4<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-clusterprop">CLUSTERPROP: Cluster Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add, edit or delete a cluster-wide property.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=CLUSTERPROP&amp;name=<em>propertyName</em>&amp;val=<em>propertyValue</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.10">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the property. The supported properties names are <code>urlScheme</code> and <code>autoAddReplicas and location</code>. Other names are rejected with an error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">val</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value of the property. If the value is empty or null, the property is unset.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.8">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the properties that were updated or removed. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.10">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=CLUSTERPROP&amp;name=urlScheme&amp;val=https</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-migrate">MIGRATE: Migrate Documents to Another Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=MIGRATE&amp;collection=<em>name</em>&amp;split.key=<em>key1!</em>&amp;target.collection=<em>target_collection</em>&amp;forward.timeout=60</code></p>
</div>
<div class="paragraph">
<p>The MIGRATE command is used to migrate all documents having the given routing key to another collection. The source collection will continue to have the same data as-is but it will start re-routing write requests to the target collection for the number of seconds specified by the forward.timeout parameter. It is the responsibility of the user to switch to the target collection for reads and writes after the migrate command completes.</p>
</div>
<div class="paragraph">
<p>The routing key specified by the split.key parameter may span multiple shards on both the source and the target collections. The migration is performed shard-by-shard in a single thread. One or more temporary collections may be created by this command during the migrate process but they are cleaned up at the end automatically.</p>
</div>
<div class="paragraph">
<p>This is a long running operation and therefore using the <code>async</code> parameter is highly recommended. If the async parameter is not specified then the operation is synchronous by default and keeping a large read timeout on the invocation is advised. Even with a large read timeout, the request may still timeout due to inherent limitations of the Collection APIs but that doesnt necessarily mean that the operation has failed. Users should check logs, cluster state, source and target collections before invoking the operation again.</p>
</div>
<div class="paragraph">
<p>This command works only with collections having the compositeId router. The target collection must not receive any writes during the time the migrate command is running otherwise some writes may be lost.</p>
</div>
<div class="paragraph">
<p>Please note that the migrate API does not perform any de-duplication on the documents so if the target collection contains documents with the same uniqueKey as the documents being migrated then the target collection will end up with duplicate documents.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.11">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the source collection from which documents will be split.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target.collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the target collection to which documents will be migrated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">split.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The routing key prefix. For example, if uniqueKey is a!123, then you would use <code>split.key=a!</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">forward.timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timeout, in seconds, until which write requests made to the source collection for the given <code>split.key</code> will be forwarded to the target shard. The default is 60 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See the section <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a> for details on supported properties and values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.9">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.11">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=MIGRATE&amp;collection=test1&amp;split.key=a!&amp;target.collection=test2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>19014<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;success&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>test2_shard1_0_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>BUFFERING<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>2479<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>split_shard1_0_temp_shard1_0_shard1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1002<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>21<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1655<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>split_shard1_0_temp_shard1_0_shard1_replica2<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>4006<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>17<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>test2_shard1_0_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>EMPTY_BUFFER<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;192.168.43.52:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>31<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;192.168.43.52:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>31<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>test2_shard1_1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>BUFFERING<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1742<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>split_shard1_1_temp_shard1_1_shard1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1002<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>15<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1917<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>split_shard1_1_temp_shard1_1_shard1_replica2<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>5007<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>8<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>1<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>test2_shard1_1_replica1<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>EMPTY_BUFFER<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;192.168.43.52:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>30<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;192.168.43.52:8983_solr&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>30<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-addrole">ADDROLE: Add a Role</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=ADDROLE&amp;role=<em>roleName</em>&amp;node=<em>nodeName</em></code></p>
</div>
<div class="paragraph">
<p>Assign a role to a given node in the cluster. The only supported role as of 4.7 is 'overseer'. Use this API to dedicate a particular node as Overseer. Invoke it multiple times to add more nodes. This is useful in large clusters where an Overseer is likely to get overloaded. If available, one among the list of nodes which are assigned the 'overseer' role would become the overseer. The system would assign the role to any other node if none of the designated nodes are up and running.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.12">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">role</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the role. The only supported role as of now is <em>overseer</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the node. It is possible to assign a role even before that node is started.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.10">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the properties that were updated or removed. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.12">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDROLE&amp;role=overseer&amp;node=192.167.1.2:8983_solr</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-removerole">REMOVEROLE: Remove Role</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Remove an assigned role. This API is used to undo the roles assigned using ADDROLE operation</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=REMOVEROLE&amp;role=<em>roleName</em>&amp;node=<em>nodeName</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.13">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">role</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the role. The only supported role as of now is <em>overseer</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the node.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.11">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the properties that were updated or removed. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.13">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=REMOVEROLE&amp;role=overseer&amp;node=192.167.1.2:8983_solr</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-overseerstatus">OVERSEERSTATUS: Overseer Status and Statistics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Returns the current status of the overseer, performance statistics of various overseer APIs, and the last 10 failures per operation type.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=OVERSEERSTATUS</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.14">Examples</h3>
<div class="paragraph">
<p><strong>Input:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=OVERSEERSTATUS&amp;wt=json</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;responseHeader&quot;</span>:{
    <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>:<span style="color: #666666">0</span>,
    <span style="color: #008000; font-weight: bold">&quot;QTime&quot;</span>:<span style="color: #666666">33</span>},
  <span style="color: #008000; font-weight: bold">&quot;leader&quot;</span>:<span style="color: #BA2121">&quot;127.0.1.1:8983_solr&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;overseer_queue_size&quot;</span>:<span style="color: #666666">0</span>,
  <span style="color: #008000; font-weight: bold">&quot;overseer_work_queue_size&quot;</span>:<span style="color: #666666">0</span>,
  <span style="color: #008000; font-weight: bold">&quot;overseer_collection_queue_size&quot;</span>:<span style="color: #666666">2</span>,
  <span style="color: #008000; font-weight: bold">&quot;overseer_operations&quot;</span>:[
    <span style="color: #BA2121">&quot;createcollection&quot;</span>,{
      <span style="color: #008000; font-weight: bold">&quot;requests&quot;</span>:<span style="color: #666666">2</span>,
      <span style="color: #008000; font-weight: bold">&quot;errors&quot;</span>:<span style="color: #666666">0</span>,
      <span style="color: #008000; font-weight: bold">&quot;avgRequestsPerSecond&quot;</span>:<span style="color: #666666">0.7467088842794136</span>,
      <span style="color: #008000; font-weight: bold">&quot;5minRateRequestsPerSecond&quot;</span>:<span style="color: #666666">7.525069023276674</span>,
      <span style="color: #008000; font-weight: bold">&quot;15minRateRequestsPerSecond&quot;</span>:<span style="color: #666666">10.271274280947182</span>,
      <span style="color: #008000; font-weight: bold">&quot;avgTimePerRequest&quot;</span>:<span style="color: #666666">0.5050685</span>,
      <span style="color: #008000; font-weight: bold">&quot;medianRequestTime&quot;</span>:<span style="color: #666666">0.5050685</span>,
      <span style="color: #008000; font-weight: bold">&quot;75thPcRequestTime&quot;</span>:<span style="color: #666666">0.519016</span>,
      <span style="color: #008000; font-weight: bold">&quot;95thPcRequestTime&quot;</span>:<span style="color: #666666">0.519016</span>,
      <span style="color: #008000; font-weight: bold">&quot;99thPcRequestTime&quot;</span>:<span style="color: #666666">0.519016</span>,
      <span style="color: #008000; font-weight: bold">&quot;999thPcRequestTime&quot;</span>:<span style="color: #666666">0.519016</span>},
    <span style="color: #BA2121">&quot;removeshard&quot;</span>,{
      <span style="border: 1px solid #FF0000">...</span>
  }],
  <span style="color: #008000; font-weight: bold">&quot;collection_operations&quot;</span>:[
    <span style="color: #BA2121">&quot;splitshard&quot;</span>,{
      <span style="color: #008000; font-weight: bold">&quot;requests&quot;</span>:<span style="color: #666666">1</span>,
      <span style="color: #008000; font-weight: bold">&quot;errors&quot;</span>:<span style="color: #666666">1</span>,
      <span style="color: #008000; font-weight: bold">&quot;recent_failures&quot;</span>:[{
          <span style="color: #008000; font-weight: bold">&quot;request&quot;</span>:{
            <span style="color: #008000; font-weight: bold">&quot;operation&quot;</span>:<span style="color: #BA2121">&quot;splitshard&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;shard&quot;</span>:<span style="color: #BA2121">&quot;shard2&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;collection&quot;</span>:<span style="color: #BA2121">&quot;example1&quot;</span>},
          <span style="color: #008000; font-weight: bold">&quot;response&quot;</span>:[
            <span style="color: #BA2121">&quot;Operation splitshard caused exception:&quot;</span>,<span style="color: #BA2121">&quot;org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: No shard with the specified name exists: shard2&quot;</span>,
            <span style="color: #BA2121">&quot;exception&quot;</span>,{
              <span style="color: #008000; font-weight: bold">&quot;msg&quot;</span>:<span style="color: #BA2121">&quot;No shard with the specified name exists: shard2&quot;</span>,
              <span style="color: #008000; font-weight: bold">&quot;rspCode&quot;</span>:<span style="color: #666666">400</span>}]}],
      <span style="color: #008000; font-weight: bold">&quot;avgRequestsPerSecond&quot;</span>:<span style="color: #666666">0.8198143044809885</span>,
      <span style="color: #008000; font-weight: bold">&quot;5minRateRequestsPerSecond&quot;</span>:<span style="color: #666666">8.043840552427673</span>,
      <span style="color: #008000; font-weight: bold">&quot;15minRateRequestsPerSecond&quot;</span>:<span style="color: #666666">10.502079828515368</span>,
      <span style="color: #008000; font-weight: bold">&quot;avgTimePerRequest&quot;</span>:<span style="color: #666666">2952.7164175</span>,
      <span style="color: #008000; font-weight: bold">&quot;medianRequestTime&quot;</span>:<span style="color: #666666">2952.7164175000003</span>,
      <span style="color: #008000; font-weight: bold">&quot;75thPcRequestTime&quot;</span>:<span style="color: #666666">5904.384052</span>,
      <span style="color: #008000; font-weight: bold">&quot;95thPcRequestTime&quot;</span>:<span style="color: #666666">5904.384052</span>,
      <span style="color: #008000; font-weight: bold">&quot;99thPcRequestTime&quot;</span>:<span style="color: #666666">5904.384052</span>,
      <span style="color: #008000; font-weight: bold">&quot;999thPcRequestTime&quot;</span>:<span style="color: #666666">5904.384052</span>},
    <span style="border: 1px solid #FF0000">...</span>
  ],
  <span style="color: #008000; font-weight: bold">&quot;overseer_queue&quot;</span>:[
    <span style="border: 1px solid #FF0000">...</span>
  ],
  <span style="border: 1px solid #FF0000">...</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-clusterstatus">CLUSTERSTATUS: Cluster Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fetch the cluster status including collections, shards, replicas, configuration name as well as collection aliases and cluster properties.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=CLUSTERSTATUS</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.14">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The collection name for which information is requested. If omitted, information on all collections in the cluster will be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The shard(s) for which information is requested. Multiple shard names can be specified as a comma separated list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>route</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This can be used if you need the details of the shard where a particular document belongs to and you don&#8217;t know which shard it falls under.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.12">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request and the status of the cluster.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.15">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=clusterstatus&amp;wt=json</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;responseHeader&quot;</span>:{
    <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>:<span style="color: #666666">0</span>,
    <span style="color: #008000; font-weight: bold">&quot;QTime&quot;</span>:<span style="color: #666666">333</span>},
  <span style="color: #008000; font-weight: bold">&quot;cluster&quot;</span>:{
    <span style="color: #008000; font-weight: bold">&quot;collections&quot;</span>:{
      <span style="color: #008000; font-weight: bold">&quot;collection1&quot;</span>:{
        <span style="color: #008000; font-weight: bold">&quot;shards&quot;</span>:{
          <span style="color: #008000; font-weight: bold">&quot;shard1&quot;</span>:{
            <span style="color: #008000; font-weight: bold">&quot;range&quot;</span>:<span style="color: #BA2121">&quot;80000000-ffffffff&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;replicas&quot;</span>:{
              <span style="color: #008000; font-weight: bold">&quot;core_node1&quot;</span>:{
                <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;core&quot;</span>:<span style="color: #BA2121">&quot;collection1&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;node_name&quot;</span>:<span style="color: #BA2121">&quot;127.0.1.1:8983_solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;base_url&quot;</span>:<span style="color: #BA2121">&quot;http://127.0.1.1:8983/solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;leader&quot;</span>:<span style="color: #BA2121">&quot;true&quot;</span>},
              <span style="color: #008000; font-weight: bold">&quot;core_node3&quot;</span>:{
                <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;core&quot;</span>:<span style="color: #BA2121">&quot;collection1&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;node_name&quot;</span>:<span style="color: #BA2121">&quot;127.0.1.1:8900_solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;base_url&quot;</span>:<span style="color: #BA2121">&quot;http://127.0.1.1:8900/solr&quot;</span>}}},
          <span style="color: #008000; font-weight: bold">&quot;shard2&quot;</span>:{
            <span style="color: #008000; font-weight: bold">&quot;range&quot;</span>:<span style="color: #BA2121">&quot;0-7fffffff&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;replicas&quot;</span>:{
              <span style="color: #008000; font-weight: bold">&quot;core_node2&quot;</span>:{
                <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;core&quot;</span>:<span style="color: #BA2121">&quot;collection1&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;node_name&quot;</span>:<span style="color: #BA2121">&quot;127.0.1.1:7574_solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;base_url&quot;</span>:<span style="color: #BA2121">&quot;http://127.0.1.1:7574/solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;leader&quot;</span>:<span style="color: #BA2121">&quot;true&quot;</span>},
              <span style="color: #008000; font-weight: bold">&quot;core_node4&quot;</span>:{
                <span style="color: #008000; font-weight: bold">&quot;state&quot;</span>:<span style="color: #BA2121">&quot;active&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;core&quot;</span>:<span style="color: #BA2121">&quot;collection1&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;node_name&quot;</span>:<span style="color: #BA2121">&quot;127.0.1.1:7500_solr&quot;</span>,
                <span style="color: #008000; font-weight: bold">&quot;base_url&quot;</span>:<span style="color: #BA2121">&quot;http://127.0.1.1:7500/solr&quot;</span>}}}},
        <span style="color: #008000; font-weight: bold">&quot;maxShardsPerNode&quot;</span>:<span style="color: #BA2121">&quot;1&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;router&quot;</span>:{<span style="color: #008000; font-weight: bold">&quot;name&quot;</span>:<span style="color: #BA2121">&quot;compositeId&quot;</span>},
        <span style="color: #008000; font-weight: bold">&quot;replicationFactor&quot;</span>:<span style="color: #BA2121">&quot;1&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;znodeVersion&quot;</span>: <span style="color: #666666">11</span>,
        <span style="color: #008000; font-weight: bold">&quot;autoCreated&quot;</span>:<span style="color: #BA2121">&quot;true&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;configName&quot;</span> : <span style="color: #BA2121">&quot;my_config&quot;</span>,
        <span style="color: #008000; font-weight: bold">&quot;aliases&quot;</span>:[<span style="color: #BA2121">&quot;both_collections&quot;</span>]
      },
      <span style="color: #008000; font-weight: bold">&quot;collection2&quot;</span>:{
        <span style="border: 1px solid #FF0000">...</span>
      }
    },
    <span style="color: #008000; font-weight: bold">&quot;aliases&quot;</span>:{ <span style="color: #008000; font-weight: bold">&quot;both_collections&quot;</span>:<span style="color: #BA2121">&quot;collection1,collection2&quot;</span> },
    <span style="color: #008000; font-weight: bold">&quot;roles&quot;</span>:{
      <span style="color: #008000; font-weight: bold">&quot;overseer&quot;</span>:[
        <span style="color: #BA2121">&quot;127.0.1.1:8983_solr&quot;</span>,
        <span style="color: #BA2121">&quot;127.0.1.1:7574_solr&quot;</span>]
    },
    <span style="color: #008000; font-weight: bold">&quot;live_nodes&quot;</span>:[
      <span style="color: #BA2121">&quot;127.0.1.1:7574_solr&quot;</span>,
      <span style="color: #BA2121">&quot;127.0.1.1:7500_solr&quot;</span>,
      <span style="color: #BA2121">&quot;127.0.1.1:8983_solr&quot;</span>,
      <span style="color: #BA2121">&quot;127.0.1.1:8900_solr&quot;</span>]
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-requeststatus">REQUESTSTATUS: Request Status of an Async Call</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Request the status and response of an already submitted <a href="#CollectionsAPI-AsynchronousCalls">Asynchronous Collection API</a> (below) call. This call is also used to clear up the stored statuses.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=REQUESTSTATUS&amp;requestid=<em>request-id</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.15">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user defined request-id for the request. This can be used to track the status of the submitted asynchronous task.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.16">Examples</h3>
<div class="paragraph">
<p><strong>Input: Valid Request Status</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=REQUESTSTATUS&amp;requestid=1000</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;state&quot;</span><span style="border: 1px solid #FF0000">&gt;completed&lt;/str&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="border: 1px solid #FF0000">&gt;found</span> <span style="color: #666666">1000</span> <span style="border: 1px solid #FF0000">in</span> <span style="border: 1px solid #FF0000">completed</span> <span style="border: 1px solid #FF0000">tasks&lt;/str&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Input: Invalid RequestId</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=REQUESTSTATUS&amp;requestid=1004</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;state&quot;</span><span style="border: 1px solid #FF0000">&gt;notfound&lt;/str&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="border: 1px solid #FF0000">&gt;Did</span> <span style="border: 1px solid #FF0000">not</span> <span style="border: 1px solid #FF0000">find</span> <span style="border: 1px solid #FF0000">taskid</span> [<span style="color: #666666">1004</span>] <span style="border: 1px solid #FF0000">in</span> <span style="border: 1px solid #FF0000">any</span> <span style="border: 1px solid #FF0000">tasks</span> <span style="border: 1px solid #FF0000">queue&lt;/str&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deletestatus">DELETESTATUS: Delete Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete the stored response of an already failed or completed <a href="#CollectionsAPI-AsynchronousCalls">Asynchronous Collection API</a> call.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=DELETESTATUS&amp;requestid=<em>request-id</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.16">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request-id of the async call we need to clear the stored response for.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flush</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to true to clear all stored completed and failed async request responses.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.17">Examples</h3>
<div class="paragraph">
<p><strong>Input: Valid Request Status</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETESTATUS&amp;requestid=foo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;successfully</span> <span style="border: 1px solid #FF0000">removed</span> <span style="border: 1px solid #FF0000">stored</span> <span style="border: 1px solid #FF0000">response</span> <span style="border: 1px solid #FF0000">for</span> [<span style="border: 1px solid #FF0000">foo</span>]<span style="border: 1px solid #FF0000">&lt;/str&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Input: Invalid RequestId</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETESTATUS&amp;requestid=bar</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>[<span style="border: 1px solid #FF0000">bar</span>] <span style="border: 1px solid #FF0000">not</span> <span style="border: 1px solid #FF0000">found</span> <span style="border: 1px solid #FF0000">in</span> <span style="border: 1px solid #FF0000">stored</span> <span style="border: 1px solid #FF0000">responses&lt;/str&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Input: Clearing up all the stored statuses</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETESTATUS&amp;flush=true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span> <span style="border: 1px solid #FF0000">successfully</span> <span style="border: 1px solid #FF0000">cleared</span> <span style="border: 1px solid #FF0000">stored</span> <span style="border: 1px solid #FF0000">collection</span> <span style="border: 1px solid #FF0000">api</span> <span style="border: 1px solid #FF0000">responses</span> <span style="border: 1px solid #FF0000">&lt;/str&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-list">LIST: List Collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fetch the names of the collections in the cluster.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=LIST</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Example">Example</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=LIST&amp;wt=json</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;responseHeader&quot;</span>:{
    <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>:<span style="color: #666666">0</span>,
    <span style="color: #008000; font-weight: bold">&quot;QTime&quot;</span>:<span style="color: #666666">2011</span>},
  <span style="color: #008000; font-weight: bold">&quot;collections&quot;</span>:[<span style="color: #BA2121">&quot;collection1&quot;</span>,
    <span style="color: #BA2121">&quot;example1&quot;</span>,
    <span style="color: #BA2121">&quot;example2&quot;</span>]}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-addreplicaprop">ADDREPLICAPROP: Add Replica Property</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Assign an arbitrary property to a particular replica and give it the value specified. If the property already exists, it will be overwritten with the new value.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=ADDREPLICAPROP&amp;collection=collectionName&amp;shard=shardName&amp;replica=replicaName&amp;property=propertyName&amp;property.value=value</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.17">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection this replica belongs to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard the replica belongs to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The replica, e.g. core_node1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property (1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The property to add. Note: this will have the literal 'property.' prepended to distinguish it from system-maintained properties. So these two forms are equivalent:</p>
</div>
<div class="paragraph">
<p><code>property=special</code></p>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="paragraph">
<p><code>property=property.special</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value to assign to the property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shardUnique (1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">default: false. If true, then setting this property in one replica will remove the property from all other replicas in that shard.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>\(1) There is one pre-defined property "preferredLeader" for which shardUnique is forced to 'true' and an error returned if shardUnique is explicitly set to 'false'. PreferredLeader is a boolean property, any value assigned that is not equal (case insensitive) to 'true' will be interpreted as 'false' for preferredLeader.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.13">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.18">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>This command would set the preferredLeader (<code>property.preferredLeader</code>) to true on core_node1, and remove that property from any other replica in the shard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node1&amp;property=preferredLeader&amp;property.value=true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>46<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>This pair of commands will set the "testprop" (<code>property.testprop</code>) to 'value1' and 'value2' respectively for two nodes in the same shard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node1&amp;property=testprop&amp;property.value=value1</span>

<span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node3&amp;property=property.testprop&amp;property.value=value2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>This pair of commands would result in core_node_3 having the testprop (<code>property.testprop</code>) value set because the second command specifies <code>shardUnique=true</code>, which would cause the property to be removed from core_node_1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node1&amp;property=testprop&amp;property.value=value1</span>

<span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=ADDREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node3&amp;property=testprop&amp;property.value=value2&amp;shardUnique=true</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deletereplicaprop">DELETEREPLICAPROP: Delete Replica Property</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deletes an arbitrary property from a particular replica.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=DELETEREPLICAPROP&amp;collection=collectionName&amp;shard=<em>shardName</em>&amp;replica=<em>replicaName</em>&amp;property=<em>propertyName</em></code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.18">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection this replica belongs to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard the replica belongs to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replica</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The replica, e.g. core_node1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The property to add. Note: this will have the literal 'property.' prepended to distinguish it from system-maintained properties. So these two forms are equivalent:</p>
</div>
<div class="paragraph">
<p><code>property=special</code></p>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="paragraph">
<p><code>property=property.special</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.14">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.19">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>This command would delete the preferredLeader (<code>property.preferredLeader</code>) from core_node1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=DELETEREPLICAPROP&amp;shard=shard1&amp;collection=collection1&amp;replica=core_node1&amp;property=preferredLeader</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>9<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-balanceshardunique">BALANCESHARDUNIQUE: Balance a Property Across Nodes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>/admin/collections?action=BALANCESHARDUNIQUE&amp;collection=<em>collectionName</em>&amp;property=<em>propertyName</em></code></p>
</div>
<div class="paragraph">
<p>Insures that a particular property is distributed evenly amongst the physical nodes that make up a collection. If the property already exists on a replica, every effort is made to leave it there. If the property is <strong>not</strong> on any replica on a shard, one is chosen and the property is added.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.19">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to balance the property in.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The property to balance. The literal "property." is prepended to this property if not specified explicitly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onlyactivenodes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to true. Normally, the property is instantiated on active nodes only. If this parameter is specified as "false", then inactive nodes are also included for distribution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shardUnique</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Something of a safety valve. There is one pre-defined property (preferredLeader) that defaults this value to "true". For all other properties that are balanced, this must be set to "true" or an error message is returned.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.15">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.20">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Either of these commands would put the "preferredLeader" property on one replica in every shard in the "collection1" collection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=BALANCESHARDUNIQUE&amp;collection=collection1&amp;property=preferredLeader</span>

<span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=BALANCESHARDUNIQUE&amp;collection=collection1&amp;property=property.preferredLeader</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>9<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Examining the clusterstate after issuing this call should show exactly one replica in each shard that has this property.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-rebalanceleaders">REBALANCELEADERS: Rebalance Leaders</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reassign leaders in a collection according to the preferredLeader property across active nodes.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=REBALANCELEADERS&amp;collection=collectionName</code></p>
</div>
<div class="paragraph">
<p>Assigns leaders in a collection according to the preferredLeader property on active nodes. This command should be run after the preferredLeader property has been assigned via the BALANCESHARDUNIQUE or ADDREPLICAPROP commands. NOTE: it is not <em>required</em> that all shards in a collection have a preferredLeader property. Rebalancing will only attempt to reassign leadership to those replicas that have the preferredLeader property set to "true" <em>and</em> are not currently the shard leader <em>and</em> are currently active.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.20">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to rebalance preferredLeaders on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxAtOnce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of reassignments to have queue up at once. Values &#8656;0 are use the default value Integer.MAX_VALUE. When this number is reached, the process waits for one or more leaders to be successfully assigned before adding more to the queue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxWaitSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to 60. This is the timeout value when waiting for leaders to be reassigned. NOTE: if maxAtOnce is less than the number of reassignments that will take place, this is the maximum interval that any <em>single</em> wait for at least one reassignment. For example, if 10 reassignments are to take place and maxAtOnce is 1 and maxWaitSeconds is 60, the upper bound on the time that the command may wait is 10 minutes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Output.16">Output</h3>
<div class="paragraph">
<p>The response will include the status of the request. If the status is anything other than "0", an error message will explain why the request failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Examples.21">Examples</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="paragraph">
<p>Either of these commands would cause all the active replicas that had the "preferredLeader" property set and were <em>not</em> already the preferred leader to become leaders.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=REBALANCELEADERS&amp;collection=collection1</span>
<span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=REBALANCELEADERS&amp;collection=collection1&amp;maxAtOnce=5&amp;maxWaitSeconds=30</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="paragraph">
<p>In this example, two replicas in the "alreadyLeaders" section already had the leader assigned to the same node as the preferredLeader property so no action was taken. The replica in the "inactivePreferreds" section had the preferredLeader property set but the node was down and no action was taken. The three nodes in the "successes" section were made leaders because they had the preferredLeader property set but were not leaders and they were active.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;response&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>0<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;int</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>123<span style="color: #008000; font-weight: bold">&lt;/int&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;alreadyLeaders&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core_node1&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>success<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Already leader<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;nodeName&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>192.168.1.167:7400_solr<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core_node17&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>success<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Already leader<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;nodeName&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>192.168.1.167:7600_solr<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;inactivePreferreds&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;core_node4&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>skipped<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Node is a referredLeader, but it&#39;s inactive. Skipping<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;nodeName&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>192.168.1.167:7500_solr<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;successes&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;_collection1_shard3_replica1&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>success<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        Assigned &#39;Collection: &#39;collection1&#39;, Shard: &#39;shard3&#39;, Core: &#39;collection1_shard3_replica1&#39;, BaseUrl:
        &#39;http://192.168.1.167:8983/solr&#39;&#39; to be leader
      <span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;_collection1_shard5_replica3&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>success<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        Assigned &#39;Collection: &#39;collection1&#39;, Shard: &#39;shard5&#39;, Core: &#39;collection1_shard5_replica3&#39;, BaseUrl:
        &#39;http://192.168.1.167:7200/solr&#39;&#39; to be leader
      <span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;_collection1_shard4_replica2&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>success<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
      <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;msg&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        Assigned &#39;Collection: &#39;collection1&#39;, Shard: &#39;shard4&#39;, Core: &#39;collection1_shard4_replica2&#39;, BaseUrl:
        &#39;http://192.168.1.167:7300/solr&#39;&#39; to be leader
      <span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/response&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Examining the clusterstate after issuing this call should show that every live node that has the "preferredLeader" property should also have the "leader" property set to <em>true</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-forceleader">FORCELEADER: Force Shard Leader</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the unlikely event of a shard losing its leader, this command can be invoked to force the election of a new leader</p>
</div>
<div class="literalblock">
<div class="content">
<pre>/admin/collections?action=FORCELEADER&amp;collection=&lt;collectionName&gt;&amp;shard=&lt;shardName&gt;</pre>
</div>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.21">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the shard</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is an expert level command, and should be invoked only when regular leader election is not working. This may potentially lead to loss of data in the event that the new leader doesn&#8217;t have certain updates, possibly recent ones, which were acknowledged by the old leader before going down.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-migratestateformat">MIGRATESTATEFORMAT: Migrate Cluster State</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Expert level utility API to move a collection from shared <code>clusterstate.json</code> zookeeper node (created with <code>stateFormat=1</code>, the default in all Solr releases prior to 5.0) to the per-collection <code>state.json</code> stored in ZooKeeper (created with <code>stateFormat=2</code>, the current default) seamlessly without any application down-time.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=MIGRATESTATEFORMAT&amp;collection=&lt;collection_name&gt;</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection to be migrated from <code>clusterstate.json</code> to its own <code>state.json</code> zookeeper node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This API is useful in migrating any collections created prior to Solr 5.0 to the more scalable cluster state format now used by default. If a collection was created in any Solr 5.x version or higher, then executing this command is not necessary.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-backup">BACKUP: Backup Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Backup Solr collections and it&#8217;s associated configurations to a shared filesystem - for example a Network File System</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=BACKUP&amp;name=myBackupName&amp;collection=myCollectionName&amp;location=/path/to/my/shared/drive</code></p>
</div>
<div class="paragraph">
<p>The backup command will backup Solr indexes and configurations for a specified collection. The backup command takes one copy from each shard for the indexes. For configurations it backs up the configSet that was associated with the collection and metadata.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.22">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the collection that needs to be backed up</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location on the shared drive for the backup command to write to. Alternately it can be set as a <a href="#CollectionsAPI-api11">cluster property</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the repository to be used for the backup. If no repository is specified then the local filesystem repository will be used automatically.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-restore">RESTORE: Restore Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Restores Solr indexes and associated configurations.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=RESTORE&amp;name=myBackupName&amp;location=/path/to/my/shared/drive&amp;collection=myRestoredCollectionName</code></p>
</div>
<div class="paragraph">
<p>The restore operation will create a collection with the specified name in the collection parameter. You cannot restore into the same collection the backup was taken from and the target collection should not be present at the time the API is called as Solr will create it for you.</p>
</div>
<div class="paragraph">
<p>The collection created will be of the same number of shards and replicas as the original collection, preserving routing information, etc. Optionally, you can override some parameters documented below. While restoring, if a configSet with the same name exists in ZooKeeper then Solr will reuse that, or else it will upload the backed up configSet in ZooKeeper and use that.</p>
</div>
<div class="paragraph">
<p>You can use the collection <a href="#CollectionsAPI-api4">alias</a> API to make sure client&#8217;s don&#8217;t need to change the endpoint to query or index against the newly restored collection.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.23">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The collection where the indexes will be restored into.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location on the shared drive for the restore command to read from. Alternately it can be set as a <a href="#CollectionsAPI-api11">cluster property</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the repository to be used for the backup. If no repository is specified then the local filesystem repository will be used automatically.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additionally, there are several parameters that can be overridden:</p>
</div>
<div class="paragraph">
<p><strong>Override Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collection.configName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the name of the configurations to use for this collection. These must already be stored in ZooKeeper. If not provided, Solr will default to the collection name as the configuration name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replicationFactor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of replicas to be created for each shard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxShardsPerNode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When creating collections, the shards and/or replicas are spread across all available (i.e., live) nodes, and two replicas of the same shard will never be on the same node. If a node is not live when the CREATE operation is called, it will not get any parts of the new collection, which could lead to too many replicas being created on a single live node. Defining <code>maxShardsPerNode</code> sets a limit on the number of replicas CREATE will spread to each node. If the entire collection can not be fit into the live nodes, no collection will be created at all.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autoAddReplicas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to true, enables auto addition of replicas on shared file systems. See the section <a href="running-solr-on-hdfs.html#RunningSolronHDFS-AutomaticallyAddReplicasinSolrCloud">Automatically Add Replicas in SolrCloud</a> for more details on settings and overrides.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property.<em>name</em>=<em>value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set core property <em>name</em> to <em>value</em>. See the section <a href="defining-core-properties.html#defining-core-properties">Defining core.properties</a> for details on supported properties and values.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-deletenode">DELETENODE: Delete Replicas in a Node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deletes all replicas of all collections in that node. Please note that the node itself will remain as a live node after this operation.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=DELETENODE&amp;node=nodeName</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.24">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The node to be cleaned up</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-replacenode">REPLACENODE: Move All Replicas in a Node to Another</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This command recreates replicas in the source node to the target node. After each replica is copied, the replicas in the source node are deleted.</p>
</div>
<div class="paragraph">
<p><code>/admin/collections?action=REPLACENODE&amp;source=&lt;source-node&gt;&amp;target=&lt;target-node&gt;</code></p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Input.25">Input</h3>
<div class="paragraph">
<p><strong>Query Parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source node from which the replicas need to be copied from</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The target node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parallel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">default=false. if this flag is set to true, all replicas are created inseparatee threads. Keep in mind that this can lead to very high network and disk I/O if the replicas have very large indices.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request ID to track this action which will be <a href="#CollectionsAPI-AsynchronousCalls">processed asynchronously</a>.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This operation does not hold necessary locks on the replicas that belong to on the source node. So don&#8217;t perform other collection operations in this period.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="CollectionsAPI-async">Asynchronous Calls</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since some collection API calls can be long running tasks e.g. Shard Split, you can optionally have the calls run asynchronously. Specifying <code>async=&lt;request-id&gt;</code> enables you to make an asynchronous call, the status of which can be requested using the <a href="#CollectionsAPI-RequestStatus">REQUESTSTATUS</a> call at any time.</p>
</div>
<div class="paragraph">
<p>As of now, REQUESTSTATUS does not automatically clean up the tracking data structures, meaning the status of completed or failed tasks stays stored in ZooKeeper unless cleared manually. DELETESTATUS can be used to clear the stored statuses. However, there is a limit of 10,000 on the number of async call responses stored in a cluster.</p>
</div>
<div class="sect2">
<h3 id="CollectionsAPI-Example.1">Example</h3>
<div class="paragraph">
<p><strong>Input</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span style="color: #A0A000">http:</span><span style="color: #408080; font-style: italic">//localhost:8983/solr/admin/collections?action=SPLITSHARD&amp;collection=collection1&amp;shard=shard1&amp;async=1000</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span style="border: 1px solid #FF0000">&lt;response&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;lst</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;responseHeader&quot;</span><span style="border: 1px solid #FF0000">&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;status&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">0</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
    <span style="border: 1px solid #FF0000">&lt;int</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;QTime&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">99</span><span style="border: 1px solid #FF0000">&lt;/int&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;/lst&gt;</span>
  <span style="border: 1px solid #FF0000">&lt;str</span> <span style="border: 1px solid #FF0000">name=</span><span style="color: #BA2121">&quot;requestid&quot;</span><span style="border: 1px solid #FF0000">&gt;</span><span style="color: #666666">1000</span><span style="border: 1px solid #FF0000">&lt;/str&gt;</span>
<span style="border: 1px solid #FF0000">&lt;/response&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Adds tags, if any -->
    <div class="tags">
        
    </div>

<!-- Adds nav links on each page -->
    
    
    <div class="scrollnav">
      
      <a class="btn btn-primary prev" href="zookeeper-access-control.html">ZooKeeper Access Control</a>
      
      
      <a class="btn btn-primary next" href="parameter-reference.html">Parameter Reference</a>
      
    </div>
    

</div>

<!-- Adds comments from Apache's Comment system -->

<div id="comments_thread">
</div>
<script type="text/javascript" src="https://comments.apache.org/show_comments.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=collections-api" async="true">
</script>
<noscript>
<iframe width="100%" height="500" src="https://comments.apache.org/iframe.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=collections-api"></iframe>
</noscript>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Apache Software Foundation. All rights reserved. <br />
 Site last generated: 2017-04-26 <br />
<p><img src="solr-sunOnly-small.png" alt="Apache Solr"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->
</div>

</body>

</html>
