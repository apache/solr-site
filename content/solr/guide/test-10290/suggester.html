<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Suggester | Apache Solr Reference Guide</title>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-solr.css">
<link rel="stylesheet" href="css/ref-guide.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="Apache Solr Reference Guide" href="https://home.apache.org/~ctargett/RefGuidePOC/jekyll-full/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // we do *NOT* want cookies used to save the current stage of the sidebar
                             // instead the code in sidebar.html will ensure that the current page
                             // (and it's ancestors) are "active" on page load
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="apache-solr-reference-guide.html">&nbsp;<span class="projectTitle"> Solr Ref Guide 7.0</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- Link to Solr website -->
                <li><a href="https://lucene.apache.org/solr/news" target="_blank">Solr News</a></li>
                <!-- Solr Resources dropdown -->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Solr Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                       <li><a href="https://lucene.apache.org/solr/7_0_0//solr-core/index.html" target="_blank">Solr Javadocs</a></li>
                       <li><a href="https://git1-us-west.apache.org/repos/asf?p=lucene-solr.git" target="_blank">Lucene/Solr Source Code</a></li>
                       <li><a href="https://lucene.apache.org/solr/resources.html#community" target="_blank">Solr Community Links</a></li>
                    </ul>
                </li>
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Suggester">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div class="col-lg-12">&nbsp;</div>
  <!-- Content Row -->
  <div class="row">
    <!-- Sidebar Column -->
    <div class="col-md-3">
      

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Apache Solr Reference Guide <!-- TODO: version from site.data --></li>
  
  <li class="sb-level1">
    <a href="about-this-guide.html">About This Guide</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="getting-started.html">Getting Started</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="installing-solr.html">Installing Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr.html">Running Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-quick-overview.html">A Quick Overview</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="a-step-closer.html">A Step Closer</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-control-script-reference.html">Solr Control Script Reference</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-solr.html">Upgrading Solr</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="using-the-solr-administration-user-interface.html">Using the Solr Administration User Interface</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-the-solr-admin-ui.html">Overview of the Solr Admin UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="getting-assistance.html">Getting Assistance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="logging.html">Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cloud-screens.html">Cloud Screens</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collections-core-admin.html">Collections / Core Admin</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="java-properties.html">Java Properties</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="thread-dump.html">Thread Dump</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collection-specific-tools.html">Collection-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="analysis-screen.html">Analysis Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="dataimport-screen.html">Dataimport Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="documents-screen.html">Documents Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="files-screen.html">Files Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-screen.html">Query Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="stream-screen.html">Stream Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-browser-screen.html">Schema Browser Screen</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="core-specific-tools.html">Core-Specific Tools</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="ping.html">Ping</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="plugins-stats-screen.html">Plugins &amp; Stats Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="replication-screen.html">Replication Screen</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="segments-info.html">Segments Info</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="documents-fields-and-schema-design.html">Documents, Fields, and Schema Design</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-documents-fields-and-schema-design.html">Overview of Documents, Fields, and Schema Design</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-field-types.html">Solr Field Types</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="field-type-definitions-and-properties.html">Field Type Definitions and Properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-types-included-with-solr.html">Field Types Included with Solr</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-currencies-and-exchange-rates.html">Working with Currencies and Exchange Rates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-dates.html">Working with Dates</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-enum-fields.html">Working with Enum Fields</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="working-with-external-files-and-processes.html">Working with External Files and Processes</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="field-properties-by-use-case.html">Field Properties by Use Case</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="defining-fields.html">Defining Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="copying-fields.html">Copying Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="dynamic-fields.html">Dynamic Fields</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="other-schema-elements.html">Other Schema Elements</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schema-api.html">Schema API</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="putting-the-pieces-together.html">Putting the Pieces Together</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="docvalues.html">DocValues</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="schemaless-mode.html">Schemaless Mode</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="understanding-analyzers-tokenizers-and-filters.html">Understanding Analyzers, Tokenizers, and Filters</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="analyzers.html">Analyzers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-tokenizers.html">About Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="about-filters.html">About Filters</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="tokenizers.html">Tokenizers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="filter-descriptions.html">Filter Descriptions</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="charfilterfactories.html">CharFilterFactories</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="language-analysis.html">Language Analysis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="phonetic-matching.html">Phonetic Matching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-your-analyzer.html">Running Your Analyzer</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="indexing-and-basic-data-operations.html">Indexing and Basic Data Operations</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-solr-indexing.html">Introduction to Solr Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="post-tool.html">Post Tool</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-index-handlers.html">Uploading Data with Index Handlers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="transforming-and-indexing-custom-json.html">Transforming and Indexing Custom JSON</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-data-with-solr-cell-using-apache-tika.html">Uploading Data with Solr Cell using Apache Tika</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uploading-structured-data-store-data-with-the-data-import-handler.html">Uploading Structured Data Store Data with the Data Import Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="updating-parts-of-documents.html">Updating Parts of Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="detecting-languages-during-indexing.html">Detecting Languages During Indexing</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="de-duplication.html">De-Duplication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="content-streams.html">Content Streams</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="uima-integration.html">UIMA Integration</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="searching.html">Searching</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="overview-of-searching-in-solr.html">Overview of Searching in Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="velocity-search-ui.html">Velocity Search UI</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="relevance.html">Relevance</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-syntax-and-parsing.html">Query Syntax and Parsing</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="common-query-parameters.html">Common Query Parameters</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-standard-query-parser.html">The Standard Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-dismax-query-parser.html">The DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="the-extended-dismax-query-parser.html">The Extended DisMax Query Parser</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="function-queries.html">Function Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="local-parameters-in-queries.html">Local Parameters in Queries</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="other-parsers.html">Other Parsers</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="faceting.html">Faceting</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blockjoin-faceting.html">BlockJoin Faceting</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="highlighting.html">Highlighting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spell-checking.html">Spell Checking</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="query-re-ranking.html">Query Re-Ranking</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="learning-to-rank.html">Learning To Rank</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="transforming-result-documents.html">Transforming Result Documents</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="suggester.html">Suggester</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="morelikethis.html">MoreLikeThis</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="pagination-of-results.html">Pagination of Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="collapse-and-expand-results.html">Collapse and Expand Results</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-grouping.html">Result Grouping</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="result-clustering.html">Result Clustering</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="spatial-search.html">Spatial Search</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-terms-component.html">The Terms Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-term-vector-component.html">The Term Vector Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-stats-component.html">The Stats Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="the-query-elevation-component.html">The Query Elevation Component</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="response-writers.html">Response Writers</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="velocity-response-writer.html">Velocity Response Writer</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="near-real-time-searching.html">Near Real Time Searching</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="realtime-get.html">RealTime Get</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="exporting-result-sets.html">Exporting Result Sets</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="streaming-expressions.html">Streaming Expressions</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="graph-traversal.html">Graph Traversal</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="parallel-sql-interface.html">Parallel SQL Interface</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="solr-jdbc-dbvisualizer.html">Solr JDBC - DbVisualizer</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-squirrel-sql.html">Solr JDBC - SQuirreL SQL</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-apache-zeppelin.html">Solr JDBC - Apache Zeppelin</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-python-jython.html">Solr JDBC - Python/Jython</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solr-jdbc-r.html">Solr JDBC - R</a>
            
          </li>
          
        </ul>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="the-well-configured-solr-instance.html">The Well-Configured Solr Instance</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="configuring-solrconfig-xml.html">Configuring solrconfig.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="datadir-and-directoryfactory-in-solrconfig.html">DataDir and DirectoryFactory in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="lib-directives-in-solrconfig.html">Lib Directives in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="schema-factory-definition-in-solrconfig.html">Schema Factory Definition in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="indexconfig-in-solrconfig.html">IndexConfig in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requesthandlers-and-searchcomponents-in-solrconfig.html">RequestHandlers and SearchComponents in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="initparams-in-solrconfig.html">InitParams in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="updatehandlers-in-solrconfig.html">UpdateHandlers in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="query-settings-in-solrconfig.html">Query Settings in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="requestdispatcher-in-solrconfig.html">RequestDispatcher in SolrConfig</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="update-request-processors.html">Update Request Processors</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="codec-factory.html">Codec Factory</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-cores-and-solr-xml.html">Solr Cores and solr.xml</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="format-of-solr-xml.html">Format of solr.xml</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="defining-core-properties.html">Defining core.properties</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="coreadmin-api.html">CoreAdmin API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-sets.html">Config Sets</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuration-apis.html">Configuration APIs</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="blob-store-api.html">Blob Store API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="config-api.html">Config API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="request-parameters-api.html">Request Parameters API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="managed-resources.html">Managed Resources</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="implicit-requesthandlers.html">Implicit RequestHandlers</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="solr-plugins.html">Solr Plugins</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="adding-custom-plugins-in-solrcloud-mode.html">Adding Custom Plugins in SolrCloud Mode</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="jvm-settings.html">JVM Settings</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="managing-solr.html">Managing Solr</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="taking-solr-to-production.html">Taking Solr to Production</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="securing-solr.html">Securing Solr</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="authentication-and-authorization-plugins.html">Authentication and Authorization Plugins</a>
            
            <ul>
              
              <li class="sb-level4">
                <a href="basic-authentication-plugin.html">Basic Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="hadoop-authentication-plugin.html">Hadoop Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="kerberos-authentication-plugin.html">Kerberos Authentication Plugin</a>
                
              </li>
              
              <li class="sb-level4">
                <a href="rule-based-authorization-plugin.html">Rule-Based Authorization Plugin</a>
                
              </li>
              
            </ul>
            
          </li>
          
          <li class="sb-level3">
            <a href="enabling-ssl.html">Enabling SSL</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="running-solr-on-hdfs.html">Running Solr on HDFS</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="making-and-restoring-backups.html">Making and Restoring Backups</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="configuring-logging.html">Configuring Logging</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-jmx-with-solr.html">Using JMX with Solr</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="mbean-request-handler.html">MBean Request Handler</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="performance-statistics-reference.html">Performance Statistics Reference</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="metrics-reporting.html">Metrics Reporting</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="v2-api.html">v2 API</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="solrcloud.html">SolrCloud</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="getting-started-with-solrcloud.html">Getting Started with SolrCloud</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="how-solrcloud-works.html">How SolrCloud Works</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="shards-and-indexing-data-in-solrcloud.html">Shards and Indexing Data in SolrCloud</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="distributed-requests.html">Distributed Requests</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="read-and-write-side-fault-tolerance.html">Read and Write Side Fault Tolerance</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="solrcloud-configuration-and-parameters.html">SolrCloud Configuration and Parameters</a>
        
        <ul>
          
          <li class="sb-level3">
            <a href="setting-up-an-external-zookeeper-ensemble.html">Setting Up an External ZooKeeper Ensemble</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="using-zookeeper-to-manage-configuration-files.html">Using ZooKeeper to Manage Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="zookeeper-access-control.html">ZooKeeper Access Control</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="collections-api.html">Collections API</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="parameter-reference.html">Parameter Reference</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="command-line-utilities.html">Command Line Utilities</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="solrcloud-with-legacy-configuration-files.html">SolrCloud with Legacy Configuration Files</a>
            
          </li>
          
          <li class="sb-level3">
            <a href="configsets-api.html">ConfigSets API</a>
            
          </li>
          
        </ul>
        
      </li>
      
      <li class="sb-level2">
        <a href="rule-based-replica-placement.html">Rule-based Replica Placement</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="cross-data-center-replication-cdcr-.html">Cross Data Center Replication (CDCR)</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="legacy-scaling-and-distribution.html">Legacy Scaling and Distribution</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-scaling-and-distribution.html">Introduction to Scaling and Distribution</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="distributed-search-with-index-sharding.html">Distributed Search with Index Sharding</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="index-replication.html">Index Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="combining-distribution-and-replication.html">Combining Distribution and Replication</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="merging-indexes.html">Merging Indexes</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="client-apis.html">Client APIs</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="introduction-to-client-apis.html">Introduction to Client APIs</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="choosing-an-output-format.html">Choosing an Output Format</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="client-api-lineup.html">Client API Lineup</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-javascript.html">Using JavaScript</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-python.html">Using Python</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solrj.html">Using SolrJ</a>
        
      </li>
      
      <li class="sb-level2">
        <a href="using-solr-from-ruby.html">Using Solr From Ruby</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="major-changes-from-solr-5-to-solr-6.html">Major Changes from Solr 5 to Solr 6</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="upgrading-a-solr-cluster.html">Upgrading a Solr Cluster</a>
    
    <ul>
      
      <li class="sb-level2">
        <a href="indexupgrader-tool.html">IndexUpgrader Tool</a>
        
      </li>
      
    </ul>
    
  </li>
  
  <li class="sb-level1">
    <a href="further-assistance.html">Further Assistance</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="solr-glossary.html">Solr Glossary</a>
    
  </li>
  
  <li class="sb-level1">
    <a href="errata.html">Errata</a>
    
  </li>
  
</ul>


<!-- set the 'active' class on the current page and ancestors -->
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("#mysidebar a[href='suggester.html']").parents('li').toggleClass("active", true);</script>
<!-- set the 'current' class on the current page and 'current-tree' on the current page + it's ancestors -->
<!-- this can let us do css highlighting of the current page in the sidebar even if/when the user clicks around in the sidebar causing other sidebar elements to be 'active' -->
<script>
  $("#mysidebar a[href='suggester.html']").parent('li').toggleClass("current", true);
  $("#mysidebar a[href='suggester.html']").parents('li').toggleClass("current-tree", true);
</script>

    </div>
    <!-- Content Column -->
    <div class="col-md-9">
      <div class="post-header">
   <h1 class="post-title-main">Suggester</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 2, listType: 'ul', showSpeed: 0, headers: 'h2,h3' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    

<div id="main-content">
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The SuggestComponent in Solr provides users with automatic suggestions for query terms. You can use this to implement a powerful auto-suggest feature in your search application.</p>
</div>
<div class="paragraph">
<p>Although it is possible to use the <a href="spell-checking.html#spell-checking">Spell Checking</a> functionality to power autosuggest behavior, Solr has a dedicated <a href="http://lucene.apache.org/solr/api/solr-core/org/apache/solr/handler/component/SuggestComponent.html">SuggestComponent</a> designed for this functionality. This approach utilizes Lucene&#8217;s Suggester implementation and supports all of the lookup implementations available in Lucene.</p>
</div>
<div class="paragraph">
<p>The main features of this Suggester are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lookup implementation pluggability</p>
</li>
<li>
<p>Term dictionary pluggability, giving you the flexibility to choose the dictionary implementation</p>
</li>
<li>
<p>Distributed support</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>solrconfig.xml</code> found in Solr&#8217;s &#8220;<code>techproducts</code>&#8221; example has the new Suggester implementation configured already. For more on search components, see the section <a href="requesthandlers-and-searchcomponents-in-solrconfig.html#requesthandlers-and-searchcomponents-in-solrconfig">RequestHandlers and SearchComponents in SolrConfig</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Suggester-ConfiguringSuggesterinsolrconfig.xml">Configuring Suggester in solrconfig.xml</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The &#8220;<code>techproducts</code>&#8221; example <code>solrconfig.xml</code> has a <code>suggest</code> search component and a <code>/suggest</code> request handler already configured. You can use that as the basis for your configuration, or create it from scratch, as detailed below.</p>
</div>
<div class="sect2">
<h3 id="Suggester-AddingtheSuggestSearchComponent">Adding the Suggest Search Component</h3>
<div class="paragraph">
<p>The first step is to add a search component to <code>solrconfig.xml</code> and tell it to use the SuggestComponent. Here is some sample code that could be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;searchComponent</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggest&quot;</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.SuggestComponent&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggester&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;name&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>mySuggester<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;lookupImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>FuzzyLookupFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;dictionaryImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>DocumentDictionaryFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;field&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>cat<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;weightField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>price<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggestAnalyzerFieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>string<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;buildOnStartup&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>false<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/searchComponent&gt;</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="Suggester-SuggesterSearchComponentParameters">Suggester Search Component Parameters</h4>
<div class="paragraph">
<p>The Suggester search component takes several configuration parameters. The choice of the lookup implementation (<code>lookupImpl</code>, how terms are found in the suggestion dictionary) and the dictionary implementation (<code>dictionaryImpl</code>, how terms are stored in the suggestion dictionary) will dictate some of the parameters required. Below are the main parameters that can be used no matter what lookup or dictionary implementation is used. In the following sections additional parameters are provided for each implementation.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">searchComponent name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arbitrary name for the search component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A symbolic name for this suggester. You can refer to this name in the URL parameters and in the SearchHandler configuration. It is possible to have mutiples of these</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lookupImpl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lookup implementation. There are several possible implementations, described below in the section <a href="#Suggester-LookupImplementations">Lookup Implementations</a>. If not set, the default lookup is JaspellLookupFactory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dictionaryImpl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The dictionary implementation to use. There are several possible implementations, described below in the section <a href="#Suggester-DictionaryImplementations">Dictionary Implementations</a> . If not set, the default dictionary implementation is HighFrequencyDictionaryFactory unless a <code>sourceLocation</code> is used, in which case, the dictionary implementation will be FileDictionaryFactory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A field from the index to use as the basis of suggestion terms. If <code>sourceLocation</code> is empty (meaning any dictionary implementation other than FileDictionaryFactory) then terms from this field in the index will be used.</p>
</div>
<div class="paragraph">
<p>To be used as the basis for a suggestion, the field must be stored. You may want to <a href="copying-fields.html#copying-fields">use copyField rules</a> to create a special 'suggest' field comprised of terms from other fields in documents. In any event, you likely want a minimal amount of analysis on the field, so an additional option is to create a field type in your schema that only uses basic tokenizers or filters. One option for such a field type is shown here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;fieldType</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.TextField&quot;</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;textSuggest&quot;</span> <span style="color: #7D9029">positionIncrementGap=</span><span style="color: #BA2121">&quot;100&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;analyzer&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;tokenizer</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.StandardTokenizerFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;filter</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.StandardFilterFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;filter</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.LowerCaseFilterFactory&quot;</span><span style="color: #008000; font-weight: bold">/&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/analyzer&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/fieldType&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>However, this minimal analysis is not required if you want more analysis to occur on terms. If using the AnalyzingLookupFactory as your lookupImpl, however, you have the option of defining the field type rules to use for index and query time analysis.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceLocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the dictionary file if using the FileDictionaryFactory. If this value is empty then the main index will be used as a source of terms and weights.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storeDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location to store the dictionary file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buildOnCommit or buildOnOptimize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true then the lookup data structure will be rebuilt after soft-commit. If false, the default, then the lookup data will be built only when requested by URL parameter <code>suggest.build=true</code>. Use <code>buildOnCommit</code> to rebuild the dictionary with every soft-commit, or <code>buildOnOptimize</code> to build the dictionary only when the index is optimized. Some lookup implementations may take a long time to build, specially with large indexes, in such cases, using buildOnCommit or buildOnOptimize, particularly with a high frequency of softCommits is not recommended, and it&#8217;s recommended instead to build the suggester at a lower frequency by manually issuing requests with <code>suggest.build=true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buildOnStartup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true then the lookup data structure will be built when Solr starts or when the core is reloaded. If this parameter is not specified, the suggester will check if the lookup data structure is present on disk and build it if not found. Enabling this to true could lead to the core talking longer to load (or reload) as the suggester data structure needs to be built, which can sometimes take a long time. Itâ€™s usually preferred to have this setting set to 'false' and build suggesters manually issuing requests with <code>suggest.build=true</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="Suggester-LookupImplementations">Lookup Implementations</h4>
<div class="paragraph">
<p>The <code>lookupImpl</code> parameter defines the algorithms used to look up terms in the suggest index. There are several possible implementations to choose from, and some require additional parameters to be configured.</p>
</div>
<div class="sect4">
<h5 id="Suggester-AnalyzingLookupFactory">AnalyzingLookupFactory</h5>
<div class="paragraph">
<p>A lookup that first analyzes the incoming text and adds the analyzed form to a weighted FST, and then does the same thing at lookup time.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>suggestAnalyzerFieldType: The field type to use for the query-time and build-time term suggestion analysis.</p>
</li>
<li>
<p>exactMatchFirst: If true, the default, exact suggestions are returned first, even if they are prefixes or other strings in the FST have larger weights.</p>
</li>
<li>
<p>preserveSep: If true, the default, then a separator between tokens is preserved. This means that suggestions are sensitive to tokenization (e.g., baseball is different from base ball).</p>
</li>
<li>
<p>preservePositionIncrements: If true, the suggester will preserve position increments. This means that token filters which leave gaps (for example, when StopFilter matches a stopword) the position would be respected when building the suggester. The default is false.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-FuzzyLookupFactory">FuzzyLookupFactory</h5>
<div class="paragraph">
<p>This is a suggester which is an extension of the AnalyzingSuggester but is fuzzy in nature. The similarity is measured by the Levenshtein algorithm.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exactMatchFirst: If true, the default, exact suggestions are returned first, even if they are prefixes or other strings in the FST have larger weights.</p>
</li>
<li>
<p>preserveSep: If true, the default, then a separator between tokens is preserved. This means that suggestions are sensitive to tokenization (e.g., baseball is different from base ball).</p>
</li>
<li>
<p>maxSurfaceFormsPerAnalyzedForm: Maximum number of surface forms to keep for a single analyzed form. When there are too many surface forms we discard the lowest weighted ones.</p>
</li>
<li>
<p>maxGraphExpansions: When building the FST ("index-time"), we add each path through the tokenstream graph as an individual entry. This places an upper-bound on how many expansions will be added for a single suggestion. The default is -1 which means there is no limit.</p>
</li>
<li>
<p>preservePositionIncrements: If true, the suggester will preserve position increments. This means that token filters which leave gaps (for example, when StopFilter matches a stopword) the position would be respected when building the suggester. The default is false.</p>
</li>
<li>
<p>maxEdits: The maximum number of string edits allowed. The systems hard limit is 2. The default is 1.</p>
</li>
<li>
<p>transpositions: If true, the default, transpositions should be treated as a primitive edit operation.</p>
</li>
<li>
<p>nonFuzzyPrefix: The length of the common non fuzzy prefix match which must match a suggestion. The default is 1.</p>
</li>
<li>
<p>minFuzzyLength: The minimum length of query before which any string edits will be allowed. The default is 3.</p>
</li>
<li>
<p>unicodeAware: If true, maxEdits, minFuzzyLength, transpositions and nonFuzzyPrefix parameters will be measured in unicode code points (actual letters) instead of bytes. The default is false.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-AnalyzingInfixLookupFactory">AnalyzingInfixLookupFactory</h5>
<div class="paragraph">
<p>Analyzes the input text and then suggests matches based on prefix matches to any tokens in the indexed text. This uses a Lucene index for its dictionary.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>indexPath: When using AnalyzingInfixSuggester you can provide your own path where the index will get built. The default is analyzingInfixSuggesterIndexDir and will be created in your collections data directory.</p>
</li>
<li>
<p>minPrefixChars: Minimum number of leading characters before PrefixQuery is used (default is 4). Prefixes shorter than this are indexed as character ngrams (increasing index size but making lookups faster).</p>
</li>
<li>
<p>allTermsRequired: Boolean option for multiple terms. Default is true - all terms required.</p>
</li>
<li>
<p>highlight: Highlight suggest terms. Default is true.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This implementation supports <a href="#Suggester-ContextFiltering">Context Filtering</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-BlendedInfixLookupFactory">BlendedInfixLookupFactory</h5>
<div class="paragraph">
<p>An extension of the AnalyzingInfixSuggester which provides additional functionality to weight prefix matches across the matched documents. You can tell it to score higher if a hit is closer to the start of the suggestion or vice versa.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>blenderType: used to calculate weight coefficient using the position of the first matching word. Can be one of:</p>
<div class="ulist">
<ul>
<li>
<p>position_linear: weightFieldValue*(1 - 0.10*position): Matches to the start will be given a higher score (Default)</p>
</li>
<li>
<p>position_reciprocal: weightFieldValue/(1+position): Matches to the end will be given a higher score.</p>
<div class="ulist">
<ul>
<li>
<p>exponent: an optional configuration variable for the position_reciprocal blenderType used to control how fast the score will increase or decrease. Default 2.0.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>numFactor: The factor to multiply the number of searched elements from which results will be pruned. Default is 10.</p>
</li>
<li>
<p>indexPath: When using BlendedInfixSuggester you can provide your own path where the index will get built. The default directory name is blendedInfixSuggesterIndexDir and will be created in your collections data directory.</p>
</li>
<li>
<p>minPrefixChars: Minimum number of leading characters before PrefixQuery is used (default 4). Prefixes shorter than this are indexed as character ngrams (increasing index size but making lookups faster).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This implementation supports <a href="#Suggester-ContextFiltering">Context Filtering</a> .</p>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-FreeTextLookupFactory">FreeTextLookupFactory</h5>
<div class="paragraph">
<p>It looks at the last tokens plus the prefix of whatever final token the user is typing, if present, to predict the most likely next token. The number of previous tokens that need to be considered can also be specified. This suggester would only be used as a fallback, when the primary suggester fails to find any suggestions.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>suggestFreeTextAnalyzerFieldType: The analyzer used at "query-time" and "build-time" to analyze suggestions. This field is required.</p>
</li>
<li>
<p>ngrams: The max number of tokens out of which singles will be make the dictionary. The default value is 2. Increasing this would mean you want more than the previous 2 tokens to be taken into consideration when making the suggestions.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-FSTLookupFactory">FSTLookupFactory</h5>
<div class="paragraph">
<p>An automaton-based lookup. This implementation is slower to build, but provides the lowest memory cost. We recommend using this implementation unless you need more sophisticated matching results, in which case you should use the Jaspell implementation.</p>
</div>
<div class="paragraph">
<p>This implementation uses the following additional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exactMatchFirst: If true, the default, exact suggestions are returned first, even if they are prefixes or other strings in the FST have larger weights.</p>
</li>
<li>
<p>weightBuckets: The number of separate buckets for weights which the suggester will use while building its dictionary.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-TSTLookupFactory">TSTLookupFactory</h5>
<div class="paragraph">
<p>A simple compact ternary trie based lookup.</p>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-WFSTLookupFactory">WFSTLookupFactory</h5>
<div class="paragraph">
<p>A weighted automaton representation which is an alternative to FSTLookup for more fine-grained ranking. WFSTLookup does not use buckets, but instead a shortest path algorithm. Note that it expects weights to be whole numbers. If weight is missing it&#8217;s assumed to be 1.0. Weights affect the sorting of matching suggestions when <code>spellcheck.onlyMorePopular=true</code> is selected: weights are treated as "popularity" score, with higher weights preferred over suggestions with lower weights.</p>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-JaspellLookupFactory">JaspellLookupFactory</h5>
<div class="paragraph">
<p>A more complex lookup based on a ternary trie from the <a href="http://jaspell.sourceforge.net/">JaSpell</a> project. Use this implementation if you need more sophisticated matching results.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="Suggester-DictionaryImplementations">Dictionary Implementations</h4>
<div class="paragraph">
<p>The dictionary implementations define how terms are stored. There are several options, and multiple dictionaries can be used in a single request if necessary.</p>
</div>
<div class="sect4">
<h5 id="Suggester-DocumentDictionaryFactory">DocumentDictionaryFactory</h5>
<div class="paragraph">
<p>A dictionary with terms, weights, and an optional payload taken from the index.</p>
</div>
<div class="paragraph">
<p>This dictionary implementation takes the following parameters in addition to parameters described for the Suggester generally and for the lookup implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>weightField: A field that is stored or a numeric DocValue field. This field is optional.</p>
</li>
<li>
<p>payloadField: The payloadField should be a field that is stored. This field is optional.</p>
</li>
<li>
<p>contextField: Field to be used for context filtering. Note that only some lookup implementations support filtering.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-DocumentExpressionDictionaryFactory">DocumentExpressionDictionaryFactory</h5>
<div class="paragraph">
<p>This dictionary implementation is the same as the DocumentDictionaryFactory but allows users to specify an arbitrary expression into the 'weightExpression' tag.</p>
</div>
<div class="paragraph">
<p>This dictionary implementation takes the following parameters in addition to parameters described for the Suggester generally and for the lookup implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>payloadField: The payloadField should be a field that is stored. This field is optional.</p>
</li>
<li>
<p>weightExpression: An arbitrary expression used for scoring the suggestions. The fields used must be numeric fields. This field is required.</p>
</li>
<li>
<p>contextField: Field to be used for context filtering. Note that only some lookup implementations support filtering.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-HighFrequencyDictionaryFactory">HighFrequencyDictionaryFactory</h5>
<div class="paragraph">
<p>This dictionary implementation allows adding a threshold to prune out less frequent terms in cases where very common terms may overwhelm other terms.</p>
</div>
<div class="paragraph">
<p>This dictionary implementation takes one parameter in addition to parameters described for the Suggester generally and for the lookup implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>threshold: A value between zero and one representing the minimum fraction of the total documents where a term should appear in order to be added to the lookup dictionary.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="Suggester-FileDictionaryFactory">FileDictionaryFactory</h5>
<div class="paragraph">
<p>This dictionary implementation allows using an external file that contains suggest entries. Weights and payloads can also be used.</p>
</div>
<div class="paragraph">
<p>If using a dictionary file, it should be a plain text file in UTF-8 encoding. You can use both single terms and phrases in the dictionary file. If adding weights or payloads, those should be separated from terms using the delimiter defined with the <code>fieldDelimiter</code> property (the default is '\t', the tab representation). If using payloads, the first line in the file <strong>must</strong> specify a payload.</p>
</div>
<div class="paragraph">
<p>This dictionary implementation takes one parameter in addition to parameters described for the Suggester generally and for the lookup implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fieldDelimiter: Specify the delimiter to be used separating the entries, weights and payloads. The default is tab ('\t').</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text">acquire
accidentally    2.0
accommodate 3.0</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="Suggester-MultipleDictionaries">Multiple Dictionaries</h4>
<div class="paragraph">
<p>It is possible to include multiple dictionaryImpl definitions in a single SuggestComponent definition.</p>
</div>
<div class="paragraph">
<p>To do this, simply define separate suggesters, as in this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;searchComponent</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggest&quot;</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.SuggestComponent&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggester&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;name&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>mySuggester<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;lookupImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>FuzzyLookupFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;dictionaryImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>DocumentDictionaryFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;field&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>cat<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;weightField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>price<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggestAnalyzerFieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>string<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggester&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;name&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>altSuggester<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;dictionaryImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>DocumentExpressionDictionaryFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;lookupImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>FuzzyLookupFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;field&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>product_name<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;weightExpression&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>((price * 2) + ln(popularity))<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;sortField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>weight<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;sortField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>price<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;storeDir&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>suggest_fuzzy_doc_expr_dict<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggestAnalyzerFieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>text_en<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/searchComponent&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When using these Suggesters in a query, you would define multiple 'suggest.dictionary' parameters in the request, referring to the names given for each Suggester in the search component definition. The response will include the terms in sections for each Suggester. See the <a href="#Suggester-ExampleUsages">Examples</a> section below for an example request and response.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Suggester-AddingtheSuggestRequestHandler">Adding the Suggest Request Handler</h3>
<div class="paragraph">
<p>After adding the search component, a request handler must be added to <code>solrconfig.xml</code>. This request handler works the <a href="requesthandlers-and-searchcomponents-in-solrconfig.html#requesthandlers-and-searchcomponents-in-solrconfig">same as any other request handler</a>, and allows you to configure default parameters for serving suggestion requests. The request handler definition must incorporate the "suggest" search component defined previously.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;requestHandler</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;/suggest&quot;</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.SearchHandler&quot;</span> <span style="color: #7D9029">startup=</span><span style="color: #BA2121">&quot;lazy&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;defaults&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggest&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>true<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggest.count&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>10<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;arr</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;components&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str&gt;</span>suggest<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/arr&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/requestHandler&gt;</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="Suggester-SuggestRequestHandlerParameters">Suggest Request Handler Parameters</h4>
<div class="paragraph">
<p>The following parameters allow you to set defaults for the Suggest request handler:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest=true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This parameter should always be true, because we always want to run the Suggester for queries submitted to this handler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.dictionary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dictionary component configured in the search component. This is a mandatory parameter. It can be set in the request handler, or sent as a parameter at query time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.q</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query to use for suggestion lookups.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the number of suggestions for Solr to return.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.cfq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Context Filter Query used to filter suggestions based on the context field, if supported by the suggester.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.build</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, it will build the suggester index. This is likely useful only for initial requests; you would probably not want to build the dictionary on every request, particularly in a production system. If you would like to keep your dictionary up to date, you should use the <code>buildOnCommit</code> or <code>buildOnOptimize</code> parameter for the search component.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.reload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, it will reload the suggester index.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.buildAll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, it will build all suggester indexes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">suggest.reloadAll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, it will reload all suggester indexes.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These properties can also be overridden at query time, or not set in the request handler at all and always sent at query time.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Context Filtering</div>
<div class="paragraph">
<p>Context filtering (<code>suggest.cfq</code>) is currently only supported by AnalyzingInfixLookupFactory and BlendedInfixLookupFactory, and only when backed by a Document*Dictionary. All other implementations will return unfiltered matches as if filtering was not requested.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Suggester-ExampleUsages">Example Usages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Suggester-GetSuggestionswithWeights">Get Suggestions with Weights</h3>
<div class="paragraph">
<p>This is the basic suggestion using a single dictionary and a single Solr core.</p>
</div>
<div class="paragraph">
<p>Example query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text">http://localhost:8983/solr/techproducts/suggest?suggest=true&amp;suggest.build=true&amp;suggest.dictionary=mySuggester&amp;wt=json&amp;suggest.q=elec</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we&#8217;ve simply requested the string 'elec' with the suggest.q parameter and requested that the suggestion dictionary be built with suggest.build (note, however, that you would likely not want to build the index on every query - instead you should use buildOnCommit or buildOnOptimize if you have regularly changing documents).</p>
</div>
<div class="paragraph">
<p>Example response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;responseHeader&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>: <span style="color: #666666">0</span>,
    <span style="color: #008000; font-weight: bold">&quot;QTime&quot;</span>: <span style="color: #666666">35</span>
  },
  <span style="color: #008000; font-weight: bold">&quot;command&quot;</span>: <span style="color: #BA2121">&quot;build&quot;</span>,
  <span style="color: #008000; font-weight: bold">&quot;suggest&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;mySuggester&quot;</span>: {
      <span style="color: #008000; font-weight: bold">&quot;elec&quot;</span>: {
        <span style="color: #008000; font-weight: bold">&quot;numFound&quot;</span>: <span style="color: #666666">3</span>,
        <span style="color: #008000; font-weight: bold">&quot;suggestions&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;term&quot;</span>: <span style="color: #BA2121">&quot;electronics and computer1&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;weight&quot;</span>: <span style="color: #666666">2199</span>,
            <span style="color: #008000; font-weight: bold">&quot;payload&quot;</span>: <span style="color: #BA2121">&quot;&quot;</span>
          },
          {
            <span style="color: #008000; font-weight: bold">&quot;term&quot;</span>: <span style="color: #BA2121">&quot;electronics&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;weight&quot;</span>: <span style="color: #666666">649</span>,
            <span style="color: #008000; font-weight: bold">&quot;payload&quot;</span>: <span style="color: #BA2121">&quot;&quot;</span>
          },
          {
            <span style="color: #008000; font-weight: bold">&quot;term&quot;</span>: <span style="color: #BA2121">&quot;electronics and stuff2&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;weight&quot;</span>: <span style="color: #666666">279</span>,
            <span style="color: #008000; font-weight: bold">&quot;payload&quot;</span>: <span style="color: #BA2121">&quot;&quot;</span>
          }
        ]
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Suggester-MultipleDictionaries.1">Multiple Dictionaries</h3>
<div class="paragraph">
<p>If you have defined multiple dictionaries, you can use them in queries.</p>
</div>
<div class="paragraph">
<p>Example query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text">http://localhost:8983/solr/techproducts/suggest?suggest=true&amp; \
    suggest.dictionary=mySuggester&amp;suggest.dictionary=altSuggester&amp;wt=json&amp;suggest.q=elec</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example we have sent the string 'elec' as the suggest.q parameter and named two suggest.dictionary definitions to be used.</p>
</div>
<div class="paragraph">
<p>Example response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json">{
  <span style="color: #008000; font-weight: bold">&quot;responseHeader&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;status&quot;</span>: <span style="color: #666666">0</span>,
    <span style="color: #008000; font-weight: bold">&quot;QTime&quot;</span>: <span style="color: #666666">3</span>
  },
  <span style="color: #008000; font-weight: bold">&quot;suggest&quot;</span>: {
    <span style="color: #008000; font-weight: bold">&quot;mySuggester&quot;</span>: {
      <span style="color: #008000; font-weight: bold">&quot;elec&quot;</span>: {
        <span style="color: #008000; font-weight: bold">&quot;numFound&quot;</span>: <span style="color: #666666">1</span>,
        <span style="color: #008000; font-weight: bold">&quot;suggestions&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;term&quot;</span>: <span style="color: #BA2121">&quot;electronics and computer1&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;weight&quot;</span>: <span style="color: #666666">100</span>,
            <span style="color: #008000; font-weight: bold">&quot;payload&quot;</span>: <span style="color: #BA2121">&quot;&quot;</span>
          }
        ]
      }
    },
    <span style="color: #008000; font-weight: bold">&quot;altSuggester&quot;</span>: {
      <span style="color: #008000; font-weight: bold">&quot;elec&quot;</span>: {
        <span style="color: #008000; font-weight: bold">&quot;numFound&quot;</span>: <span style="color: #666666">1</span>,
        <span style="color: #008000; font-weight: bold">&quot;suggestions&quot;</span>: [
          {
            <span style="color: #008000; font-weight: bold">&quot;term&quot;</span>: <span style="color: #BA2121">&quot;electronics and computer1&quot;</span>,
            <span style="color: #008000; font-weight: bold">&quot;weight&quot;</span>: <span style="color: #666666">10</span>,
            <span style="color: #008000; font-weight: bold">&quot;payload&quot;</span>: <span style="color: #BA2121">&quot;&quot;</span>
          }
        ]
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Suggester-ContextFiltering">Context Filtering</h3>
<div class="paragraph">
<p>Context filtering lets you filter suggestions by a separate context field, such as category, department or any other token. The AnalyzingInfixLookupFactory and BlendedInfixLookupFactory currently support this feature, when backed by DocumentDictionaryFactory.</p>
</div>
<div class="paragraph">
<p>Add <code>contextField</code> to your suggester configuration. This example will suggest names and allow to filter by category:</p>
</div>
<div class="paragraph">
<p><strong>solrconfig.xml</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span style="color: #008000; font-weight: bold">&lt;searchComponent</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggest&quot;</span> <span style="color: #7D9029">class=</span><span style="color: #BA2121">&quot;solr.SuggestComponent&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;lst</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggester&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;name&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>mySuggester<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;lookupImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>AnalyzingInfixLookupFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;dictionaryImpl&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>DocumentDictionaryFactory<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;field&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>name<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;weightField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>price<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;contextField&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>cat<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;suggestAnalyzerFieldType&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>string<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;str</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;buildOnStartup&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>false<span style="color: #008000; font-weight: bold">&lt;/str&gt;</span>
  <span style="color: #008000; font-weight: bold">&lt;/lst&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/searchComponent&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example context filtering suggest query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="text">http://localhost:8983/solr/techproducts/suggest?suggest=true&amp;suggest.build=true&amp; \
   suggest.dictionary=mySuggester&amp;wt=json&amp;suggest.q=c&amp;suggest.cfq=memory</code></pre>
</div>
</div>
<div class="paragraph">
<p>The suggester will only bring back suggestions for products tagged with cat=memory.</p>
</div>
</div>
</div>
</div>
</div>

<!-- Adds tags, if any -->
    <div class="tags">
        
    </div>

<!-- Adds nav links on each page -->
    
    
    <div class="scrollnav">
      
      <a class="btn btn-primary prev" href="transforming-result-documents.html">Transforming Result Documents</a>
      
      
      <a class="btn btn-primary next" href="morelikethis.html">MoreLikeThis</a>
      
    </div>
    

</div>

<!-- Adds comments from Apache's Comment system -->

<div id="comments_thread">
</div>
<script type="text/javascript" src="https://comments.apache.org/show_comments.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=suggester" async="true">
</script>
<noscript>
<iframe width="100%" height="500" src="https://comments.apache.org/iframe.lua?site=solrcwiki&style=https://home.apache.org/~ctargett/RefGuidePOC/jekyll/css/comments.css&page=suggester"></iframe>
</noscript>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Apache Software Foundation. All rights reserved. <br />
 Site last generated: 2017-04-26 <br />
<p><img src="solr-sunOnly-small.png" alt="Apache Solr"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->
</div>

</body>

</html>
